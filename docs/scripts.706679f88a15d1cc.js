var El=Object.defineProperty,wl=Object.defineProperties,Tl=Object.getOwnPropertyDescriptors,ba=Object.getOwnPropertySymbols,xl=Object.prototype.hasOwnProperty,Il=Object.prototype.propertyIsEnumerable,Ea=(M,Q,Ot)=>Q in M?El(M,Q,{enumerable:!0,configurable:!0,writable:!0,value:Ot}):M[Q]=Ot,ir=(M,Q)=>{for(var Ot in Q||(Q={}))xl.call(Q,Ot)&&Ea(M,Ot,Q[Ot]);if(ba)for(var Ot of ba(Q))Il.call(Q,Ot)&&Ea(M,Ot,Q[Ot]);return M},ms=(M,Q)=>wl(M,Tl(Q));(function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M="undefined"!=typeof globalThis?globalThis:M||self).bootstrap=Q()})(this,function(){"use strict";const M="transitionend",Q=T=>{let r=T.getAttribute("data-bs-target");if(!r||"#"===r){let f=T.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),r=f&&"#"!==f?f.trim():null}return r},Ot=T=>{const r=Q(T);return r&&document.querySelector(r)?r:null},D=T=>{const r=Q(T);return r?document.querySelector(r):null},y=T=>{T.dispatchEvent(new Event(M))},p=T=>!(!T||"object"!=typeof T)&&(void 0!==T.jquery&&(T=T[0]),void 0!==T.nodeType),I=T=>p(T)?T.jquery?T[0]:T:"string"==typeof T&&T.length>0?document.querySelector(T):null,E=T=>{if(!p(T)||0===T.getClientRects().length)return!1;const r="visible"===getComputedStyle(T).getPropertyValue("visibility"),f=T.closest("details:not([open])");if(!f)return r;if(f!==T){const z=T.closest("summary");if(z&&z.parentNode!==f||null===z)return!1}return r},k=T=>!T||T.nodeType!==Node.ELEMENT_NODE||!!T.classList.contains("disabled")||(void 0!==T.disabled?T.disabled:T.hasAttribute("disabled")&&"false"!==T.getAttribute("disabled")),G=T=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof T.getRootNode){const r=T.getRootNode();return r instanceof ShadowRoot?r:null}return T instanceof ShadowRoot?T:T.parentNode?G(T.parentNode):null},q=()=>{},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Z=[],et=()=>"rtl"===document.documentElement.dir,gt=T=>{var r;r=()=>{const f=x();if(f){const z=T.NAME,mt=f.fn[z];f.fn[z]=T.jQueryInterface,f.fn[z].Constructor=T,f.fn[z].noConflict=()=>(f.fn[z]=mt,T.jQueryInterface)}},"loading"===document.readyState?(Z.length||document.addEventListener("DOMContentLoaded",()=>{for(const f of Z)f()}),Z.push(r)):r()},at=T=>{"function"==typeof T&&T()},_t=(T,r,f=!0)=>{if(!f)return void at(T);const z=(Bt=>{if(!Bt)return 0;let{transitionDuration:$t,transitionDelay:pe}=window.getComputedStyle(Bt);const Be=Number.parseFloat($t),Ve=Number.parseFloat(pe);return Be||Ve?($t=$t.split(",")[0],pe=pe.split(",")[0],1e3*(Number.parseFloat($t)+Number.parseFloat(pe))):0})(r)+5;let mt=!1;const ft=({target:Bt})=>{Bt===r&&(mt=!0,r.removeEventListener(M,ft),at(T))};r.addEventListener(M,ft),setTimeout(()=>{mt||y(r)},z)},Xt=(T,r,f,z)=>{const mt=T.length;let ft=T.indexOf(r);return-1===ft?!f&&z?T[mt-1]:T[0]:(ft+=f?1:-1,z&&(ft=(ft+mt)%mt),T[Math.max(0,Math.min(ft,mt-1))])},re=/[^.]*(?=\..*)\.|.*/,le=/\..*/,be=/::\d+$/,yt={};let Ie=1;const je={mouseenter:"mouseover",mouseleave:"mouseout"},_e=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function De(T,r){return r&&`${r}::${Ie++}`||T.uidEvent||Ie++}function Pe(T){const r=De(T);return T.uidEvent=r,yt[r]=yt[r]||{},yt[r]}function xn(T,r,f=null){return Object.values(T).find(z=>z.callable===r&&z.delegationSelector===f)}function Fn(T,r,f){const z="string"==typeof r,mt=z?f:r||f;let ft=Te(T);return _e.has(ft)||(ft=T),[z,mt,ft]}function Gn(T,r,f,z,mt){if("string"!=typeof r||!T)return;let[ft,Bt,$t]=Fn(r,f,z);var Tn;r in je&&(Tn=Bt,Bt=function(ln){if(!ln.relatedTarget||ln.relatedTarget!==ln.delegateTarget&&!ln.delegateTarget.contains(ln.relatedTarget))return Tn.call(this,ln)});const pe=Pe(T),Be=pe[$t]||(pe[$t]={}),Ve=xn(Be,Bt,ft?f:null);if(Ve)return void(Ve.oneOff=Ve.oneOff&&mt);const ye=De(Bt,r.replace(re,"")),Pn=ft?function(nn,Tn,ln){return function _n(Jn){const Li=nn.querySelectorAll(Tn);for(let{target:zn}=Jn;zn&&zn!==this;zn=zn.parentNode)for(const pi of Li)if(pi===zn)return ei(Jn,{delegateTarget:zn}),_n.oneOff&&jt.off(nn,Jn.type,Tn,ln),ln.apply(zn,[Jn])}}(T,f,Bt):function(nn,Tn){return function ln(_n){return ei(_n,{delegateTarget:nn}),ln.oneOff&&jt.off(nn,_n.type,Tn),Tn.apply(nn,[_n])}}(T,Bt);Pn.delegationSelector=ft?f:null,Pn.callable=Bt,Pn.oneOff=mt,Pn.uidEvent=ye,Be[ye]=Pn,T.addEventListener($t,Pn,ft)}function Ne(T,r,f,z,mt){const ft=xn(r[f],z,mt);ft&&(T.removeEventListener(f,ft,Boolean(mt)),delete r[f][ft.uidEvent])}function qn(T,r,f,z){const mt=r[f]||{};for(const ft of Object.keys(mt))if(ft.includes(z)){const Bt=mt[ft];Ne(T,r,f,Bt.callable,Bt.delegationSelector)}}function Te(T){return T=T.replace(le,""),je[T]||T}const jt={on(T,r,f,z){Gn(T,r,f,z,!1)},one(T,r,f,z){Gn(T,r,f,z,!0)},off(T,r,f,z){if("string"!=typeof r||!T)return;const[mt,ft,Bt]=Fn(r,f,z),$t=Bt!==r,pe=Pe(T),Be=pe[Bt]||{},Ve=r.startsWith(".");if(void 0===ft){if(Ve)for(const ye of Object.keys(pe))qn(T,pe,ye,r.slice(1));for(const ye of Object.keys(Be)){const Pn=ye.replace(be,"");if(!$t||r.includes(Pn)){const nn=Be[ye];Ne(T,pe,Bt,nn.callable,nn.delegationSelector)}}}else{if(!Object.keys(Be).length)return;Ne(T,pe,Bt,ft,mt?f:null)}},trigger(T,r,f){if("string"!=typeof r||!T)return null;const z=x();let mt=null,ft=!0,Bt=!0,$t=!1;r!==Te(r)&&z&&(mt=z.Event(r,f),z(T).trigger(mt),ft=!mt.isPropagationStopped(),Bt=!mt.isImmediatePropagationStopped(),$t=mt.isDefaultPrevented());let pe=new Event(r,{bubbles:ft,cancelable:!0});return pe=ei(pe,f),$t&&pe.preventDefault(),Bt&&T.dispatchEvent(pe),pe.defaultPrevented&&mt&&mt.preventDefault(),pe}};function ei(T,r){for(const[f,z]of Object.entries(r||{}))try{T[f]=z}catch(mt){Object.defineProperty(T,f,{configurable:!0,get:()=>z})}return T}const W=new Map,Vt={set(T,r,f){W.has(T)||W.set(T,new Map);const z=W.get(T);z.has(r)||0===z.size?z.set(r,f):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(z.keys())[0]}.`)},get:(T,r)=>W.has(T)&&W.get(T).get(r)||null,remove(T,r){if(!W.has(T))return;const f=W.get(T);f.delete(r),0===f.size&&W.delete(T)}};function X(T){if("true"===T)return!0;if("false"===T)return!1;if(T===Number(T).toString())return Number(T);if(""===T||"null"===T)return null;if("string"!=typeof T)return T;try{return JSON.parse(decodeURIComponent(T))}catch(r){return T}}function m(T){return T.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const O={setDataAttribute(T,r,f){T.setAttribute(`data-bs-${m(r)}`,f)},removeDataAttribute(T,r){T.removeAttribute(`data-bs-${m(r)}`)},getDataAttributes(T){if(!T)return{};const r={},f=Object.keys(T.dataset).filter(z=>z.startsWith("bs")&&!z.startsWith("bsConfig"));for(const z of f){let mt=z.replace(/^bs/,"");mt=mt.charAt(0).toLowerCase()+mt.slice(1,mt.length),r[mt]=X(T.dataset[z])}return r},getDataAttribute:(T,r)=>X(T.getAttribute(`data-bs-${m(r)}`))};class F{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,f){const z=p(f)?O.getDataAttribute(f,"config"):{};return ir(ir(ir(ir({},this.constructor.Default),"object"==typeof z?z:{}),p(f)?O.getDataAttributes(f):{}),"object"==typeof r?r:{})}_typeCheckConfig(r,f=this.constructor.DefaultType){for(const mt of Object.keys(f)){const ft=f[mt],Bt=r[mt],$t=p(Bt)?"element":null==(z=Bt)?`${z}`:Object.prototype.toString.call(z).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ft).test($t))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${mt}" provided type "${$t}" but expected type "${ft}".`)}var z}}class w extends F{constructor(r,f){super(),(r=I(r))&&(this._element=r,this._config=this._getConfig(f),Vt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Vt.remove(this._element,this.constructor.DATA_KEY),jt.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,f,z=!0){_t(r,f,z)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return Vt.get(I(r),this.DATA_KEY)}static getOrCreateInstance(r,f={}){return this.getInstance(r)||new this(r,"object"==typeof f?f:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const B=(T,r="hide")=>{const z=T.NAME;jt.on(document,`click.dismiss${T.EVENT_KEY}`,`[data-bs-dismiss="${z}"]`,function(mt){if(["A","AREA"].includes(this.tagName)&&mt.preventDefault(),k(this))return;const ft=D(this)||this.closest(`.${z}`);T.getOrCreateInstance(ft)[r]()})};class Y extends w{static get NAME(){return"alert"}close(){if(jt.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const r=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),jt.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(r){return this.each(function(){const f=Y.getOrCreateInstance(this);if("string"==typeof r){if(void 0===f[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);f[r](this)}})}}B(Y,"close"),gt(Y);const it='[data-bs-toggle="button"]';class St extends w{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(r){return this.each(function(){const f=St.getOrCreateInstance(this);"toggle"===r&&f[r]()})}}jt.on(document,"click.bs.button.data-api",it,T=>{T.preventDefault();const r=T.target.closest(it);St.getOrCreateInstance(r).toggle()}),gt(St);const ut={find:(T,r=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(r,T)),findOne:(T,r=document.documentElement)=>Element.prototype.querySelector.call(r,T),children:(T,r)=>[].concat(...T.children).filter(f=>f.matches(r)),parents(T,r){const f=[];let z=T.parentNode.closest(r);for(;z;)f.push(z),z=z.parentNode.closest(r);return f},prev(T,r){let f=T.previousElementSibling;for(;f;){if(f.matches(r))return[f];f=f.previousElementSibling}return[]},next(T,r){let f=T.nextElementSibling;for(;f;){if(f.matches(r))return[f];f=f.nextElementSibling}return[]},focusableChildren(T){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(r,T).filter(f=>!k(f)&&E(f))}},Ut={endCallback:null,leftCallback:null,rightCallback:null},Ft={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class b extends F{constructor(r,f){super(),this._element=r,r&&b.isSupported()&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Ut}static get DefaultType(){return Ft}static get NAME(){return"swipe"}dispose(){jt.off(this._element,".bs.swipe")}_start(r){this._supportPointerEvents?this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX):this._deltaX=r.touches[0].clientX}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),at(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=40)return;const f=r/this._deltaX;this._deltaX=0,f&&at(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(jt.on(this._element,"pointerdown.bs.swipe",r=>this._start(r)),jt.on(this._element,"pointerup.bs.swipe",r=>this._end(r)),this._element.classList.add("pointer-event")):(jt.on(this._element,"touchstart.bs.swipe",r=>this._start(r)),jt.on(this._element,"touchmove.bs.swipe",r=>this._move(r)),jt.on(this._element,"touchend.bs.swipe",r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&("pen"===r.pointerType||"touch"===r.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const c="next",h="prev",j="left",U="right",$="slid.bs.carousel",K="carousel",ct="active",It={ArrowLeft:U,ArrowRight:j},Pt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},tt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Mt extends w{constructor(r,f){super(r,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ut.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===K&&this.cycle()}static get Default(){return Pt}static get DefaultType(){return tt}static get NAME(){return"carousel"}next(){this._slide(c)}nextWhenVisible(){!document.hidden&&E(this._element)&&this.next()}prev(){this._slide(h)}pause(){this._isSliding&&y(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?jt.one(this._element,$,()=>this.cycle()):this.cycle())}to(r){const f=this._getItems();if(r>f.length-1||r<0)return;if(this._isSliding)return void jt.one(this._element,$,()=>this.to(r));const z=this._getItemIndex(this._getActive());z!==r&&this._slide(r>z?c:h,f[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&jt.on(this._element,"keydown.bs.carousel",r=>this._keydown(r)),"hover"===this._config.pause&&(jt.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),jt.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&b.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of ut.find(".carousel-item img",this._element))jt.on(f,"dragstart.bs.carousel",z=>z.preventDefault());this._swipeHelper=new b(this._element,{leftCallback:()=>this._slide(this._directionToOrder(j)),rightCallback:()=>this._slide(this._directionToOrder(U)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const f=It[r.key];f&&(r.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const f=ut.findOne(".active",this._indicatorsElement);f.classList.remove(ct),f.removeAttribute("aria-current");const z=ut.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);z&&(z.classList.add(ct),z.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const f=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(r,f=null){if(this._isSliding)return;const z=this._getActive(),mt=r===c,ft=f||Xt(this._getItems(),z,mt,this._config.wrap);if(ft===z)return;const Bt=this._getItemIndex(ft),$t=ye=>jt.trigger(this._element,ye,{relatedTarget:ft,direction:this._orderToDirection(r),from:this._getItemIndex(z),to:Bt});if($t("slide.bs.carousel").defaultPrevented||!z||!ft)return;const pe=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Bt),this._activeElement=ft;const Be=mt?"carousel-item-start":"carousel-item-end",Ve=mt?"carousel-item-next":"carousel-item-prev";ft.classList.add(Ve),z.classList.add(Be),ft.classList.add(Be),this._queueCallback(()=>{ft.classList.remove(Be,Ve),ft.classList.add(ct),z.classList.remove(ct,Ve,Be),this._isSliding=!1,$t($)},z,this._isAnimated()),pe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ut.findOne(".active.carousel-item",this._element)}_getItems(){return ut.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return et()?r===j?h:c:r===j?c:h}_orderToDirection(r){return et()?r===h?j:U:r===h?U:j}static jQueryInterface(r){return this.each(function(){const f=Mt.getOrCreateInstance(this,r);if("number"!=typeof r){if("string"==typeof r){if(void 0===f[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);f[r]()}}else f.to(r)})}}jt.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(T){const r=D(this);if(!r||!r.classList.contains(K))return;T.preventDefault();const f=Mt.getOrCreateInstance(r),z=this.getAttribute("data-bs-slide-to");return z?(f.to(z),void f._maybeEnableCycle()):"next"===O.getDataAttribute(this,"slide")?(f.next(),void f._maybeEnableCycle()):(f.prev(),void f._maybeEnableCycle())}),jt.on(window,"load.bs.carousel.data-api",()=>{const T=ut.find('[data-bs-ride="carousel"]');for(const r of T)Mt.getOrCreateInstance(r)}),gt(Mt);const kt="show",pt="collapse",Wt="collapsing",ee='[data-bs-toggle="collapse"]',Se={parent:null,toggle:!0},Ae={parent:"(null|element)",toggle:"boolean"};class ze extends w{constructor(r,f){super(r,f),this._isTransitioning=!1,this._triggerArray=[];const z=ut.find(ee);for(const mt of z){const ft=Ot(mt),Bt=ut.find(ft).filter($t=>$t===this._element);null!==ft&&Bt.length&&this._triggerArray.push(mt)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Se}static get DefaultType(){return Ae}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(mt=>mt!==this._element).map(mt=>ze.getOrCreateInstance(mt,{toggle:!1}))),r.length&&r[0]._isTransitioning||jt.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const mt of r)mt.hide();const f=this._getDimension();this._element.classList.remove(pt),this._element.classList.add(Wt),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Wt),this._element.classList.add(pt,kt),this._element.style[f]="",jt.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[f]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||jt.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,this._element.classList.add(Wt),this._element.classList.remove(pt,kt);for(const f of this._triggerArray){const z=D(f);z&&!this._isShown(z)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0,this._element.style[r]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Wt),this._element.classList.add(pt),jt.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(r=this._element){return r.classList.contains(kt)}_configAfterMerge(r){return r.toggle=Boolean(r.toggle),r.parent=I(r.parent),r}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(ee);for(const f of r){const z=D(f);z&&this._addAriaAndCollapsedClass([f],this._isShown(z))}}_getFirstLevelChildren(r){const f=ut.find(":scope .collapse .collapse",this._config.parent);return ut.find(r,this._config.parent).filter(z=>!f.includes(z))}_addAriaAndCollapsedClass(r,f){if(r.length)for(const z of r)z.classList.toggle("collapsed",!f),z.setAttribute("aria-expanded",f)}static jQueryInterface(r){const f={};return"string"==typeof r&&/show|hide/.test(r)&&(f.toggle=!1),this.each(function(){const z=ze.getOrCreateInstance(this,f);if("string"==typeof r){if(void 0===z[r])throw new TypeError(`No method named "${r}"`);z[r]()}})}}jt.on(document,"click.bs.collapse.data-api",ee,function(T){("A"===T.target.tagName||T.delegateTarget&&"A"===T.delegateTarget.tagName)&&T.preventDefault();const r=Ot(this),f=ut.find(r);for(const z of f)ze.getOrCreateInstance(z,{toggle:!1}).toggle()}),gt(ze);var Me="top",Qt="bottom",Yt="right",Le="left",te="auto",In=[Me,Qt,Yt,Le],bt="start",xe="end",ie="clippingParents",Ke="viewport",qe="popper",Qe="reference",yn=In.reduce(function(T,r){return T.concat([r+"-"+bt,r+"-"+xe])},[]),dn=[].concat(In,[te]).reduce(function(T,r){return T.concat([r,r+"-"+bt,r+"-"+xe])},[]),Cn="beforeRead",wn="afterRead",En="beforeMain",Wn="afterMain",Fe="beforeWrite",we="afterWrite",Re=[Cn,"read",wn,En,"main",Wn,Fe,"write",we];function hn(T){return T?(T.nodeName||"").toLowerCase():null}function mn(T){if(null==T)return window;if("[object Window]"!==T.toString()){var r=T.ownerDocument;return r&&r.defaultView||window}return T}function He(T){return T instanceof mn(T).Element||T instanceof Element}function ge(T){return T instanceof mn(T).HTMLElement||T instanceof HTMLElement}function Oe(T){return"undefined"!=typeof ShadowRoot&&(T instanceof mn(T).ShadowRoot||T instanceof ShadowRoot)}const Rn={name:"applyStyles",enabled:!0,phase:"write",fn:function(T){var r=T.state;Object.keys(r.elements).forEach(function(f){var z=r.styles[f]||{},mt=r.attributes[f]||{},ft=r.elements[f];ge(ft)&&hn(ft)&&(Object.assign(ft.style,z),Object.keys(mt).forEach(function(Bt){var $t=mt[Bt];!1===$t?ft.removeAttribute(Bt):ft.setAttribute(Bt,!0===$t?"":$t)}))})},effect:function(T){var r=T.state,f={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,f.popper),r.styles=f,r.elements.arrow&&Object.assign(r.elements.arrow.style,f.arrow),function(){Object.keys(r.elements).forEach(function(z){var mt=r.elements[z],ft=r.attributes[z]||{},Bt=Object.keys(r.styles.hasOwnProperty(z)?r.styles[z]:f[z]).reduce(function($t,pe){return $t[pe]="",$t},{});ge(mt)&&hn(mt)&&(Object.assign(mt.style,Bt),Object.keys(ft).forEach(function($t){mt.removeAttribute($t)}))})}},requires:["computeStyles"]};function on(T){return T.split("-")[0]}var di=Math.max,Zn=Math.min,Nn=Math.round;function Dn(){var T=navigator.userAgentData;return null!=T&&T.brands?T.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function Hi(){return!/^((?!chrome|android).)*safari/i.test(Dn())}function zi(T,r,f){void 0===r&&(r=!1),void 0===f&&(f=!1);var z=T.getBoundingClientRect(),mt=1,ft=1;r&&ge(T)&&(mt=T.offsetWidth>0&&Nn(z.width)/T.offsetWidth||1,ft=T.offsetHeight>0&&Nn(z.height)/T.offsetHeight||1);var Bt=(He(T)?mn(T):window).visualViewport,$t=!Hi()&&f,pe=(z.left+($t&&Bt?Bt.offsetLeft:0))/mt,Be=(z.top+($t&&Bt?Bt.offsetTop:0))/ft,Ve=z.width/mt,ye=z.height/ft;return{width:Ve,height:ye,top:Be,right:pe+Ve,bottom:Be+ye,left:pe,x:pe,y:Be}}function Bi(T){var r=zi(T),f=T.offsetWidth,z=T.offsetHeight;return Math.abs(r.width-f)<=1&&(f=r.width),Math.abs(r.height-z)<=1&&(z=r.height),{x:T.offsetLeft,y:T.offsetTop,width:f,height:z}}function io(T,r){var f=r.getRootNode&&r.getRootNode();if(T.contains(r))return!0;if(f&&Oe(f)){var z=r;do{if(z&&T.isSameNode(z))return!0;z=z.parentNode||z.host}while(z)}return!1}function Hn(T){return mn(T).getComputedStyle(T)}function Co(T){return["table","td","th"].indexOf(hn(T))>=0}function ht(T){return((He(T)?T.ownerDocument:T.document)||window.document).documentElement}function nt(T){return"html"===hn(T)?T:T.assignedSlot||T.parentNode||(Oe(T)?T.host:null)||ht(T)}function xt(T){return ge(T)&&"fixed"!==Hn(T).position?T.offsetParent:null}function wt(T){for(var r=mn(T),f=xt(T);f&&Co(f)&&"static"===Hn(f).position;)f=xt(f);return f&&("html"===hn(f)||"body"===hn(f)&&"static"===Hn(f).position)?r:f||function(z){var mt=/firefox/i.test(Dn());if(/Trident/i.test(Dn())&&ge(z)&&"fixed"===Hn(z).position)return null;var ft=nt(z);for(Oe(ft)&&(ft=ft.host);ge(ft)&&["html","body"].indexOf(hn(ft))<0;){var Bt=Hn(ft);if("none"!==Bt.transform||"none"!==Bt.perspective||"paint"===Bt.contain||-1!==["transform","perspective"].indexOf(Bt.willChange)||mt&&"filter"===Bt.willChange||mt&&Bt.filter&&"none"!==Bt.filter)return ft;ft=ft.parentNode}return null}(T)||r}function fe(T){return["top","bottom"].indexOf(T)>=0?"x":"y"}function Ee(T,r,f){return di(T,Zn(r,f))}function gn(T){return Object.assign({},{top:0,right:0,bottom:0,left:0},T)}function he(T,r){return r.reduce(function(f,z){return f[z]=T,f},{})}const ce={name:"arrow",enabled:!0,phase:"main",fn:function(T){var r,wi,mi,f=T.state,z=T.name,mt=T.options,ft=f.elements.arrow,Bt=f.modifiersData.popperOffsets,$t=on(f.placement),pe=fe($t),Be=[Le,Yt].indexOf($t)>=0?"height":"width";if(ft&&Bt){var Ve=(mi=f,gn("number"!=typeof(wi="function"==typeof(wi=mt.padding)?wi(Object.assign({},mi.rects,{placement:mi.placement})):wi)?wi:he(wi,In))),ye=Bi(ft),Pn="y"===pe?Me:Le,nn="y"===pe?Qt:Yt,Tn=f.rects.reference[Be]+f.rects.reference[pe]-Bt[pe]-f.rects.popper[Be],ln=Bt[pe]-f.rects.reference[pe],_n=wt(ft),Jn=_n?"y"===pe?_n.clientHeight||0:_n.clientWidth||0:0,Mn=Jn/2-ye[Be]/2+(Tn/2-ln/2),jn=Ee(Ve[Pn],Mn,Jn-ye[Be]-Ve[nn]);f.modifiersData[z]=((r={})[pe]=jn,r.centerOffset=jn-Mn,r)}},effect:function(T){var r=T.state,f=T.options.element,z=void 0===f?"[data-popper-arrow]":f;null!=z&&("string"!=typeof z||(z=r.elements.popper.querySelector(z)))&&io(r.elements.popper,z)&&(r.elements.arrow=z)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xe(T){return T.split("-")[1]}var rn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ye(T){var r,f=T.popper,z=T.popperRect,mt=T.placement,ft=T.variation,Bt=T.offsets,$t=T.position,pe=T.gpuAcceleration,Be=T.adaptive,Ve=T.roundOffsets,ye=T.isFixed,Pn=Bt.x,nn=void 0===Pn?0:Pn,Tn=Bt.y,ln=void 0===Tn?0:Tn,_n="function"==typeof Ve?Ve({x:nn,y:ln}):{x:nn,y:ln};nn=_n.x,ln=_n.y;var Jn=Bt.hasOwnProperty("x"),Li=Bt.hasOwnProperty("y"),zn=Le,pi=Me,Mn=window;if(Be){var jn=wt(f),ai="clientHeight",wi="clientWidth";jn===mn(f)&&"static"!==Hn(jn=ht(f)).position&&"absolute"===$t&&(ai="scrollHeight",wi="scrollWidth"),(mt===Me||(mt===Le||mt===Yt)&&ft===xe)&&(pi=Qt,ln-=(ye&&jn===Mn&&Mn.visualViewport?Mn.visualViewport.height:jn[ai])-z.height,ln*=pe?1:-1),mt!==Le&&(mt!==Me&&mt!==Qt||ft!==xe)||(zn=Yt,nn-=(ye&&jn===Mn&&Mn.visualViewport?Mn.visualViewport.width:jn[wi])-z.width,nn*=pe?1:-1)}var mi,J,Et,Ht,Xn=Object.assign({position:$t},Be&&rn),C=!0===Ve?(Et=(J={x:nn,y:ln}).y,Ht=window.devicePixelRatio||1,{x:Nn(J.x*Ht)/Ht||0,y:Nn(Et*Ht)/Ht||0}):{x:nn,y:ln};return nn=C.x,ln=C.y,Object.assign({},Xn,pe?((mi={})[pi]=Li?"0":"",mi[zn]=Jn?"0":"",mi.transform=(Mn.devicePixelRatio||1)<=1?"translate("+nn+"px, "+ln+"px)":"translate3d("+nn+"px, "+ln+"px, 0)",mi):((r={})[pi]=Li?ln+"px":"",r[zn]=Jn?nn+"px":"",r.transform="",r))}const an={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(T){var r=T.state,f=T.options,z=f.gpuAcceleration,mt=void 0===z||z,ft=f.adaptive,Bt=void 0===ft||ft,$t=f.roundOffsets,pe=void 0===$t||$t,Be={placement:on(r.placement),variation:Xe(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:mt,isFixed:"fixed"===r.options.strategy};null!=r.modifiersData.popperOffsets&&(r.styles.popper=Object.assign({},r.styles.popper,Ye(Object.assign({},Be,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:Bt,roundOffsets:pe})))),null!=r.modifiersData.arrow&&(r.styles.arrow=Object.assign({},r.styles.arrow,Ye(Object.assign({},Be,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:pe})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})},data:{}};var Un={passive:!0};const bi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(T){var r=T.state,f=T.instance,z=T.options,mt=z.scroll,ft=void 0===mt||mt,Bt=z.resize,$t=void 0===Bt||Bt,pe=mn(r.elements.popper),Be=[].concat(r.scrollParents.reference,r.scrollParents.popper);return ft&&Be.forEach(function(Ve){Ve.addEventListener("scroll",f.update,Un)}),$t&&pe.addEventListener("resize",f.update,Un),function(){ft&&Be.forEach(function(Ve){Ve.removeEventListener("scroll",f.update,Un)}),$t&&pe.removeEventListener("resize",f.update,Un)}},data:{}};var ni={left:"right",right:"left",bottom:"top",top:"bottom"};function de(T){return T.replace(/left|right|bottom|top/g,function(r){return ni[r]})}var ki={start:"end",end:"start"};function ri(T){return T.replace(/start|end/g,function(r){return ki[r]})}function Ri(T){var r=mn(T);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function Sn(T){return zi(ht(T)).left+Ri(T).scrollLeft}function Fi(T){var r=Hn(T);return/auto|scroll|overlay|hidden/.test(r.overflow+r.overflowY+r.overflowX)}function oo(T){return["html","body","#document"].indexOf(hn(T))>=0?T.ownerDocument.body:ge(T)&&Fi(T)?T:oo(nt(T))}function Si(T,r){var f;void 0===r&&(r=[]);var z=oo(T),mt=z===(null==(f=T.ownerDocument)?void 0:f.body),ft=mn(z),Bt=mt?[ft].concat(ft.visualViewport||[],Fi(z)?z:[]):z,$t=r.concat(Bt);return mt?$t:$t.concat(Si(nt(Bt)))}function Xo(T){return Object.assign({},T,{left:T.x,top:T.y,right:T.x+T.width,bottom:T.y+T.height})}function Ai(T,r,f){return r===Ke?Xo(function(z,mt){var ft=mn(z),Bt=ht(z),$t=ft.visualViewport,pe=Bt.clientWidth,Be=Bt.clientHeight,Ve=0,ye=0;if($t){pe=$t.width,Be=$t.height;var Pn=Hi();(Pn||!Pn&&"fixed"===mt)&&(Ve=$t.offsetLeft,ye=$t.offsetTop)}return{width:pe,height:Be,x:Ve+Sn(z),y:ye}}(T,f)):He(r)?((ft=zi(z=r,!1,"fixed"===f)).top=ft.top+z.clientTop,ft.left=ft.left+z.clientLeft,ft.bottom=ft.top+z.clientHeight,ft.right=ft.left+z.clientWidth,ft.width=z.clientWidth,ft.height=z.clientHeight,ft.x=ft.left,ft.y=ft.top,ft):Xo(function(z){var mt,ft=ht(z),Bt=Ri(z),$t=null==(mt=z.ownerDocument)?void 0:mt.body,pe=di(ft.scrollWidth,ft.clientWidth,$t?$t.scrollWidth:0,$t?$t.clientWidth:0),Be=di(ft.scrollHeight,ft.clientHeight,$t?$t.scrollHeight:0,$t?$t.clientHeight:0),Ve=-Bt.scrollLeft+Sn(z),ye=-Bt.scrollTop;return"rtl"===Hn($t||ft).direction&&(Ve+=di(ft.clientWidth,$t?$t.clientWidth:0)-pe),{width:pe,height:Be,x:Ve,y:ye}}(ht(T)));var z,ft}function bo(T){var r,f=T.reference,z=T.element,mt=T.placement,ft=mt?on(mt):null,Bt=mt?Xe(mt):null,$t=f.x+f.width/2-z.width/2,pe=f.y+f.height/2-z.height/2;switch(ft){case Me:r={x:$t,y:f.y-z.height};break;case Qt:r={x:$t,y:f.y+f.height};break;case Yt:r={x:f.x+f.width,y:pe};break;case Le:r={x:f.x-z.width,y:pe};break;default:r={x:f.x,y:f.y}}var Be=ft?fe(ft):null;if(null!=Be){var Ve="y"===Be?"height":"width";switch(Bt){case bt:r[Be]=r[Be]-(f[Ve]/2-z[Ve]/2);break;case xe:r[Be]=r[Be]+(f[Ve]/2-z[Ve]/2)}}return r}function On(T,r){void 0===r&&(r={});var vt,Et,Ht,Kt,i,s,u,Ge,Ln,n,z=r.placement,mt=void 0===z?T.placement:z,ft=r.strategy,Bt=void 0===ft?T.strategy:ft,$t=r.boundary,pe=void 0===$t?ie:$t,Be=r.rootBoundary,Ve=void 0===Be?Ke:Be,ye=r.elementContext,Pn=void 0===ye?qe:ye,nn=r.altBoundary,Tn=void 0!==nn&&nn,ln=r.padding,_n=void 0===ln?0:ln,Jn=gn("number"!=typeof _n?_n:he(_n,In)),zn=T.rects.popper,pi=T.elements[Tn?Pn===qe?Qe:qe:Pn],Mn=(vt=He(pi)?pi:pi.contextElement||ht(T.elements.popper),Ht=Ve,Kt=Bt,Ge="clippingParents"===(Et=pe)?(s=Si(nt(i=vt)),He(u=["absolute","fixed"].indexOf(Hn(i).position)>=0&&ge(i)?wt(i):i)?s.filter(function(v){return He(v)&&io(v,u)&&"body"!==hn(v)}):[]):[].concat(Et),n=(Ln=[].concat(Ge,[Ht])).reduce(function(i,s){var u=Ai(vt,s,Kt);return i.top=di(u.top,i.top),i.right=Zn(u.right,i.right),i.bottom=Zn(u.bottom,i.bottom),i.left=di(u.left,i.left),i},Ai(vt,Ln[0],Kt)),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n),jn=zi(T.elements.reference),ai=bo({reference:jn,element:zn,strategy:"absolute",placement:mt}),wi=Xo(Object.assign({},zn,ai)),mi=Pn===qe?wi:jn,Xn={top:Mn.top-mi.top+Jn.top,bottom:mi.bottom-Mn.bottom+Jn.bottom,left:Mn.left-mi.left+Jn.left,right:mi.right-Mn.right+Jn.right},C=T.modifiersData.offset;if(Pn===qe&&C){var J=C[mt];Object.keys(Xn).forEach(function(vt){var Et=[Yt,Qt].indexOf(vt)>=0?1:-1,Ht=[Me,Qt].indexOf(vt)>=0?"y":"x";Xn[vt]+=J[Ht]*Et})}return Xn}const uo={name:"flip",enabled:!0,phase:"main",fn:function(T){var r=T.state,f=T.options,z=T.name;if(!r.modifiersData[z]._skip){for(var mt=f.mainAxis,ft=void 0===mt||mt,Bt=f.altAxis,$t=void 0===Bt||Bt,pe=f.fallbackPlacements,Be=f.padding,Ve=f.boundary,ye=f.rootBoundary,Pn=f.altBoundary,nn=f.flipVariations,Tn=void 0===nn||nn,ln=f.allowedAutoPlacements,_n=r.options.placement,Jn=on(_n),Li=pe||(Jn!==_n&&Tn?function(i){if(on(i)===te)return[];var s=de(i);return[ri(i),s,ri(s)]}(_n):[de(_n)]),zn=[_n].concat(Li).reduce(function(i,s){return i.concat(on(s)===te?function Kn(T,r){void 0===r&&(r={});var mt=r.boundary,ft=r.rootBoundary,Bt=r.padding,$t=r.flipVariations,pe=r.allowedAutoPlacements,Be=void 0===pe?dn:pe,Ve=Xe(r.placement),ye=Ve?$t?yn:yn.filter(function(Tn){return Xe(Tn)===Ve}):In,Pn=ye.filter(function(Tn){return Be.indexOf(Tn)>=0});0===Pn.length&&(Pn=ye);var nn=Pn.reduce(function(Tn,ln){return Tn[ln]=On(T,{placement:ln,boundary:mt,rootBoundary:ft,padding:Bt})[on(ln)],Tn},{});return Object.keys(nn).sort(function(Tn,ln){return nn[Tn]-nn[ln]})}(r,{placement:s,boundary:Ve,rootBoundary:ye,padding:Be,flipVariations:Tn,allowedAutoPlacements:ln}):s)},[]),pi=r.rects.reference,Mn=r.rects.popper,jn=new Map,ai=!0,wi=zn[0],mi=0;mi<zn.length;mi++){var Xn=zn[mi],C=on(Xn),J=Xe(Xn)===bt,vt=[Me,Qt].indexOf(C)>=0,Et=vt?"width":"height",Ht=On(r,{placement:Xn,boundary:Ve,rootBoundary:ye,altBoundary:Pn,padding:Be}),Kt=vt?J?Yt:Le:J?Qt:Me;pi[Et]>Mn[Et]&&(Kt=de(Kt));var Ge=de(Kt),Ln=[];if(ft&&Ln.push(Ht[C]<=0),$t&&Ln.push(Ht[Kt]<=0,Ht[Ge]<=0),Ln.every(function(i){return i})){wi=Xn,ai=!1;break}jn.set(Xn,Ln)}if(ai)for(var xi=function(i){var s=zn.find(function(u){var v=jn.get(u);if(v)return v.slice(0,i).every(function(P){return P})});if(s)return wi=s,"break"},n=Tn?3:1;n>0&&"break"!==xi(n);n--);r.placement!==wi&&(r.modifiersData[z]._skip=!0,r.placement=wi,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Bo(T,r,f){return void 0===f&&(f={x:0,y:0}),{top:T.top-r.height-f.y,right:T.right-r.width+f.x,bottom:T.bottom-r.height+f.y,left:T.left-r.width-f.x}}function Ei(T){return[Me,Yt,Qt,Le].some(function(r){return T[r]>=0})}const gi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(T){var r=T.state,f=T.name,z=r.rects.reference,mt=r.rects.popper,ft=r.modifiersData.preventOverflow,Bt=On(r,{elementContext:"reference"}),$t=On(r,{altBoundary:!0}),pe=Bo(Bt,z),Be=Bo($t,mt,ft),Ve=Ei(pe),ye=Ei(Be);r.modifiersData[f]={referenceClippingOffsets:pe,popperEscapeOffsets:Be,isReferenceHidden:Ve,hasPopperEscaped:ye},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":Ve,"data-popper-escaped":ye})}},Fo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(T){var r=T.state,z=T.name,mt=T.options.offset,ft=void 0===mt?[0,0]:mt,Bt=dn.reduce(function(Ve,ye){return Ve[ye]=(nn=r.rects,Tn=ft,ln=on(Pn=ye),_n=[Le,Me].indexOf(ln)>=0?-1:1,Li=(Li=(Jn="function"==typeof Tn?Tn(Object.assign({},nn,{placement:Pn})):Tn)[0])||0,zn=((zn=Jn[1])||0)*_n,[Le,Yt].indexOf(ln)>=0?{x:zn,y:Li}:{x:Li,y:zn}),Ve;var Pn,nn,Tn,ln,_n,Jn,Li,zn},{}),$t=Bt[r.placement],Be=$t.y;null!=r.modifiersData.popperOffsets&&(r.modifiersData.popperOffsets.x+=$t.x,r.modifiersData.popperOffsets.y+=Be),r.modifiersData[z]=Bt}},$o={name:"popperOffsets",enabled:!0,phase:"read",fn:function(T){var r=T.state;r.modifiersData[T.name]=bo({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})},data:{}},Eo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(T){var cn,ti,r=T.state,f=T.options,z=T.name,mt=f.mainAxis,ft=void 0===mt||mt,Bt=f.altAxis,$t=void 0!==Bt&&Bt,Pn=f.tether,nn=void 0===Pn||Pn,Tn=f.tetherOffset,ln=void 0===Tn?0:Tn,_n=On(r,{boundary:f.boundary,rootBoundary:f.rootBoundary,padding:f.padding,altBoundary:f.altBoundary}),Jn=on(r.placement),Li=Xe(r.placement),zn=!Li,pi=fe(Jn),Mn="x"===pi?"y":"x",jn=r.modifiersData.popperOffsets,ai=r.rects.reference,wi=r.rects.popper,mi="function"==typeof ln?ln(Object.assign({},r.rects,{placement:r.placement})):ln,Xn="number"==typeof mi?{mainAxis:mi,altAxis:mi}:Object.assign({mainAxis:0,altAxis:0},mi),C=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,J={x:0,y:0};if(jn){if(ft){var vt,Et="y"===pi?Me:Le,Ht="y"===pi?Qt:Yt,Kt="y"===pi?"height":"width",Ge=jn[pi],Ln=Ge+_n[Et],xi=Ge-_n[Ht],n=nn?-wi[Kt]/2:0,i=Li===bt?ai[Kt]:wi[Kt],s=Li===bt?-wi[Kt]:-ai[Kt],u=r.elements.arrow,v=nn&&u?Bi(u):{width:0,height:0},P=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},S=P[Et],V=P[Ht],H=Ee(0,ai[Kt],v[Kt]),rt=zn?ai[Kt]/2-n-H-S-Xn.mainAxis:i-H-S-Xn.mainAxis,Ct=zn?-ai[Kt]/2+n+H+V+Xn.mainAxis:s+H+V+Xn.mainAxis,Rt=r.elements.arrow&&wt(r.elements.arrow),Nt=null!=(vt=null==C?void 0:C[pi])?vt:0,se=Ge+Ct-Nt,Gt=Ee(nn?Zn(Ln,Ge+rt-Nt-(Rt?"y"===pi?Rt.clientTop||0:Rt.clientLeft||0:0)):Ln,Ge,nn?di(xi,se):xi);jn[pi]=Gt,J[pi]=Gt-Ge}if($t){var Jt,Je=jn[Mn],tn="y"===Mn?"height":"width",Qn=Je+_n["x"===pi?Me:Le],li=Je-_n["x"===pi?Qt:Yt],Vn=-1!==[Me,Le].indexOf(Jn),sn=null!=(Jt=null==C?void 0:C[Mn])?Jt:0,Zt=Vn?Qn:Je-ai[tn]-wi[tn]-sn+Xn.altAxis,Dt=Vn?Je+ai[tn]+wi[tn]-sn-Xn.altAxis:li,ae=nn&&Vn?(ti=Ee(Zt,Je,cn=Dt))>cn?cn:ti:Ee(nn?Zt:Qn,Je,nn?Dt:li);jn[Mn]=ae,J[Mn]=ae-Je}r.modifiersData[z]=J}},requiresIfExists:["offset"]};function ho(T,r,f){void 0===f&&(f=!1);var z,mt,ye,Pn,nn,Tn,ft=ge(r),Bt=ge(r)&&(Pn=(ye=r).getBoundingClientRect(),nn=Nn(Pn.width)/ye.offsetWidth||1,Tn=Nn(Pn.height)/ye.offsetHeight||1,1!==nn||1!==Tn),$t=ht(r),pe=zi(T,Bt,f),Be={scrollLeft:0,scrollTop:0},Ve={x:0,y:0};return(ft||!ft&&!f)&&(("body"!==hn(r)||Fi($t))&&(Be=(z=r)!==mn(z)&&ge(z)?{scrollLeft:(mt=z).scrollLeft,scrollTop:mt.scrollTop}:Ri(z)),ge(r)?((Ve=zi(r,!0)).x+=r.clientLeft,Ve.y+=r.clientTop):$t&&(Ve.x=Sn($t))),{x:pe.left+Be.scrollLeft-Ve.x,y:pe.top+Be.scrollTop-Ve.y,width:pe.width,height:pe.height}}function Ao(T){var r=new Map,f=new Set,z=[];function mt(ft){f.add(ft.name),[].concat(ft.requires||[],ft.requiresIfExists||[]).forEach(function(Bt){if(!f.has(Bt)){var $t=r.get(Bt);$t&&mt($t)}}),z.push(ft)}return T.forEach(function(ft){r.set(ft.name,ft)}),T.forEach(function(ft){f.has(ft.name)||mt(ft)}),z}var Ui={placement:"bottom",modifiers:[],strategy:"absolute"};function ro(){for(var T=arguments.length,r=new Array(T),f=0;f<T;f++)r[f]=arguments[f];return!r.some(function(z){return!(z&&"function"==typeof z.getBoundingClientRect)})}function ko(T){void 0===T&&(T={});var f=T.defaultModifiers,z=void 0===f?[]:f,mt=T.defaultOptions,ft=void 0===mt?Ui:mt;return function(Bt,$t,pe){void 0===pe&&(pe=ft);var Be,Ve,ye={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ui,ft),modifiersData:{},elements:{reference:Bt,popper:$t},attributes:{},styles:{}},Pn=[],nn=!1,Tn={state:ye,setOptions:function(_n){var Jn="function"==typeof _n?_n(ye.options):_n;ln(),ye.options=Object.assign({},ft,ye.options,Jn),ye.scrollParents={reference:He(Bt)?Si(Bt):Bt.contextElement?Si(Bt.contextElement):[],popper:Si($t)};var Li,zn,Mn,jn,pi=(Li=[].concat(z,ye.options.modifiers),zn=Li.reduce(function(Mn,jn){var ai=Mn[jn.name];return Mn[jn.name]=ai?Object.assign({},ai,jn,{options:Object.assign({},ai.options,jn.options),data:Object.assign({},ai.data,jn.data)}):jn,Mn},{}),Mn=Object.keys(zn).map(function(Mn){return zn[Mn]}),jn=Ao(Mn),Re.reduce(function(ai,wi){return ai.concat(jn.filter(function(mi){return mi.phase===wi}))},[]));return ye.orderedModifiers=pi.filter(function(Mn){return Mn.enabled}),ye.orderedModifiers.forEach(function(Mn){var ai=Mn.options,mi=Mn.effect;if("function"==typeof mi){var Xn=mi({state:ye,name:Mn.name,instance:Tn,options:void 0===ai?{}:ai});Pn.push(Xn||function(){})}}),Tn.update()},forceUpdate:function(){if(!nn){var _n=ye.elements,Jn=_n.reference,Li=_n.popper;if(ro(Jn,Li)){ye.rects={reference:ho(Jn,wt(Li),"fixed"===ye.options.strategy),popper:Bi(Li)},ye.reset=!1,ye.placement=ye.options.placement,ye.orderedModifiers.forEach(function(mi){return ye.modifiersData[mi.name]=Object.assign({},mi.data)});for(var zn=0;zn<ye.orderedModifiers.length;zn++)if(!0!==ye.reset){var pi=ye.orderedModifiers[zn],Mn=pi.fn,jn=pi.options;"function"==typeof Mn&&(ye=Mn({state:ye,options:void 0===jn?{}:jn,name:pi.name,instance:Tn})||ye)}else ye.reset=!1,zn=-1}}},update:(Be=function(){return new Promise(function(_n){Tn.forceUpdate(),_n(ye)})},function(){return Ve||(Ve=new Promise(function(_n){Promise.resolve().then(function(){Ve=void 0,_n(Be())})})),Ve}),destroy:function(){ln(),nn=!0}};if(!ro(Bt,$t))return Tn;function ln(){Pn.forEach(function(_n){return _n()}),Pn=[]}return Tn.setOptions(pe).then(function(_n){!nn&&pe.onFirstUpdate&&pe.onFirstUpdate(_n)}),Tn}}var gr=ko(),or=ko({defaultModifiers:[bi,$o,an,Rn]}),Go=ko({defaultModifiers:[bi,$o,an,Rn,Fo,uo,Eo,ce,gi]});const wo=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:ko,detectOverflow:On,createPopperBase:gr,createPopper:Go,createPopperLite:or,top:Me,bottom:Qt,right:Yt,left:Le,auto:te,basePlacements:In,start:bt,end:xe,clippingParents:ie,viewport:Ke,popper:qe,reference:Qe,variationPlacements:yn,placements:dn,beforeRead:Cn,read:"read",afterRead:wn,beforeMain:En,main:"main",afterMain:Wn,beforeWrite:Fe,write:"write",afterWrite:we,modifierPhases:Re,applyStyles:Rn,arrow:ce,computeStyles:an,eventListeners:bi,flip:uo,hide:gi,offset:Fo,popperOffsets:$o,preventOverflow:Eo},Symbol.toStringTag,{value:"Module"})),so="dropdown",fr="ArrowUp",Ko="ArrowDown",jo="click.bs.dropdown.data-api",To="keydown.bs.dropdown.data-api",$n="show",qi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Xi=`${qi}.show`,_i=".dropdown-menu",Jo=et()?"top-end":"top-start",Ti=et()?"top-start":"top-end",vi=et()?"bottom-end":"bottom-start",ao=et()?"bottom-start":"bottom-end",Vo=et()?"left-start":"right-start",lo=et()?"right-start":"left-start",Oi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rr={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ii extends w{constructor(r,f){super(r,f),this._popper=null,this._parent=this._element.parentNode,this._menu=ut.next(this._element,_i)[0]||ut.prev(this._element,_i)[0]||ut.findOne(_i,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Oi}static get DefaultType(){return rr}static get NAME(){return so}toggle(){return this._isShown()?this.hide():this.show()}show(){if(k(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!jt.trigger(this._element,"show.bs.dropdown",r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const f of[].concat(...document.body.children))jt.on(f,"mouseover",q);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($n),this._element.classList.add($n),jt.trigger(this._element,"shown.bs.dropdown",r)}}hide(){!k(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!jt.trigger(this._element,"hide.bs.dropdown",r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))jt.off(f,"mouseover",q);this._popper&&this._popper.destroy(),this._menu.classList.remove($n),this._element.classList.remove($n),this._element.setAttribute("aria-expanded","false"),O.removeDataAttribute(this._menu,"popper"),jt.trigger(this._element,"hidden.bs.dropdown",r)}}_getConfig(r){if("object"==typeof(r=super._getConfig(r)).reference&&!p(r.reference)&&"function"!=typeof r.reference.getBoundingClientRect)throw new TypeError(`${so.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(void 0===wo)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;"parent"===this._config.reference?r=this._parent:p(this._config.reference)?r=I(this._config.reference):"object"==typeof this._config.reference&&(r=this._config.reference);const f=this._getPopperConfig();this._popper=Go(r,this._menu,f)}_isShown(){return this._menu.classList.contains($n)}_getPlacement(){const r=this._parent;if(r.classList.contains("dropend"))return Vo;if(r.classList.contains("dropstart"))return lo;if(r.classList.contains("dropup-center"))return"top";if(r.classList.contains("dropdown-center"))return"bottom";const f="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return r.classList.contains("dropup")?f?Ti:Jo:f?ao:vi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:r}=this._config;return"string"==typeof r?r.split(",").map(f=>Number.parseInt(f,10)):"function"==typeof r?f=>r(f,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(O.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),ir(ir({},r),"function"==typeof this._config.popperConfig?this._config.popperConfig(r):this._config.popperConfig)}_selectMenuItem({key:r,target:f}){const z=ut.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(mt=>E(mt));z.length&&Xt(z,f,r===Ko,!z.includes(f)).focus()}static jQueryInterface(r){return this.each(function(){const f=ii.getOrCreateInstance(this,r);if("string"==typeof r){if(void 0===f[r])throw new TypeError(`No method named "${r}"`);f[r]()}})}static clearMenus(r){if(2===r.button||"keyup"===r.type&&"Tab"!==r.key)return;const f=ut.find(Xi);for(const z of f){const mt=ii.getInstance(z);if(!mt||!1===mt._config.autoClose)continue;const ft=r.composedPath(),Bt=ft.includes(mt._menu);if(ft.includes(mt._element)||"inside"===mt._config.autoClose&&!Bt||"outside"===mt._config.autoClose&&Bt||mt._menu.contains(r.target)&&("keyup"===r.type&&"Tab"===r.key||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const $t={relatedTarget:mt._element};"click"===r.type&&($t.clickEvent=r),mt._completeHide($t)}}static dataApiKeydownHandler(r){const f=/input|textarea/i.test(r.target.tagName),z="Escape"===r.key,mt=[fr,Ko].includes(r.key);if(!mt&&!z||f&&!z)return;r.preventDefault();const ft=this.matches(qi)?this:ut.prev(this,qi)[0]||ut.next(this,qi)[0]||ut.findOne(qi,r.delegateTarget.parentNode),Bt=ii.getOrCreateInstance(ft);if(mt)return r.stopPropagation(),Bt.show(),void Bt._selectMenuItem(r);Bt._isShown()&&(r.stopPropagation(),Bt.hide(),ft.focus())}}jt.on(document,To,qi,ii.dataApiKeydownHandler),jt.on(document,To,_i,ii.dataApiKeydownHandler),jt.on(document,jo,ii.clearMenus),jt.on(document,"keyup.bs.dropdown.data-api",ii.clearMenus),jt.on(document,jo,qi,function(T){T.preventDefault(),ii.getOrCreateInstance(this).toggle()}),gt(ii);const xo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Qi=".sticky-top",Wi="padding-right",Pi="margin-right";class Po{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Wi,f=>f+r),this._setElementAttributes(xo,Wi,f=>f+r),this._setElementAttributes(Qi,Pi,f=>f-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Wi),this._resetElementAttributes(xo,Wi),this._resetElementAttributes(Qi,Pi)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,f,z){const mt=this.getWidth();this._applyManipulationCallback(r,ft=>{if(ft!==this._element&&window.innerWidth>ft.clientWidth+mt)return;this._saveInitialAttribute(ft,f);const Bt=window.getComputedStyle(ft).getPropertyValue(f);ft.style.setProperty(f,`${z(Number.parseFloat(Bt))}px`)})}_saveInitialAttribute(r,f){const z=r.style.getPropertyValue(f);z&&O.setDataAttribute(r,f,z)}_resetElementAttributes(r,f){this._applyManipulationCallback(r,z=>{const mt=O.getDataAttribute(z,f);null!==mt?(O.removeDataAttribute(z,f),z.style.setProperty(f,mt)):z.style.removeProperty(f)})}_applyManipulationCallback(r,f){if(p(r))f(r);else for(const z of ut.find(r,this._element))f(z)}}const Io="mousedown.bs.backdrop",sr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},$i={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class So extends F{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return sr}static get DefaultType(){return $i}static get NAME(){return"backdrop"}show(r){if(!this._config.isVisible)return void at(r);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{at(r)})}hide(r){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),at(r)})):at(r)}dispose(){this._isAppended&&(jt.off(this._element,Io),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add("fade"),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=I(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),jt.on(r,Io,()=>{at(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){_t(r,this._getElement(),this._config.isAnimated)}}const fo=".bs.focustrap",Ro="backward",Er={autofocus:!0,trapElement:null},Yn={autofocus:"boolean",trapElement:"element"};class ar extends F{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Er}static get DefaultType(){return Yn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),jt.off(document,fo),jt.on(document,"focusin.bs.focustrap",r=>this._handleFocusin(r)),jt.on(document,"keydown.tab.bs.focustrap",r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,jt.off(document,fo))}_handleFocusin(r){const{trapElement:f}=this._config;if(r.target===document||r.target===f||f.contains(r.target))return;const z=ut.focusableChildren(f);0===z.length?f.focus():this._lastTabNavDirection===Ro?z[z.length-1].focus():z[0].focus()}_handleKeydown(r){"Tab"===r.key&&(this._lastTabNavDirection=r.shiftKey?Ro:"forward")}}const Uo="hidden.bs.modal",lr="show.bs.modal",Gi="modal-open",to="modal-static",qo={backdrop:!0,focus:!0,keyboard:!0},po={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class mo extends w{constructor(r,f){super(r,f),this._dialog=ut.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Po,this._addEventListeners()}static get Default(){return qo}static get DefaultType(){return po}static get NAME(){return"modal"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||jt.trigger(this._element,lr,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Gi),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){this._isShown&&!this._isTransitioning&&(jt.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const r of[window,this._dialog])jt.off(r,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new So({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ar({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=ut.findOne(".modal-body",this._dialog);f&&(f.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,jt.trigger(this._element,"shown.bs.modal",{relatedTarget:r})},this._dialog,this._isAnimated())}_addEventListeners(){jt.on(this._element,"keydown.dismiss.bs.modal",r=>{if("Escape"===r.key)return this._config.keyboard?(r.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),jt.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),jt.on(this._element,"mousedown.dismiss.bs.modal",r=>{jt.one(this._element,"click.dismiss.bs.modal",f=>{this._element===r.target&&this._element===f.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Gi),this._resetAdjustments(),this._scrollBar.reset(),jt.trigger(this._element,Uo)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(jt.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;"hidden"===f||this._element.classList.contains(to)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(to),this._queueCallback(()=>{this._element.classList.remove(to),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),z=f>0;if(z&&!r){const mt=et()?"paddingLeft":"paddingRight";this._element.style[mt]=`${f}px`}if(!z&&r){const mt=et()?"paddingRight":"paddingLeft";this._element.style[mt]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,f){return this.each(function(){const z=mo.getOrCreateInstance(this,r);if("string"==typeof r){if(void 0===z[r])throw new TypeError(`No method named "${r}"`);z[r](f)}})}}jt.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(T){const r=D(this);["A","AREA"].includes(this.tagName)&&T.preventDefault(),jt.one(r,lr,z=>{z.defaultPrevented||jt.one(r,Uo,()=>{E(this)&&this.focus()})});const f=ut.findOne(".modal.show");f&&mo.getInstance(f).hide(),mo.getOrCreateInstance(r).toggle(this)}),B(mo),gt(mo);const No="showing",Wo=".offcanvas.show",Zo="hidePrevented.bs.offcanvas",Tr="hidden.bs.offcanvas",vr={backdrop:!0,keyboard:!0,scroll:!1},go={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class co extends w{constructor(r,f){super(r,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vr}static get DefaultType(){return go}static get NAME(){return"offcanvas"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||jt.trigger(this._element,"show.bs.offcanvas",{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Po).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(No),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(No),jt.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:r})},this._element,!0))}hide(){this._isShown&&(jt.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Po).reset(),jt.trigger(this._element,Tr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=Boolean(this._config.backdrop);return new So({className:"offcanvas-backdrop",isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?()=>{"static"!==this._config.backdrop?this.hide():jt.trigger(this._element,Zo)}:null})}_initializeFocusTrap(){return new ar({trapElement:this._element})}_addEventListeners(){jt.on(this._element,"keydown.dismiss.bs.offcanvas",r=>{"Escape"===r.key&&(this._config.keyboard?this.hide():jt.trigger(this._element,Zo))})}static jQueryInterface(r){return this.each(function(){const f=co.getOrCreateInstance(this,r);if("string"==typeof r){if(void 0===f[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);f[r](this)}})}}jt.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(T){const r=D(this);if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),k(this))return;jt.one(r,Tr,()=>{E(this)&&this.focus()});const f=ut.findOne(Wo);f&&f!==r&&co.getInstance(f).hide(),co.getOrCreateInstance(r).toggle(this)}),jt.on(window,"load.bs.offcanvas.data-api",()=>{for(const T of ut.find(Wo))co.getOrCreateInstance(T).show()}),jt.on(window,"resize.bs.offcanvas",()=>{for(const T of ut.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(T).position&&co.getOrCreateInstance(T).hide()}),B(co),gt(co);const Ki=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),en=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,zo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Do=(T,r)=>{const f=T.nodeName.toLowerCase();return r.includes(f)?!Ki.has(f)||Boolean(en.test(T.nodeValue)||zo.test(T.nodeValue)):r.filter(z=>z instanceof RegExp).some(z=>z.test(f))},vo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cr={allowList:vo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},t={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},e={entry:"(string|element|function|null)",selector:"(string|element)"};class o extends F{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return cr}static get DefaultType(){return t}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content=ir(ir({},this._config.content),r),this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[mt,ft]of Object.entries(this._config.content))this._setContent(r,ft,mt);const f=r.children[0],z=this._resolvePossibleFunction(this._config.extraClass);return z&&f.classList.add(...z.split(" ")),f}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[f,z]of Object.entries(r))super._typeCheckConfig({selector:f,entry:z},e)}_setContent(r,f,z){const mt=ut.findOne(z,r);mt&&((f=this._resolvePossibleFunction(f))?p(f)?this._putElementInTemplate(I(f),mt):this._config.html?mt.innerHTML=this._maybeSanitize(f):mt.textContent=f:mt.remove())}_maybeSanitize(r){return this._config.sanitize?function(f,z,mt){if(!f.length)return f;if(mt&&"function"==typeof mt)return mt(f);const ft=(new window.DOMParser).parseFromString(f,"text/html"),Bt=[].concat(...ft.body.querySelectorAll("*"));for(const $t of Bt){const pe=$t.nodeName.toLowerCase();if(!Object.keys(z).includes(pe)){$t.remove();continue}const Be=[].concat(...$t.attributes),Ve=[].concat(z["*"]||[],z[pe]||[]);for(const ye of Be)Do(ye,Ve)||$t.removeAttribute(ye.nodeName)}return ft.body.innerHTML}(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return"function"==typeof r?r(this):r}_putElementInTemplate(r,f){if(this._config.html)return f.innerHTML="",void f.append(r);f.textContent=r.textContent}}const l=new Set(["sanitize","allowList","sanitizeFn"]),d="fade",R="show",st="hide.bs.modal",qt="hover",Ue={AUTO:"auto",TOP:"top",RIGHT:et()?"left":"right",BOTTOM:"bottom",LEFT:et()?"right":"left"},An={allowList:vo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Di extends w{constructor(r,f){if(void 0===wo)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return An}static get DefaultType(){return fi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),jt.off(this._element.closest(".modal"),st,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const r=jt.trigger(this._element,this.constructor.eventName("show")),f=(G(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!f)return;this._disposePopper();const z=this._getTipElement();this._element.setAttribute("aria-describedby",z.getAttribute("id"));const{container:mt}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(mt.append(z),jt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(z),z.classList.add(R),"ontouchstart"in document.documentElement)for(const ft of[].concat(...document.body.children))jt.on(ft,"mouseover",q);this._queueCallback(()=>{jt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!jt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(R),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))jt.off(r,"mouseover",q);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),jt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const f=this._getTemplateFactory(r).toHtml();if(!f)return null;f.classList.remove(d,R),f.classList.add(`bs-${this.constructor.NAME}-auto`);const z=(mt=>{do{mt+=Math.floor(1e6*Math.random())}while(document.getElementById(mt));return mt})(this.constructor.NAME).toString();return f.setAttribute("id",z),this._isAnimated()&&f.classList.add(d),f}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new o(ms(ir({},this._config),{content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(d)}_isShown(){return this.tip&&this.tip.classList.contains(R)}_createPopper(r){const f="function"==typeof this._config.placement?this._config.placement.call(this,r,this._element):this._config.placement,z=Ue[f.toUpperCase()];return Go(this._element,r,this._getPopperConfig(z))}_getOffset(){const{offset:r}=this._config;return"string"==typeof r?r.split(",").map(f=>Number.parseInt(f,10)):"function"==typeof r?f=>r(f,this._element):r}_resolvePossibleFunction(r){return"function"==typeof r?r.call(this._element):r}_getPopperConfig(r){const f={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:z=>{this._getTipElement().setAttribute("data-popper-placement",z.state.placement)}}]};return ir(ir({},f),"function"==typeof this._config.popperConfig?this._config.popperConfig(f):this._config.popperConfig)}_setListeners(){const r=this._config.trigger.split(" ");for(const f of r)if("click"===f)jt.on(this._element,this.constructor.eventName("click"),this._config.selector,z=>{this._initializeOnDelegatedTarget(z).toggle()});else if("manual"!==f){const z=this.constructor.eventName(f===qt?"mouseenter":"focusin"),mt=this.constructor.eventName(f===qt?"mouseleave":"focusout");jt.on(this._element,z,this._config.selector,ft=>{const Bt=this._initializeOnDelegatedTarget(ft);Bt._activeTrigger["focusin"===ft.type?"focus":qt]=!0,Bt._enter()}),jt.on(this._element,mt,this._config.selector,ft=>{const Bt=this._initializeOnDelegatedTarget(ft);Bt._activeTrigger["focusout"===ft.type?"focus":qt]=Bt._element.contains(ft.relatedTarget),Bt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},jt.on(this._element.closest(".modal"),st,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");r&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,f){clearTimeout(this._timeout),this._timeout=setTimeout(r,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const f=O.getDataAttributes(this._element);for(const z of Object.keys(f))l.has(z)&&delete f[z];return r=ir(ir({},f),"object"==typeof r&&r?r:{}),r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=!1===r.container?document.body:I(r.container),"number"==typeof r.delay&&(r.delay={show:r.delay,hide:r.delay}),"number"==typeof r.title&&(r.title=r.title.toString()),"number"==typeof r.content&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const f in this._config)this.constructor.Default[f]!==this._config[f]&&(r[f]=this._config[f]);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){const f=Di.getOrCreateInstance(this,r);if("string"==typeof r){if(void 0===f[r])throw new TypeError(`No method named "${r}"`);f[r]()}})}}gt(Di);const _o=ms(ir({},Di.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),ji=ms(ir({},Di.DefaultType),{content:"(null|string|element|function)"});class Ji extends Di{static get Default(){return _o}static get DefaultType(){return ji}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const f=Ji.getOrCreateInstance(this,r);if("string"==typeof r){if(void 0===f[r])throw new TypeError(`No method named "${r}"`);f[r]()}})}}gt(Ji);const Lr="click.bs.scrollspy",Ho="active",si={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},pr={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class tr extends w{constructor(r,f){super(r,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return si}static get DefaultType(){return pr}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=I(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,"string"==typeof r.threshold&&(r.threshold=r.threshold.split(",").map(f=>Number.parseFloat(f))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(jt.off(this._config.target,Lr),jt.on(this._config.target,Lr,"[href]",r=>{const f=this._observableSections.get(r.target.hash);if(f){r.preventDefault();const z=this._rootElement||window,mt=f.offsetTop-this._element.offsetTop;if(z.scrollTo)return void z.scrollTo({top:mt,behavior:"smooth"});z.scrollTop=mt}}))}_getNewObserver(){return new IntersectionObserver(f=>this._observerCallback(f),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(r){const f=Bt=>this._targetLinks.get(`#${Bt.target.id}`),z=Bt=>{this._previousScrollData.visibleEntryTop=Bt.target.offsetTop,this._process(f(Bt))},mt=(this._rootElement||document.documentElement).scrollTop,ft=mt>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=mt;for(const Bt of r){if(!Bt.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(Bt));continue}const $t=Bt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ft&&$t){if(z(Bt),!mt)return}else ft||$t||z(Bt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=ut.find("[href]",this._config.target);for(const f of r){if(!f.hash||k(f))continue;const z=ut.findOne(f.hash,this._element);E(z)&&(this._targetLinks.set(f.hash,f),this._observableSections.set(f.hash,z))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(Ho),this._activateParents(r),jt.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:r}))}_activateParents(r){if(r.classList.contains("dropdown-item"))ut.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(Ho);else for(const f of ut.parents(r,".nav, .list-group"))for(const z of ut.prev(f,".nav-link, .nav-item > .nav-link, .list-group-item"))z.classList.add(Ho)}_clearActiveClass(r){r.classList.remove(Ho);const f=ut.find("[href].active",r);for(const z of f)z.classList.remove(Ho)}static jQueryInterface(r){return this.each(function(){const f=tr.getOrCreateInstance(this,r);if("string"==typeof r){if(void 0===f[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);f[r]()}})}}jt.on(window,"load.bs.scrollspy.data-api",()=>{for(const T of ut.find('[data-bs-spy="scroll"]'))tr.getOrCreateInstance(T)}),gt(tr);const _r="ArrowLeft",hr="ArrowRight",dr="ArrowUp",Rr="ArrowDown",xr="active",Cr="show",kr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',er=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${kr}`;class Oo extends w{constructor(r){super(r),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),jt.on(this._element,"keydown.bs.tab",f=>this._keydown(f)))}static get NAME(){return"tab"}show(){const r=this._element;if(this._elemIsActive(r))return;const f=this._getActiveElem(),z=f?jt.trigger(f,"hide.bs.tab",{relatedTarget:r}):null;jt.trigger(r,"show.bs.tab",{relatedTarget:f}).defaultPrevented||z&&z.defaultPrevented||(this._deactivate(f,r),this._activate(r,f))}_activate(r,f){r&&(r.classList.add(xr),this._activate(D(r)),this._queueCallback(()=>{"tab"===r.getAttribute("role")?(r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),jt.trigger(r,"shown.bs.tab",{relatedTarget:f})):r.classList.add(Cr)},r,r.classList.contains("fade")))}_deactivate(r,f){r&&(r.classList.remove(xr),r.blur(),this._deactivate(D(r)),this._queueCallback(()=>{"tab"===r.getAttribute("role")?(r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),jt.trigger(r,"hidden.bs.tab",{relatedTarget:f})):r.classList.remove(Cr)},r,r.classList.contains("fade")))}_keydown(r){if(![_r,hr,dr,Rr].includes(r.key))return;r.stopPropagation(),r.preventDefault();const f=[hr,Rr].includes(r.key),z=Xt(this._getChildren().filter(mt=>!k(mt)),r.target,f,!0);z&&(z.focus({preventScroll:!0}),Oo.getOrCreateInstance(z).show())}_getChildren(){return ut.find(er,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,f){this._setAttributeIfNotExists(r,"role","tablist");for(const z of f)this._setInitialAttributesOnChild(z)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const f=this._elemIsActive(r),z=this._getOuterElement(r);r.setAttribute("aria-selected",f),z!==r&&this._setAttributeIfNotExists(z,"role","presentation"),f||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const f=D(r);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`#${r.id}`))}_toggleDropDown(r,f){const z=this._getOuterElement(r);if(!z.classList.contains("dropdown"))return;const mt=(ft,Bt)=>{const $t=ut.findOne(ft,z);$t&&$t.classList.toggle(Bt,f)};mt(".dropdown-toggle",xr),mt(".dropdown-menu",Cr),z.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(r,f,z){r.hasAttribute(f)||r.setAttribute(f,z)}_elemIsActive(r){return r.classList.contains(xr)}_getInnerElement(r){return r.matches(er)?r:ut.findOne(er,r)}_getOuterElement(r){return r.closest(".nav-item, .list-group-item")||r}static jQueryInterface(r){return this.each(function(){const f=Oo.getOrCreateInstance(this);if("string"==typeof r){if(void 0===f[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);f[r]()}})}}jt.on(document,"click.bs.tab",kr,function(T){["A","AREA"].includes(this.tagName)&&T.preventDefault(),k(this)||Oo.getOrCreateInstance(this).show()}),jt.on(window,"load.bs.tab",()=>{for(const T of ut.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Oo.getOrCreateInstance(T)}),gt(Oo);const Sr="show",mr="showing",yr={animation:"boolean",autohide:"boolean",delay:"number"},Or={animation:!0,autohide:!0,delay:5e3};class Yo extends w{constructor(r,f){super(r,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Or}static get DefaultType(){return yr}static get NAME(){return"toast"}show(){jt.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Sr,mr),this._queueCallback(()=>{this._element.classList.remove(mr),jt.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(jt.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(mr),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(mr,Sr),jt.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Sr),super.dispose()}isShown(){return this._element.classList.contains(Sr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,f){switch(r.type){case"mouseover":case"mouseout":this._hasMouseInteraction=f;break;case"focusin":case"focusout":this._hasKeyboardInteraction=f}if(f)return void this._clearTimeout();const z=r.relatedTarget;this._element===z||this._element.contains(z)||this._maybeScheduleHide()}_setListeners(){jt.on(this._element,"mouseover.bs.toast",r=>this._onInteraction(r,!0)),jt.on(this._element,"mouseout.bs.toast",r=>this._onInteraction(r,!1)),jt.on(this._element,"focusin.bs.toast",r=>this._onInteraction(r,!0)),jt.on(this._element,"focusout.bs.toast",r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const f=Yo.getOrCreateInstance(this,r);if("string"==typeof r){if(void 0===f[r])throw new TypeError(`No method named "${r}"`);f[r](this)}})}}return B(Yo),gt(Yo),{Alert:Y,Button:St,Carousel:Mt,Collapse:ze,Dropdown:ii,Modal:mo,Offcanvas:co,Popover:Ji,ScrollSpy:tr,Tab:Oo,Toast:Yo,Tooltip:Di}}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M=M||self).SimpleBar=Q()}(this,function(){"use strict";var M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Q(a,g){return a(g={exports:{}},g.exports),g.exports}var Ot,D,y=function(a){return a&&a.Math==Math&&a},p=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof M&&M)||function(){return this}()||Function("return this")(),I=Object.defineProperty,E=function(a,g){try{I(p,a,{value:g,configurable:!0,writable:!0})}catch(_){p[a]=g}return g},k=p["__core-js_shared__"]||E("__core-js_shared__",{}),G=Q(function(a){(a.exports=function(g,_){return k[g]||(k[g]=void 0!==_?_:{})})("versions",[]).push({version:"3.22.6",mode:"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.6/LICENSE",source:"https://github.com/zloirock/core-js"})}),q=function(a){try{return!!a()}catch(g){return!0}},ot=!q(function(){var a=function(){}.bind();return"function"!=typeof a||a.hasOwnProperty("prototype")}),x=Function.prototype,et=x.call,gt=ot&&x.bind.bind(et,et),at=ot?function(a){return a&&gt(a)}:function(a){return a&&function(){return et.apply(a,arguments)}},_t=p.TypeError,Xt=function(a){if(null==a)throw _t("Can't call method on "+a);return a},re=p.Object,le=function(a){return re(Xt(a))},be=at({}.hasOwnProperty),yt=Object.hasOwn||function(a,g){return be(le(a),g)},Ie=0,je=Math.random(),_e=at(1..toString),De=function(a){return"Symbol("+(void 0===a?"":a)+")_"+_e(++Ie+je,36)},Pe=function(a){return"function"==typeof a},xn=function(a){return Pe(a)?a:void 0},Fn=function(a,g){return arguments.length<2?xn(p[a]):p[a]&&p[a][g]},Gn=Fn("navigator","userAgent")||"",Ne=p.process,qn=p.Deno,Te=Ne&&Ne.versions||qn&&qn.version,jt=Te&&Te.v8;jt&&(D=(Ot=jt.split("."))[0]>0&&Ot[0]<4?1:+(Ot[0]+Ot[1])),!D&&Gn&&(!(Ot=Gn.match(/Edge\/(\d+)/))||Ot[1]>=74)&&(Ot=Gn.match(/Chrome\/(\d+)/))&&(D=+Ot[1]);var ei=D,W=!!Object.getOwnPropertySymbols&&!q(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&ei&&ei<41}),Vt=W&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=G("wks"),m=p.Symbol,O=m&&m.for,F=Vt?m:m&&m.withoutSetter||De,w=function(a){if(!yt(X,a)||!W&&"string"!=typeof X[a]){var g="Symbol."+a;X[a]=W&&yt(m,a)?m[a]:Vt&&O?O(g):F(g)}return X[a]},B={};B[w("toStringTag")]="z";var Y="[object z]"===String(B),it=!q(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),St=function(a){return"object"==typeof a?null!==a:Pe(a)},ut=p.document,Ut=St(ut)&&St(ut.createElement),Ft=function(a){return Ut?ut.createElement(a):{}},b=!it&&!q(function(){return 7!=Object.defineProperty(Ft("div"),"a",{get:function(){return 7}}).a}),c=it&&q(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),h=p.String,j=p.TypeError,U=function(a){if(St(a))return a;throw j(h(a)+" is not an object")},$=Function.prototype.call,K=ot?$.bind($):function(){return $.apply($,arguments)},ct=at({}.isPrototypeOf),It=p.Object,Pt=Vt?function(a){return"symbol"==typeof a}:function(a){var g=Fn("Symbol");return Pe(g)&&ct(g.prototype,It(a))},tt=p.String,Mt=function(a){try{return tt(a)}catch(g){return"Object"}},kt=p.TypeError,pt=function(a){if(Pe(a))return a;throw kt(Mt(a)+" is not a function")},Wt=function(a,g){var _=a[g];return null==_?void 0:pt(_)},ee=p.TypeError,Se=p.TypeError,Ae=w("toPrimitive"),Me=function(a){var g=function(a,g){if(!St(a)||Pt(a))return a;var _,N=Wt(a,Ae);if(N){if(void 0===g&&(g="default"),_=K(N,a,g),!St(_)||Pt(_))return _;throw Se("Can't convert object to primitive value")}return void 0===g&&(g="number"),function(A,dt){var zt,Tt;if("string"===dt&&Pe(zt=A.toString)&&!St(Tt=K(zt,A))||Pe(zt=A.valueOf)&&!St(Tt=K(zt,A))||"string"!==dt&&Pe(zt=A.toString)&&!St(Tt=K(zt,A)))return Tt;throw ee("Can't convert object to primitive value")}(a,g)}(a,"string");return Pt(g)?g:g+""},Qt=p.TypeError,Yt=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,te={f:it?c?function(a,g,_){if(U(a),g=Me(g),U(_),"function"==typeof a&&"prototype"===g&&"value"in _&&"writable"in _&&!_.writable){var N=Le(a,g);N&&N.writable&&(a[g]=_.value,_={configurable:"configurable"in _?_.configurable:N.configurable,enumerable:"enumerable"in _?_.enumerable:N.enumerable,writable:!1})}return Yt(a,g,_)}:Yt:function(a,g,_){if(U(a),g=Me(g),U(_),b)try{return Yt(a,g,_)}catch(N){}if("get"in _||"set"in _)throw Qt("Accessors not supported");return"value"in _&&(a[g]=_.value),a}},In=function(a,g){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:g}},bt=it?function(a,g,_){return te.f(a,g,In(1,_))}:function(a,g,_){return a[g]=_,a},xe=Function.prototype,ie=it&&Object.getOwnPropertyDescriptor,Ke=yt(xe,"name"),qe={EXISTS:Ke,PROPER:Ke&&"something"===function(){}.name,CONFIGURABLE:Ke&&(!it||it&&ie(xe,"name").configurable)},Qe=at(Function.toString);Pe(k.inspectSource)||(k.inspectSource=function(a){return Qe(a)});var yn,dn,Cn,bn=k.inspectSource,wn=p.WeakMap,En=Pe(wn)&&/native code/.test(bn(wn)),hi=G("keys"),Wn=function(a){return hi[a]||(hi[a]=De(a))},Fe={},ne=p.TypeError;if(En||k.state){var Re=k.state||(k.state=new(0,p.WeakMap)),hn=at(Re.get),mn=at(Re.has),He=at(Re.set);yn=function(a,g){if(mn(Re,a))throw new ne("Object already initialized");return g.facade=a,He(Re,a,g),g},dn=function(a){return hn(Re,a)||{}},Cn=function(a){return mn(Re,a)}}else{var ge=Wn("state");Fe[ge]=!0,yn=function(a,g){if(yt(a,ge))throw new ne("Object already initialized");return g.facade=a,bt(a,ge,g),g},dn=function(a){return yt(a,ge)?a[ge]:{}},Cn=function(a){return yt(a,ge)}}var Oe={set:yn,get:dn,has:Cn,enforce:function(a){return Cn(a)?dn(a):yn(a,{})},getterFor:function(a){return function(g){var _;if(!St(g)||(_=dn(g)).type!==a)throw ne("Incompatible receiver, "+a+" required");return _}}},Rn=Q(function(a){var g=qe.CONFIGURABLE,_=Oe.enforce,N=Oe.get,A=Object.defineProperty,dt=it&&!q(function(){return 8!==A(function(){},"length",{value:8}).length}),zt=String(String).split("String"),Tt=a.exports=function(At,oe,ue){if("Symbol("===String(oe).slice(0,7)&&(oe="["+String(oe).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),ue&&ue.getter&&(oe="get "+oe),ue&&ue.setter&&(oe="set "+oe),(!yt(At,"name")||g&&At.name!==oe)&&A(At,"name",{value:oe,configurable:!0}),dt&&ue&&yt(ue,"arity")&&At.length!==ue.arity&&A(At,"length",{value:ue.arity}),ue&&yt(ue,"constructor")&&ue.constructor){if(it)try{A(At,"prototype",{writable:!1})}catch(vn){}}else At.prototype=void 0;var Ze=_(At);return yt(Ze,"source")||(Ze.source=zt.join("string"==typeof oe?oe:"")),At};Function.prototype.toString=Tt(function(){return Pe(this)&&N(this).source||bn(this)},"toString")}),on=function(a,g,_,N){N||(N={});var A=N.enumerable,dt=void 0!==N.name?N.name:g;return Pe(_)&&Rn(_,dt,N),N.global?A?a[g]=_:E(g,_):(N.unsafe?a[g]&&(A=!0):delete a[g],A?a[g]=_:bt(a,g,_)),a},di=at({}.toString),Zn=at("".slice),Nn=function(a){return Zn(di(a),8,-1)},Dn=w("toStringTag"),Hi=p.Object,zi="Arguments"==Nn(function(){return arguments}()),Bi=Y?Nn:function(a){var g,_,N;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(_=function(A,dt){try{return A[dt]}catch(zt){}}(g=Hi(a),Dn))?_:zi?Nn(g):"Object"==(N=Nn(g))&&Pe(g.callee)?"Arguments":N};Y||on(Object.prototype,"toString",Y?{}.toString:function(){return"[object "+Bi(this)+"]"},{unsafe:!0});var Hn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Co=Ft("span").classList,ht=Co&&Co.constructor&&Co.constructor.prototype,nt=ht===Object.prototype?void 0:ht,xt=at(at.bind),wt=function(a,g){return pt(a),void 0===g?a:ot?xt(a,g):function(){return a.apply(g,arguments)}},fe=p.Object,Ee=at("".split),gn=q(function(){return!fe("z").propertyIsEnumerable(0)})?function(a){return"String"==Nn(a)?Ee(a,""):fe(a)}:fe,he=Math.ceil,ce=Math.floor,Xe=Math.trunc||function(a){var g=+a;return(g>0?ce:he)(g)},rn=function(a){var g=+a;return g!=g||0===g?0:Xe(g)},Ye=Math.min,an=function(a){return a>0?Ye(rn(a),9007199254740991):0},Un=function(a){return an(a.length)},bi=Array.isArray||function(a){return"Array"==Nn(a)},ni=function(){},de=[],ki=Fn("Reflect","construct"),ri=/^\s*(?:class|function)\b/,Ri=at(ri.exec),Sn=!ri.exec(ni),Fi=function(a){if(!Pe(a))return!1;try{return ki(ni,de,a),!0}catch(g){return!1}},oo=function(a){if(!Pe(a))return!1;switch(Bi(a)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Sn||!!Ri(ri,bn(a))}catch(g){return!0}};oo.sham=!0;var Si=!ki||q(function(){var a;return Fi(Fi.call)||!Fi(Object)||!Fi(function(){a=!0})||a})?oo:Fi,Xo=w("species"),Ai=p.Array,bo=function(a,g){return new(bi(_=a)&&(Si(N=_.constructor)&&(N===Ai||bi(N.prototype))||St(N)&&null===(N=N[Xo]))&&(N=void 0),void 0===N?Ai:N)(0===g?0:g);var _,N},On=at([].push),Kn=function(a){var g=1==a,_=2==a,N=3==a,A=4==a,dt=6==a,zt=7==a,Tt=5==a||dt;return function(At,oe,ue,Ze){for(var vn,un,Mi=le(At),ci=gn(Mi),Bn=wt(oe,ue),kn=Un(ci),$e=0,pn=Ze||bo,ui=g?pn(At,kn):_||zt?pn(At,0):void 0;kn>$e;$e++)if((Tt||$e in ci)&&(un=Bn(vn=ci[$e],$e,Mi),a))if(g)ui[$e]=un;else if(un)switch(a){case 3:return!0;case 5:return vn;case 6:return $e;case 2:On(ui,vn)}else switch(a){case 4:return!1;case 7:On(ui,vn)}return dt?-1:N||A?A:ui}},uo={forEach:Kn(0),map:Kn(1),filter:Kn(2),some:Kn(3),every:Kn(4),find:Kn(5),findIndex:Kn(6),filterReject:Kn(7)},Bo=function(a,g){var _=[][a];return!!_&&q(function(){_.call(null,g||function(){return 1},1)})},Ei=uo.forEach,gi=Bo("forEach")?[].forEach:function(a){return Ei(this,a,arguments.length>1?arguments[1]:void 0)},Fo=function(a){if(a&&a.forEach!==gi)try{bt(a,"forEach",gi)}catch(g){a.forEach=gi}};for(var $o in Hn)Hn[$o]&&Fo(p[$o]&&p[$o].prototype);Fo(nt);var Eo=!("undefined"==typeof window||!window.document||!window.document.createElement),ho={}.propertyIsEnumerable,Ao=Object.getOwnPropertyDescriptor,Ui={f:Ao&&!ho.call({1:2},1)?function(a){var g=Ao(this,a);return!!g&&g.enumerable}:ho},ro=function(a){return gn(Xt(a))},ko=Object.getOwnPropertyDescriptor,gr={f:it?ko:function(a,g){if(a=ro(a),g=Me(g),b)try{return ko(a,g)}catch(_){}if(yt(a,g))return In(!K(Ui.f,a,g),a[g])}},or=Math.max,Go=Math.min,wo=function(a,g){var _=rn(a);return _<0?or(_+g,0):Go(_,g)},so=function(a){return function(g,_,N){var A,dt=ro(g),zt=Un(dt),Tt=wo(N,zt);if(a&&_!=_){for(;zt>Tt;)if((A=dt[Tt++])!=A)return!0}else for(;zt>Tt;Tt++)if((a||Tt in dt)&&dt[Tt]===_)return a||Tt||0;return!a&&-1}},fr=(so(!0),so(!1)),Ko=at([].push),jo=function(a,g){var _,N=ro(a),A=0,dt=[];for(_ in N)!yt(Fe,_)&&yt(N,_)&&Ko(dt,_);for(;g.length>A;)yt(N,_=g[A++])&&(~fr(dt,_)||Ko(dt,_));return dt},To=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$n=To.concat("length","prototype"),qi={f:Object.getOwnPropertyNames||function(a){return jo(a,$n)}},Xi={f:Object.getOwnPropertySymbols},_i=at([].concat),Jo=Fn("Reflect","ownKeys")||function(a){var g=qi.f(U(a)),_=Xi.f;return _?_i(g,_(a)):g},Ti=function(a,g,_){for(var N=Jo(g),A=te.f,dt=gr.f,zt=0;zt<N.length;zt++){var Tt=N[zt];yt(a,Tt)||_&&yt(_,Tt)||A(a,Tt,dt(g,Tt))}},vi=/#|\.prototype\./,ao=function(a,g){var _=lo[Vo(a)];return _==rr||_!=Oi&&(Pe(g)?q(g):!!g)},Vo=ao.normalize=function(a){return String(a).replace(vi,".").toLowerCase()},lo=ao.data={},Oi=ao.NATIVE="N",rr=ao.POLYFILL="P",ii=ao,xo=gr.f,Qi=function(a,g){var _,N,A,dt,zt,Tt=a.target,At=a.global,oe=a.stat;if(_=At?p:oe?p[Tt]||E(Tt,{}):(p[Tt]||{}).prototype)for(N in g){if(dt=g[N],A=a.dontCallGetSet?(zt=xo(_,N))&&zt.value:_[N],!ii(At?N:Tt+(oe?".":"#")+N,a.forced)&&void 0!==A){if(typeof dt==typeof A)continue;Ti(dt,A)}(a.sham||A&&A.sham)&&bt(dt,"sham",!0),on(_,N,dt,a)}},Wi=p.String,Pi=function(a){if("Symbol"===Bi(a))throw TypeError("Cannot convert a Symbol value to a string");return Wi(a)},Po="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Mo=at("".replace),Io="["+Po+"]",sr=RegExp("^"+Io+Io+"*"),$i=RegExp(Io+Io+"*$"),So=function(a){return function(g){var _=Pi(Xt(g));return 1&a&&(_=Mo(_,sr,"")),2&a&&(_=Mo(_,$i,"")),_}},fo=(So(1),So(2),So(3)),Ro=p.parseInt,Er=p.Symbol,Yn=Er&&Er.iterator,ar=/^[+-]?0x/i,Uo=at(ar.exec),lr=8!==Ro(Po+"08")||22!==Ro(Po+"0x16")||Yn&&!q(function(){Ro(Object(Yn))})?function(a,g){var _=fo(Pi(a));return Ro(_,g>>>0||(Uo(ar,_)?16:10))}:Ro;Qi({global:!0,forced:parseInt!=lr},{parseInt:lr});var Gi=Object.keys||function(a){return jo(a,To)},yi=Object.assign,to=Object.defineProperty,qo=at([].concat),po=!yi||q(function(){if(it&&1!==yi({b:1},yi(to({},"a",{enumerable:!0,get:function(){to(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var a={},g={},_=Symbol();return a[_]=7,"abcdefghijklmnopqrst".split("").forEach(function(N){g[N]=N}),7!=yi({},a)[_]||"abcdefghijklmnopqrst"!=Gi(yi({},g)).join("")})?function(a,g){for(var _=le(a),N=arguments.length,A=1,dt=Xi.f,zt=Ui.f;N>A;)for(var Tt,At=gn(arguments[A++]),oe=dt?qo(Gi(At),dt(At)):Gi(At),ue=oe.length,Ze=0;ue>Ze;)Tt=oe[Ze++],it&&!K(zt,At,Tt)||(_[Tt]=At[Tt]);return _}:yi;Qi({target:"Object",stat:!0,arity:2,forced:Object.assign!==po},{assign:po});var wr=w("species"),No=uo.filter,Qo=ei>=51||!q(function(){var a=[];return(a.constructor={})[wr]=function(){return{foo:1}},1!==a.filter(Boolean).foo});Qi({target:"Array",proto:!0,forced:!Qo},{filter:function(a){return No(this,a,arguments.length>1?arguments[1]:void 0)}});var Wo,Zo={f:it&&!c?Object.defineProperties:function(a,g){U(a);for(var _,N=ro(g),A=Gi(g),dt=A.length,zt=0;dt>zt;)te.f(a,_=A[zt++],N[_]);return a}},Tr=Fn("document","documentElement"),vr=Wn("IE_PROTO"),go=function(){},co=function(a){return"<script>"+a+"<\/script>"},Ki=function(a){a.write(co("")),a.close();var g=a.parentWindow.Object;return a=null,g},en=function(){try{Wo=new ActiveXObject("htmlfile")}catch(N){}var a,g;en="undefined"!=typeof document?document.domain&&Wo?Ki(Wo):((g=Ft("iframe")).style.display="none",Tr.appendChild(g),g.src=String("javascript:"),(a=g.contentWindow.document).open(),a.write(co("document.F=Object")),a.close(),a.F):Ki(Wo);for(var _=To.length;_--;)delete en.prototype[To[_]];return en()};Fe[vr]=!0;var zo=Object.create||function(a,g){var _;return null!==a?(go.prototype=U(a),_=new go,go.prototype=null,_[vr]=a):_=en(),void 0===g?_:Zo.f(_,g)},Do=te.f,vo=w("unscopables"),cr=Array.prototype;null==cr[vo]&&Do(cr,vo,{configurable:!0,value:zo(null)});var t,e,o,l=function(a){cr[vo][a]=!0},d={},R=!q(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),lt=Wn("IE_PROTO"),st=p.Object,qt=st.prototype,ve=R?st.getPrototypeOf:function(a){var g=le(a);if(yt(g,lt))return g[lt];var _=g.constructor;return Pe(_)&&g instanceof _?_.prototype:g instanceof st?qt:null},Ue=w("iterator"),An=!1;[].keys&&("next"in(o=[].keys())?(e=ve(ve(o)))!==Object.prototype&&(t=e):An=!0),(null==t||q(function(){var a={};return t[Ue].call(a)!==a}))&&(t={}),Pe(t[Ue])||on(t,Ue,function(){return this});var fi={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:An},Di=te.f,_o=w("toStringTag"),ji=function(a,g,_){a&&!_&&(a=a.prototype),a&&!yt(a,_o)&&Di(a,_o,{configurable:!0,value:g})},Ji=fi.IteratorPrototype,Lr=function(){return this},Ho=p.String,ur=p.TypeError,si=Object.setPrototypeOf||("__proto__"in{}?function(){var a,g=!1,_={};try{(a=at(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(_,[]),g=_ instanceof Array}catch(N){}return function(N,A){return U(N),function(dt){if("object"==typeof dt||Pe(dt))return dt;throw ur("Can't set "+Ho(dt)+" as a prototype")}(A),g?a(N,A):N.__proto__=A,N}}():void 0),pr=qe.PROPER,tr=qe.CONFIGURABLE,_r=fi.IteratorPrototype,hr=fi.BUGGY_SAFARI_ITERATORS,dr=w("iterator"),Rr=function(){return this},xr=function(a,g,_,N,A,dt,zt){var kn,yo;yo=g+" Iterator",(kn=_).prototype=zo(Ji,{next:In(1,N)}),ji(kn,yo,!1),d[yo]=Lr;var Tt,At,oe,ue=function(kn){if(kn===A&&ci)return ci;if(!hr&&kn in un)return un[kn];switch(kn){case"keys":case"values":case"entries":return function(){return new _(this,kn)}}return function(){return new _(this)}},Ze=g+" Iterator",vn=!1,un=a.prototype,Mi=un[dr]||un["@@iterator"]||A&&un[A],ci=!hr&&Mi||ue(A),Bn="Array"==g&&un.entries||Mi;if(Bn&&(Tt=ve(Bn.call(new a)))!==Object.prototype&&Tt.next&&(ve(Tt)!==_r&&(si?si(Tt,_r):Pe(Tt[dr])||on(Tt,dr,Rr)),ji(Tt,Ze,!0)),pr&&"values"==A&&Mi&&"values"!==Mi.name&&(tr?bt(un,"name","values"):(vn=!0,ci=function(){return K(Mi,this)})),A)if(At={values:ue("values"),keys:dt?ci:ue("keys"),entries:ue("entries")},zt)for(oe in At)(hr||vn||!(oe in un))&&on(un,oe,At[oe]);else Qi({target:g,proto:!0,forced:hr||vn},At);return un[dr]!==ci&&on(un,dr,ci,{name:A}),d[g]=ci,At},Dr=te.f,Cr=Oe.set,kr=Oe.getterFor("Array Iterator"),er=xr(Array,"Array",function(a,g){Cr(this,{type:"Array Iterator",target:ro(a),index:0,kind:g})},function(){var a=kr(this),g=a.target,_=a.kind,N=a.index++;return!g||N>=g.length?(a.target=void 0,{value:void 0,done:!0}):"keys"==_?{value:N,done:!1}:"values"==_?{value:g[N],done:!1}:{value:[N,g[N]],done:!1}},"values"),Oo=d.Arguments=d.Array;if(l("keys"),l("values"),l("entries"),it&&"values"!==Oo.name)try{Dr(Oo,"name",{value:"values"})}catch(a){}var Ir=at("".charAt),Sr=at("".charCodeAt),mr=at("".slice),yr=function(a){return function(g,_){var N,A,dt=Pi(Xt(g)),zt=rn(_),Tt=dt.length;return zt<0||zt>=Tt?a?"":void 0:(N=Sr(dt,zt))<55296||N>56319||zt+1===Tt||(A=Sr(dt,zt+1))<56320||A>57343?a?Ir(dt,zt):N:a?mr(dt,zt,zt+2):A-56320+(N-55296<<10)+65536}},Or={codeAt:yr(!1),charAt:yr(!0)},Yo=Or.charAt,T=Oe.set,r=Oe.getterFor("String Iterator");xr(String,"String",function(a){T(this,{type:"String Iterator",string:Pi(a),index:0})},function(){var a,g=r(this),_=g.string,N=g.index;return N>=_.length?{value:void 0,done:!0}:(a=Yo(_,N),g.index+=a.length,{value:a,done:!1})});var f=function(a,g,_){for(var N in g)on(a,N,g[N],_);return a},z=p.Array,mt=Math.max,ft=qi.f,Bt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],pe={f:function(a){return Bt&&"Window"==Nn(a)?function(a){try{return ft(a)}catch(g){return function(_,N,A){for(var dt,Tt,At,oe=Un(_),ue=wo(void 0,oe),Ze=wo(oe,oe),vn=z(mt(Ze-ue,0)),un=0;ue<Ze;ue++,un++)dt=vn,Tt=_[ue],(At=Me(un))in dt?te.f(dt,At,In(0,Tt)):dt[At]=Tt;return vn.length=un,vn}(Bt)}}(a):ft(ro(a))}},Be=q(function(){if("function"==typeof ArrayBuffer){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}}),Ve=Object.isExtensible,ye=q(function(){Ve(1)})||Be?function(a){return!!St(a)&&(!Be||"ArrayBuffer"!=Nn(a))&&(!Ve||Ve(a))}:Ve,Pn=!q(function(){return Object.isExtensible(Object.preventExtensions({}))}),nn=Q(function(a){var g=te.f,_=!1,N=De("meta"),A=0,dt=function(Tt){g(Tt,N,{value:{objectID:"O"+A++,weakData:{}}})},zt=a.exports={enable:function(){zt.enable=function(){},_=!0;var Tt=qi.f,At=at([].splice),oe={};oe[N]=1,Tt(oe).length&&(qi.f=function(ue){for(var Ze=Tt(ue),vn=0,un=Ze.length;vn<un;vn++)if(Ze[vn]===N){At(Ze,vn,1);break}return Ze},Qi({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:pe.f}))},fastKey:function(Tt,At){if(!St(Tt))return"symbol"==typeof Tt?Tt:("string"==typeof Tt?"S":"P")+Tt;if(!yt(Tt,N)){if(!ye(Tt))return"F";if(!At)return"E";dt(Tt)}return Tt[N].objectID},getWeakData:function(Tt,At){if(!yt(Tt,N)){if(!ye(Tt))return!0;if(!At)return!1;dt(Tt)}return Tt[N].weakData},onFreeze:function(Tt){return Pn&&_&&ye(Tt)&&!yt(Tt,N)&&dt(Tt),Tt}};Fe[N]=!0}),Tn=w("iterator"),ln=Array.prototype,_n=w("iterator"),Jn=function(a){if(null!=a)return Wt(a,_n)||Wt(a,"@@iterator")||d[Bi(a)]},Li=p.TypeError,zn=function(a,g,_){var N,A;U(a);try{if(!(N=Wt(a,"return"))){if("throw"===g)throw _;return _}N=K(N,a)}catch(dt){A=!0,N=dt}if("throw"===g)throw _;if(A)throw N;return U(N),_},pi=p.TypeError,Mn=function(a,g){this.stopped=a,this.result=g},jn=Mn.prototype,ai=function(a,g,_){var N,A,dt,zt,Tt,At,oe,ue,vn=!(!_||!_.AS_ENTRIES),un=!(!_||!_.IS_ITERATOR),Mi=!(!_||!_.INTERRUPTED),ci=wt(g,_&&_.that),Bn=function($e){return N&&zn(N,"normal",$e),new Mn(!0,$e)},kn=function($e){return vn?(U($e),Mi?ci($e[0],$e[1],Bn):ci($e[0],$e[1])):Mi?ci($e,Bn):ci($e)};if(un)N=a;else{if(!(A=Jn(a)))throw pi(Mt(a)+" is not iterable");if(void 0!==(ue=A)&&(d.Array===ue||ln[Tn]===ue)){for(dt=0,zt=Un(a);zt>dt;dt++)if((Tt=kn(a[dt]))&&ct(jn,Tt))return Tt;return new Mn(!1)}N=function($e,pn){var ui=arguments.length<2?Jn($e):pn;if(pt(ui))return U(K(ui,$e));throw Li(Mt($e)+" is not iterable")}(a,A)}for(At=N.next;!(oe=K(At,N)).done;){try{Tt=kn(oe.value)}catch($e){zn(N,"throw",$e)}if("object"==typeof Tt&&Tt&&ct(jn,Tt))return Tt}return new Mn(!1)},wi=p.TypeError,mi=function(a,g){if(ct(g,a))return a;throw wi("Incorrect invocation")},Xn=w("iterator"),C=!1;try{var J=0,vt={next:function(){return{done:!!J++}},return:function(){C=!0}};vt[Xn]=function(){return this},Array.from(vt,function(){throw 2})}catch(a){}var Et=nn.getWeakData,Ht=Oe.set,Kt=Oe.getterFor,Ge=uo.find,Ln=uo.findIndex,xi=at([].splice),n=0,i=function(a){return a.frozen||(a.frozen=new s)},s=function(){this.entries=[]},u=function(a,g){return Ge(a.entries,function(_){return _[0]===g})};s.prototype={get:function(a){var g=u(this,a);if(g)return g[1]},has:function(a){return!!u(this,a)},set:function(a,g){var _=u(this,a);_?_[1]=g:this.entries.push([a,g])},delete:function(a){var g=Ln(this.entries,function(_){return _[0]===a});return~g&&xi(this.entries,g,1),!!~g}};var v,P={getConstructor:function(a,g,_,N){var A=a(function(At,oe){mi(At,dt),Ht(At,{type:g,id:n++,frozen:void 0}),null!=oe&&ai(oe,At[N],{that:At,AS_ENTRIES:_})}),dt=A.prototype,zt=Kt(g),Tt=function(At,oe,ue){var Ze=zt(At),vn=Et(U(oe),!0);return!0===vn?i(Ze).set(oe,ue):vn[Ze.id]=ue,At};return f(dt,{delete:function(At){var oe=zt(this);if(!St(At))return!1;var ue=Et(At);return!0===ue?i(oe).delete(At):ue&&yt(ue,oe.id)&&delete ue[oe.id]},has:function(At){var oe=zt(this);if(!St(At))return!1;var ue=Et(At);return!0===ue?i(oe).has(At):ue&&yt(ue,oe.id)}}),f(dt,_?{get:function(At){var oe=zt(this);if(St(At)){var ue=Et(At);return!0===ue?i(oe).get(At):ue?ue[oe.id]:void 0}},set:function(At,oe){return Tt(this,At,oe)}}:{add:function(At){return Tt(this,At,!0)}}),A}},S=Oe.enforce,V=!p.ActiveXObject&&"ActiveXObject"in p,H=function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},rt=function(a,g,_){var N=-1!==a.indexOf("Map"),A=-1!==a.indexOf("Weak"),dt=N?"set":"add",zt=p[a],Tt=zt&&zt.prototype,At=zt,oe={},ue=function(Bn){var kn=at(Tt[Bn]);on(Tt,Bn,"add"==Bn?function($e){return kn(this,0===$e?0:$e),this}:"delete"==Bn?function($e){return!(A&&!St($e))&&kn(this,0===$e?0:$e)}:"get"==Bn?function($e){return A&&!St($e)?void 0:kn(this,0===$e?0:$e)}:"has"==Bn?function($e){return!(A&&!St($e))&&kn(this,0===$e?0:$e)}:function($e,pn){return kn(this,0===$e?0:$e,pn),this})};if(ii(a,!Pe(zt)||!(A||Tt.forEach&&!q(function(){(new zt).entries().next()}))))At=_.getConstructor(g,a,N,dt),nn.enable();else if(ii(a,!0)){var Ze=new At,vn=Ze[dt](A?{}:-0,1)!=Ze,un=q(function(){Ze.has(1)}),Mi=function(Bn,kn){if(!C)return!1;var $e=!1;try{var pn={};pn[Xn]=function(){return{next:function(){return{done:$e=!0}}}},function(Bn){new zt(Bn)}(pn)}catch(ui){}return $e}(),ci=!A&&q(function(){for(var Bn=new zt,kn=5;kn--;)Bn[dt](kn,kn);return!Bn.has(-0)});Mi||((At=g(function(Bn,kn){mi(Bn,Tt);var pn,yo,zr,Pr,$e=(pn=new zt,yo=At,si&&Pe(zr=Bn.constructor)&&zr!==yo&&St(Pr=zr.prototype)&&Pr!==yo.prototype&&si(pn,Pr),pn);return null!=kn&&ai(kn,$e[dt],{that:$e,AS_ENTRIES:N}),$e})).prototype=Tt,Tt.constructor=At),(un||ci)&&(ue("delete"),ue("has"),N&&ue("get")),(ci||vn)&&ue(dt),A&&Tt.clear&&delete Tt.clear}return oe[a]=At,Qi({global:!0,constructor:!0,forced:At!=zt},oe),ji(At,a),A||_.setStrong(At,a,N),At}("WeakMap",H,P);if(En&&V){v=P.getConstructor(H,"WeakMap",!0),nn.enable();var Ct=rt.prototype,Rt=at(Ct.delete),Lt=at(Ct.has),Nt=at(Ct.get),se=at(Ct.set);f(Ct,{delete:function(a){if(St(a)&&!ye(a)){var g=S(this);return g.frozen||(g.frozen=new v),Rt(this,a)||g.frozen.delete(a)}return Rt(this,a)},has:function(a){if(St(a)&&!ye(a)){var g=S(this);return g.frozen||(g.frozen=new v),Lt(this,a)||g.frozen.has(a)}return Lt(this,a)},get:function(a){if(St(a)&&!ye(a)){var g=S(this);return g.frozen||(g.frozen=new v),Lt(this,a)?Nt(this,a):g.frozen.get(a)}return Nt(this,a)},set:function(a,g){if(St(a)&&!ye(a)){var _=S(this);_.frozen||(_.frozen=new v),Lt(this,a)?se(this,a,g):_.frozen.set(a,g)}else se(this,a,g);return this}})}var Gt=w("iterator"),Jt=w("toStringTag"),Ce=er.values,me=function(a,g){if(a){if(a[Gt]!==Ce)try{bt(a,Gt,Ce)}catch(N){a[Gt]=Ce}if(a[Jt]||bt(a,Jt,g),Hn[g])for(var _ in er)if(a[_]!==er[_])try{bt(a,_,er[_])}catch(N){a[_]=er[_]}}};for(var Je in Hn)me(p[Je]&&p[Je].prototype,Je);me(nt,"DOMTokenList");var tn=/^\s+|\s+$/g,Qn=/^[-+]0x[0-9a-f]+$/i,li=/^0b[01]+$/i,Vn=/^0o[0-7]+$/i,sn=parseInt,Dt="object"==typeof self&&self&&self.Object===Object&&self,ae="object"==typeof M&&M&&M.Object===Object&&M||Dt||Function("return this")(),ke=Object.prototype.toString,fn=Math.max,cn=Math.min,ti=function(){return ae.Date.now()};function We(a){var g=typeof a;return!!a&&("object"==g||"function"==g)}function Ni(a){if("number"==typeof a)return a;if("symbol"==typeof(N=a)||(A=N)&&"object"==typeof A&&"[object Symbol]"==ke.call(N))return NaN;var N,A;if(We(a)){var g="function"==typeof a.valueOf?a.valueOf():a;a=We(g)?g+"":g}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(tn,"");var _=li.test(a);return _||Vn.test(a)?sn(a.slice(2),_?2:8):Qn.test(a)?NaN:+a}var Ci=function(a,g,_){var N=!0,A=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return We(_)&&(N="leading"in _?!!_.leading:N,A="trailing"in _?!!_.trailing:A),function no(a,g,_){var N,A,dt,zt,Tt,At,oe=0,ue=!1,Ze=!1,vn=!0;if("function"!=typeof a)throw new TypeError("Expected a function");function un(pn){var ui=N,yo=A;return N=A=void 0,oe=pn,zt=a.apply(yo,ui)}function Mi(pn){return oe=pn,Tt=setTimeout(Bn,g),ue?un(pn):zt}function ci(pn){var ui=pn-At;return void 0===At||ui>=g||ui<0||Ze&&pn-oe>=dt}function Bn(){var ui,yo,pn=ti();if(ci(pn))return kn(pn);Tt=setTimeout(Bn,(yo=g-((ui=pn)-At),Ze?cn(yo,dt-(ui-oe)):yo))}function kn(pn){return Tt=void 0,vn&&N?un(pn):(N=A=void 0,zt)}function $e(){var pn=ti(),ui=ci(pn);if(N=arguments,A=this,At=pn,ui){if(void 0===Tt)return Mi(At);if(Ze)return Tt=setTimeout(Bn,g),un(At)}return void 0===Tt&&(Tt=setTimeout(Bn,g)),zt}return g=Ni(g)||0,We(_)&&(ue=!!_.leading,dt=(Ze="maxWait"in _)?fn(Ni(_.maxWait)||0,g):dt,vn="trailing"in _?!!_.trailing:vn),$e.cancel=function(){void 0!==Tt&&clearTimeout(Tt),oe=0,N=At=A=Tt=void 0},$e.flush=function(){return void 0===Tt?zt:kn(ti())},$e}(a,g,{leading:N,maxWait:g,trailing:A})},Ii=/^\s+|\s+$/g,Vi=/^[-+]0x[0-9a-f]+$/i,Yi=/^0b[01]+$/i,Zi=/^0o[0-7]+$/i,br=parseInt,ts="object"==typeof self&&self&&self.Object===Object&&self,es="object"==typeof M&&M&&M.Object===Object&&M||ts||Function("return this")(),ns=Object.prototype.toString,is=Math.max,os=Math.min,Wr=function(){return es.Date.now()};function Xr(a){var g=typeof a;return!!a&&("object"==g||"function"==g)}function Ar(a){if("number"==typeof a)return a;if("symbol"==typeof(N=a)||(A=N)&&"object"==typeof A&&"[object Symbol]"==ns.call(N))return NaN;var N,A;if(Xr(a)){var g="function"==typeof a.valueOf?a.valueOf():a;a=Xr(g)?g+"":g}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(Ii,"");var _=Yi.test(a);return _||Zi.test(a)?br(a.slice(2),_?2:8):Vi.test(a)?NaN:+a}var a,rs=function(a,g,_){var N,A,dt,zt,Tt,At,oe=0,ue=!1,Ze=!1,vn=!0;if("function"!=typeof a)throw new TypeError("Expected a function");function un(pn){var ui=N,yo=A;return N=A=void 0,oe=pn,zt=a.apply(yo,ui)}function Mi(pn){return oe=pn,Tt=setTimeout(Bn,g),ue?un(pn):zt}function ci(pn){var ui=pn-At;return void 0===At||ui>=g||ui<0||Ze&&pn-oe>=dt}function Bn(){var ui,yo,pn=Wr();if(ci(pn))return kn(pn);Tt=setTimeout(Bn,(yo=g-((ui=pn)-At),Ze?os(yo,dt-(ui-oe)):yo))}function kn(pn){return Tt=void 0,vn&&N?un(pn):(N=A=void 0,zt)}function $e(){var pn=Wr(),ui=ci(pn);if(N=arguments,A=this,At=pn,ui){if(void 0===Tt)return Mi(At);if(Ze)return Tt=setTimeout(Bn,g),un(At)}return void 0===Tt&&(Tt=setTimeout(Bn,g)),zt}return g=Ar(g)||0,Xr(_)&&(ue=!!_.leading,dt=(Ze="maxWait"in _)?is(Ar(_.maxWait)||0,g):dt,vn="trailing"in _?!!_.trailing:vn),$e.cancel=function(){void 0!==Tt&&clearTimeout(Tt),oe=0,N=At=A=Tt=void 0},$e.flush=function(){return void 0===Tt?zt:kn(Wr())},$e},oi=/^\[object .+?Constructor\]$/,Fr="object"==typeof self&&self&&self.Object===Object&&self,Nr="object"==typeof M&&M&&M.Object===Object&&M||Fr||Function("return this")(),nr=Array.prototype,gs=Function.prototype,Bs=Object.prototype,vs=Nr["__core-js_shared__"],Fs=(a=/[^.]+$/.exec(vs&&vs.keys&&vs.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",Gs=gs.toString,_s=Bs.hasOwnProperty,wa=Bs.toString,Ta=RegExp("^"+Gs.call(_s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xa=nr.splice,Ia=js(Nr,"Map"),$r=js(Object,"create");function Gr(a){var g=-1,_=a?a.length:0;for(this.clear();++g<_;){var N=a[g];this.set(N[0],N[1])}}function Zr(a){var g=-1,_=a?a.length:0;for(this.clear();++g<_;){var N=a[g];this.set(N[0],N[1])}}function jr(a){var g=-1,_=a?a.length:0;for(this.clear();++g<_;){var N=a[g];this.set(N[0],N[1])}}function ss(a,g){for(var _,N,A=a.length;A--;)if((_=a[A][0])===(N=g)||_!=_&&N!=N)return A;return-1}function as(a,g){var _,N,A=a.__data__;return("string"==(N=typeof(_=g))||"number"==N||"symbol"==N||"boolean"==N?"__proto__"!==_:null===_)?A["string"==typeof g?"string":"hash"]:A.map}function js(a,g){var N,_=null==(N=a)?void 0:N[g];return function Sa(a){return!(!Vs(a)||(g=a,Fs&&Fs in g))&&(_=a,N=Vs(_)?wa.call(_):"","[object Function]"==N||"[object GeneratorFunction]"==N||function(_){var N=!1;if(null!=_&&"function"!=typeof _.toString)try{N=!!(_+"")}catch(A){}return N}(a)?Ta:oi).test(function(_){if(null!=_){try{return Gs.call(_)}catch(N){}try{return _+""}catch(N){}}return""}(a));var _,N,g}(_)?_:void 0}function ys(a,g){if("function"!=typeof a||g&&"function"!=typeof g)throw new TypeError("Expected a function");var _=function(){var N=arguments,A=g?g.apply(this,N):N[0],dt=_.cache;if(dt.has(A))return dt.get(A);var zt=a.apply(this,N);return _.cache=dt.set(A,zt),zt};return _.cache=new(ys.Cache||jr),_}function Vs(a){var g=typeof a;return!!a&&("object"==g||"function"==g)}Gr.prototype.clear=function(){this.__data__=$r?$r(null):{}},Gr.prototype.delete=function(a){return this.has(a)&&delete this.__data__[a]},Gr.prototype.get=function(a){var g=this.__data__;if($r){var _=g[a];return"__lodash_hash_undefined__"===_?void 0:_}return _s.call(g,a)?g[a]:void 0},Gr.prototype.has=function(a){var g=this.__data__;return $r?void 0!==g[a]:_s.call(g,a)},Gr.prototype.set=function(a,g){return this.__data__[a]=$r&&void 0===g?"__lodash_hash_undefined__":g,this},Zr.prototype.clear=function(){this.__data__=[]},Zr.prototype.delete=function(a){var g=this.__data__,_=ss(g,a);return!(_<0||(_==g.length-1?g.pop():xa.call(g,_,1),0))},Zr.prototype.get=function(a){var g=this.__data__,_=ss(g,a);return _<0?void 0:g[_][1]},Zr.prototype.has=function(a){return ss(this.__data__,a)>-1},Zr.prototype.set=function(a,g){var _=this.__data__,N=ss(_,a);return N<0?_.push([a,g]):_[N][1]=g,this},jr.prototype.clear=function(){this.__data__={hash:new Gr,map:new(Ia||Zr),string:new Gr}},jr.prototype.delete=function(a){return as(this,a).delete(a)},jr.prototype.get=function(a){return as(this,a).get(a)},jr.prototype.has=function(a){return as(this,a).has(a)},jr.prototype.set=function(a,g){return as(this,a).set(a,g),this},ys.Cache=jr;var Kr,Oa=ys,Vr=[],Us="ResizeObserver loop completed with undelivered notifications.";!function(a){a.BORDER_BOX="border-box",a.CONTENT_BOX="content-box",a.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Kr||(Kr={}));var bs,Ur=function(a){return Object.freeze(a)},La=function(a,g){this.inlineSize=a,this.blockSize=g,Ur(this)},qs=function(){function a(g,_,N,A){return this.x=g,this.y=_,this.width=N,this.height=A,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ur(this)}return a.prototype.toJSON=function(){var g=this;return{x:g.x,y:g.y,top:g.top,right:g.right,bottom:g.bottom,left:g.left,width:g.width,height:g.height}},a.fromRect=function(g){return new a(g.x,g.y,g.width,g.height)},a}(),Es=function(a){return a instanceof SVGElement&&"getBBox"in a},Ws=function(a){if(Es(a)){var g=a.getBBox();return!g.width&&!g.height}return!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},Zs=function(a){var g,_;if(a instanceof Element)return!0;var N=null===(_=null===(g=a)||void 0===g?void 0:g.ownerDocument)||void 0===_?void 0:_.defaultView;return!!(N&&a instanceof N.Element)},Jr="undefined"!=typeof window?window:{},ls=new WeakMap,Hs=/auto|scroll/,Ca=/^tb|vertical/,Aa=/msie|trident/i.test(Jr.navigator&&Jr.navigator.userAgent),Mr=function(a){return parseFloat(a||"0")},Hr=function(a,g,_){return void 0===a&&(a=0),void 0===g&&(g=0),void 0===_&&(_=!1),new La((_?g:a)||0,(_?a:g)||0)},Ys=Ur({devicePixelContentBoxSize:Hr(),borderBoxSize:Hr(),contentBoxSize:Hr(),contentRect:new qs(0,0,0,0)}),Xs=function(a,g){if(void 0===g&&(g=!1),ls.has(a)&&!g)return ls.get(a);if(Ws(a))return ls.set(a,Ys),Ys;var _=getComputedStyle(a),N=Es(a)&&a.ownerSVGElement&&a.getBBox(),A=!Aa&&"border-box"===_.boxSizing,dt=Ca.test(_.writingMode||""),zt=!N&&Hs.test(_.overflowY||""),Tt=!N&&Hs.test(_.overflowX||""),At=N?0:Mr(_.paddingTop),oe=N?0:Mr(_.paddingRight),ue=N?0:Mr(_.paddingBottom),Ze=N?0:Mr(_.paddingLeft),vn=N?0:Mr(_.borderTopWidth),un=N?0:Mr(_.borderRightWidth),Mi=N?0:Mr(_.borderBottomWidth),ci=Ze+oe,Bn=At+ue,kn=(N?0:Mr(_.borderLeftWidth))+un,$e=vn+Mi,pn=Tt?a.offsetHeight-$e-a.clientHeight:0,ui=zt?a.offsetWidth-kn-a.clientWidth:0,yo=A?ci+kn:0,zr=A?Bn+$e:0,Pr=N?N.width:Mr(_.width)-yo-ui,qr=N?N.height:Mr(_.height)-zr-pn,yl=Pr+ci+ui+kn,bl=qr+Bn+pn+$e,ya=Ur({devicePixelContentBoxSize:Hr(Math.round(Pr*devicePixelRatio),Math.round(qr*devicePixelRatio),dt),borderBoxSize:Hr(yl,bl,dt),contentBoxSize:Hr(Pr,qr,dt),contentRect:new qs(Ze,At,Pr,qr)});return ls.set(a,ya),ya},$s=function(a,g,_){var N=Xs(a,_),A=N.borderBoxSize,dt=N.contentBoxSize,zt=N.devicePixelContentBoxSize;switch(g){case Kr.DEVICE_PIXEL_CONTENT_BOX:return zt;case Kr.BORDER_BOX:return A;default:return dt}},Pa=function(a){var g=Xs(a);this.target=a,this.contentRect=g.contentRect,this.borderBoxSize=Ur([g.borderBoxSize]),this.contentBoxSize=Ur([g.contentBoxSize]),this.devicePixelContentBoxSize=Ur([g.devicePixelContentBoxSize])},Ks=function(a){if(Ws(a))return 1/0;for(var g=0,_=a.parentNode;_;)g+=1,_=_.parentNode;return g},Ma=function(){var a=1/0,g=[];Vr.forEach(function(A){if(0!==A.activeTargets.length){var dt=[];A.activeTargets.forEach(function(zt){var Tt=new Pa(zt.target),At=Ks(zt.target);dt.push(Tt),zt.lastReportedSize=$s(zt.target,zt.observedBox),At<a&&(a=At)}),g.push(function(){A.callback.call(A.observer,dt,A.observer)}),A.activeTargets.splice(0,A.activeTargets.length)}});for(var _=0,N=g;_<N.length;_++)(0,N[_])();return a},Js=function(a){Vr.forEach(function(g){g.activeTargets.splice(0,g.activeTargets.length),g.skippedTargets.splice(0,g.skippedTargets.length),g.observationTargets.forEach(function(_){_.isActive()&&(Ks(_.target)>a?g.activeTargets.push(_):g.skippedTargets.push(_))})})},Qs=[],ws=0,ka={attributes:!0,characterData:!0,childList:!0,subtree:!0},ta=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ea=function(a){return void 0===a&&(a=0),Date.now()+a},Ts=!1,xs=new(function(){function a(){var g=this;this.stopped=!0,this.listener=function(){return g.schedule()}}return a.prototype.run=function(g){var _=this;if(void 0===g&&(g=250),!Ts){Ts=!0;var N,A=ea(g);N=function(){var dt=!1;try{dt=function(){var a,g=0;for(Js(g);Vr.some(function(_){return _.activeTargets.length>0});)g=Ma(),Js(g);return Vr.some(function(_){return _.skippedTargets.length>0})&&("function"==typeof ErrorEvent?a=new ErrorEvent("error",{message:Us}):((a=document.createEvent("Event")).initEvent("error",!1,!1),a.message=Us),window.dispatchEvent(a)),g>0}()}finally{if(Ts=!1,g=A-ea(),!ws)return;dt?_.run(1e3):g>0?_.run(g):_.start()}},function(a){if(!bs){var g=0,_=document.createTextNode("");new MutationObserver(function(){return Qs.splice(0).forEach(function(N){return N()})}).observe(_,{characterData:!0}),bs=function(){_.textContent=""+(g?g--:g++)}}Qs.push(function(){requestAnimationFrame(N)}),bs()}()}},a.prototype.schedule=function(){this.stop(),this.run()},a.prototype.observe=function(){var g=this,_=function(){return g.observer&&g.observer.observe(document.body,ka)};document.body?_():Jr.addEventListener("DOMContentLoaded",_)},a.prototype.start=function(){var g=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ta.forEach(function(_){return Jr.addEventListener(_,g.listener,!0)}))},a.prototype.stop=function(){var g=this;this.stopped||(this.observer&&this.observer.disconnect(),ta.forEach(function(_){return Jr.removeEventListener(_,g.listener,!0)}),this.stopped=!0)},a}()),na=function(a){!ws&&a>0&&xs.start(),!(ws+=a)&&xs.stop()},Na=function(){function a(g,_){this.target=g,this.observedBox=_||Kr.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return a.prototype.isActive=function(){var g,_=$s(this.target,this.observedBox,!0);return Es(g=this.target)||function(N){switch(N.tagName){case"INPUT":if("image"!==N.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(g)||"inline"!==getComputedStyle(g).display||(this.lastReportedSize=_),this.lastReportedSize.inlineSize!==_.inlineSize||this.lastReportedSize.blockSize!==_.blockSize},a}(),za=function(a,g){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=a,this.callback=g},cs=new WeakMap,ia=function(a,g){for(var _=0;_<a.length;_+=1)if(a[_].target===g)return _;return-1},us=function(){function a(){}return a.connect=function(g,_){var N=new za(g,_);cs.set(g,N)},a.observe=function(g,_,N){var A=cs.get(g),dt=0===A.observationTargets.length;ia(A.observationTargets,_)<0&&(dt&&Vr.push(A),A.observationTargets.push(new Na(_,N&&N.box)),na(1),xs.schedule())},a.unobserve=function(g,_){var N=cs.get(g),A=ia(N.observationTargets,_);A>=0&&(1===N.observationTargets.length&&Vr.splice(Vr.indexOf(N),1),N.observationTargets.splice(A,1),na(-1))},a.disconnect=function(g){var _=this,N=cs.get(g);N.observationTargets.slice().forEach(function(A){return _.unobserve(g,A.target)}),N.activeTargets.splice(0,N.activeTargets.length)},a}(),Ba=function(){function a(g){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof g)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");us.connect(this,g)}return a.prototype.observe=function(g,_){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Zs(g))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");us.observe(this,g,_)},a.prototype.unobserve=function(g){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Zs(g))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");us.unobserve(this,g)},a.prototype.disconnect=function(){us.disconnect(this)},a.toString=function(){return"function ResizeObserver () { [polyfill code] }"},a}(),Fa=p.TypeError,oa=function(a){return function(g,_,N,A){pt(_);var dt=le(g),zt=gn(dt),Tt=Un(dt),At=a?Tt-1:0,oe=a?-1:1;if(N<2)for(;;){if(At in zt){A=zt[At],At+=oe;break}if(At+=oe,a?At<0:Tt<=At)throw Fa("Reduce of empty array with no initial value")}for(;a?At>=0:Tt>At;At+=oe)At in zt&&(A=_(A,zt[At],At,dt));return A}},Ga={left:oa(!1),right:oa(!0)},ja="process"==Nn(p.process),Va=Ga.left,Ua=Bo("reduce");Qi({target:"Array",proto:!0,forced:!Ua||!ja&&ei>79&&ei<83},{reduce:function(a){var g=arguments.length;return Va(this,a,g,g>1?arguments[1]:void 0)}});var ra,Is,qa=function(){var a=U(this),g="";return a.hasIndices&&(g+="d"),a.global&&(g+="g"),a.ignoreCase&&(g+="i"),a.multiline&&(g+="m"),a.dotAll&&(g+="s"),a.unicode&&(g+="u"),a.sticky&&(g+="y"),g},Ss=p.RegExp,Os=q(function(){var a=Ss("a","y");return a.lastIndex=2,null!=a.exec("abcd")}),Wa=Os||q(function(){return!Ss("a","y").sticky}),Za={BROKEN_CARET:Os||q(function(){var a=Ss("^r","gy");return a.lastIndex=2,null!=a.exec("str")}),MISSED_STICKY:Wa,UNSUPPORTED_Y:Os},Ha=p.RegExp,Ya=q(function(){var a=Ha(".","s");return!(a.dotAll&&a.exec("\n")&&"s"===a.flags)}),Xa=p.RegExp,$a=q(function(){var a=Xa("(?<a>b)","g");return"b"!==a.exec("b").groups.a||"bc"!=="b".replace(a,"$<a>c")}),Ka=Oe.get,Ja=G("native-string-replace",String.prototype.replace),hs=RegExp.prototype.exec,Ls=hs,Qa=at("".charAt),tl=at("".indexOf),el=at("".replace),Cs=at("".slice),As=(Is=/b*/g,K(hs,ra=/a/,"a"),K(hs,Is,"a"),0!==ra.lastIndex||0!==Is.lastIndex),sa=Za.BROKEN_CARET,Ps=void 0!==/()??/.exec("")[1];(As||Ps||sa||Ya||$a)&&(Ls=function(a){var g,_,N,A,dt,zt,Tt,At=this,oe=Ka(At),ue=Pi(a),Ze=oe.raw;if(Ze)return Ze.lastIndex=At.lastIndex,g=K(Ls,Ze,ue),At.lastIndex=Ze.lastIndex,g;var vn=oe.groups,un=sa&&At.sticky,Mi=K(qa,At),ci=At.source,Bn=0,kn=ue;if(un&&(Mi=el(Mi,"y",""),-1===tl(Mi,"g")&&(Mi+="g"),kn=Cs(ue,At.lastIndex),At.lastIndex>0&&(!At.multiline||At.multiline&&"\n"!==Qa(ue,At.lastIndex-1))&&(ci="(?: "+ci+")",kn=" "+kn,Bn++),_=new RegExp("^(?:"+ci+")",Mi)),Ps&&(_=new RegExp("^"+ci+"$(?!\\s)",Mi)),As&&(N=At.lastIndex),A=K(hs,un?_:At,kn),un?A?(A.input=Cs(A.input,Bn),A[0]=Cs(A[0],Bn),A.index=At.lastIndex,At.lastIndex+=A[0].length):At.lastIndex=0:As&&A&&(At.lastIndex=At.global?A.index+A[0].length:N),Ps&&A&&A.length>1&&K(Ja,A[0],_,function(){for(dt=1;dt<arguments.length-2;dt++)void 0===arguments[dt]&&(A[dt]=void 0)}),A&&vn)for(A.groups=zt=zo(null),dt=0;dt<vn.length;dt++)zt[(Tt=vn[dt])[0]]=A[Tt[1]];return A});var ds=Ls;Qi({target:"RegExp",proto:!0,forced:/./.exec!==ds},{exec:ds});var nl=w("species"),Ms=RegExp.prototype,aa=function(a,g,_,N){var A=w(a),dt=!q(function(){var oe={};return oe[A]=function(){return 7},7!=""[a](oe)}),zt=dt&&!q(function(){var oe=!1,ue=/a/;return"split"===a&&((ue={}).constructor={},ue.constructor[nl]=function(){return ue},ue.flags="",ue[A]=/./[A]),ue.exec=function(){return oe=!0,null},ue[A](""),!oe});if(!dt||!zt||_){var Tt=at(/./[A]),At=g(A,""[a],function(oe,ue,Ze,vn,un){var Mi=at(oe),ci=ue.exec;return ci===ds||ci===Ms.exec?dt&&!un?{done:!0,value:Tt(ue,Ze,vn)}:{done:!0,value:Mi(Ze,ue,vn)}:{done:!1}});on(String.prototype,a,At[0]),on(Ms,A,At[1])}N&&bt(Ms[A],"sham",!0)},il=Or.charAt,la=function(a,g,_){return g+(_?il(a,g).length:1)},ol=p.TypeError,Rs=function(a,g){var _=a.exec;if(Pe(_)){var N=K(_,a,g);return null!==N&&U(N),N}if("RegExp"===Nn(a))return K(ds,a,g);throw ol("RegExp#exec called on incompatible receiver")};aa("match",function(a,g,_){return[function(N){var A=Xt(this),dt=null==N?void 0:Wt(N,a);return dt?K(dt,N,A):new RegExp(N)[a](Pi(A))},function(N){var A=U(this),dt=Pi(N),zt=_(g,A,dt);if(zt.done)return zt.value;if(!A.global)return Rs(A,dt);var Tt=A.unicode;A.lastIndex=0;for(var At,oe=[],ue=0;null!==(At=Rs(A,dt));){var Ze=Pi(At[0]);oe[ue]=Ze,""===Ze&&(A.lastIndex=la(dt,an(A.lastIndex),Tt)),ue++}return 0===ue?null:oe}]});var rl=qe.EXISTS,sl=te.f,ca=Function.prototype,al=at(ca.toString),ua=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,ll=at(ua.exec);it&&!rl&&sl(ca,"name",{configurable:!0,get:function(){try{return ll(ua,al(this))[1]}catch(a){return""}}});var ha=Function.prototype,da=ha.apply,fa=ha.call,cl="object"==typeof Reflect&&Reflect.apply||(ot?fa.bind(da):function(){return fa.apply(da,arguments)}),ul=Math.floor,Ds=at("".charAt),hl=at("".replace),ks=at("".slice),dl=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,fl=/\$([$&'`]|\d{1,2})/g,pl=function(a,g,_,N,A,dt){var zt=_+a.length,Tt=N.length,At=fl;return void 0!==A&&(A=le(A),At=dl),hl(dt,At,function(oe,ue){var Ze;switch(Ds(ue,0)){case"$":return"$";case"&":return a;case"`":return ks(g,0,_);case"'":return ks(g,zt);case"<":Ze=A[ks(ue,1,-1)];break;default:var vn=+ue;if(0===vn)return oe;if(vn>Tt){var un=ul(vn/10);return 0===un?oe:un<=Tt?void 0===N[un-1]?Ds(ue,1):N[un-1]+Ds(ue,1):oe}Ze=N[vn-1]}return void 0===Ze?"":Ze})},Ns=w("replace"),ml=Math.max,gl=Math.min,vl=at([].concat),zs=at([].push),pa=at("".indexOf),ma=at("".slice),_l="$0"==="a".replace(/./,"$0"),ga=!!/./[Ns]&&""===/./[Ns]("a","$0");aa("replace",function(a,g,_){var N=ga?"$":"$0";return[function(A,dt){var zt=Xt(this),Tt=null==A?void 0:Wt(A,Ns);return Tt?K(Tt,A,zt,dt):K(g,Pi(zt),A,dt)},function(A,dt){var zt=U(this),Tt=Pi(A);if("string"==typeof dt&&-1===pa(dt,N)&&-1===pa(dt,"$<")){var At=_(g,zt,Tt,dt);if(At.done)return At.value}var oe=Pe(dt);oe||(dt=Pi(dt));var ue=zt.global;if(ue){var Ze=zt.unicode;zt.lastIndex=0}for(var vn=[];;){var un=Rs(zt,Tt);if(null===un||(zs(vn,un),!ue))break;""===Pi(un[0])&&(zt.lastIndex=la(Tt,an(zt.lastIndex),Ze))}for(var Mi,ci="",Bn=0,kn=0;kn<vn.length;kn++){for(var $e=Pi((un=vn[kn])[0]),pn=ml(gl(rn(un.index),Tt.length),0),ui=[],yo=1;yo<un.length;yo++)zs(ui,void 0===(Mi=un[yo])?Mi:String(Mi));var zr=un.groups;if(oe){var Pr=vl([$e],ui,pn,Tt);void 0!==zr&&zs(Pr,zr);var qr=Pi(cl(dt,void 0,Pr))}else qr=pl($e,Tt,pn,ui,zr,dt);pn>=Bn&&(ci+=ma(Tt,Bn,pn)+qr,Bn=pn+$e.length)}return ci+ma(Tt,Bn)}]},!!q(function(){var a=/./;return a.exec=function(){var g=[];return g.groups={a:"7"},g},"7"!=="".replace(a,"$<a>")})||!_l||ga);var fs=function(a){return Array.prototype.reduce.call(a,function(g,_){var N=_.name.match(/data-simplebar-(.+)/);if(N){var A=N[1].replace(/\W+(.)/g,function(dt,zt){return zt.toUpperCase()});switch(_.value){case"true":g[A]=!0;break;case"false":g[A]=!1;break;case void 0:g[A]=!0;break;default:g[A]=_.value}}return g},{})};function Br(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView?a.ownerDocument.defaultView:window}function ps(a){return a&&a.ownerDocument?a.ownerDocument:document}var Qr=null,va=null;function _a(a){if(null===Qr){var g=ps(a);if(void 0===g)return Qr=0;var _=g.body,N=g.createElement("div");N.classList.add("simplebar-hide-scrollbar"),_.appendChild(N);var A=N.getBoundingClientRect().right;_.removeChild(N),Qr=A}return Qr}Eo&&window.addEventListener("resize",function(){va!==window.devicePixelRatio&&(va=window.devicePixelRatio,Qr=null)});var Lo=function(){function a(_,N){var A=this;this.onScroll=function(){var dt=Br(A.el);A.scrollXTicking||(dt.requestAnimationFrame(A.scrollX),A.scrollXTicking=!0),A.scrollYTicking||(dt.requestAnimationFrame(A.scrollY),A.scrollYTicking=!0)},this.scrollX=function(){A.axis.x.isOverflowing&&(A.showScrollbar("x"),A.positionScrollbar("x")),A.scrollXTicking=!1},this.scrollY=function(){A.axis.y.isOverflowing&&(A.showScrollbar("y"),A.positionScrollbar("y")),A.scrollYTicking=!1},this.onMouseEnter=function(){A.showScrollbar("x"),A.showScrollbar("y")},this.onMouseMove=function(dt){A.mouseX=dt.clientX,A.mouseY=dt.clientY,(A.axis.x.isOverflowing||A.axis.x.forceVisible)&&A.onMouseMoveForAxis("x"),(A.axis.y.isOverflowing||A.axis.y.forceVisible)&&A.onMouseMoveForAxis("y")},this.onMouseLeave=function(){A.onMouseMove.cancel(),(A.axis.x.isOverflowing||A.axis.x.forceVisible)&&A.onMouseLeaveForAxis("x"),(A.axis.y.isOverflowing||A.axis.y.forceVisible)&&A.onMouseLeaveForAxis("y"),A.mouseX=-1,A.mouseY=-1},this.onWindowResize=function(){A.scrollbarWidth=A.getScrollbarWidth(),A.hideNativeScrollbar()},this.hideScrollbars=function(){A.axis.x.track.rect=A.axis.x.track.el.getBoundingClientRect(),A.axis.y.track.rect=A.axis.y.track.el.getBoundingClientRect(),A.isWithinBounds(A.axis.y.track.rect)||(A.axis.y.scrollbar.el.classList.remove(A.classNames.visible),A.axis.y.isVisible=!1),A.isWithinBounds(A.axis.x.track.rect)||(A.axis.x.scrollbar.el.classList.remove(A.classNames.visible),A.axis.x.isVisible=!1)},this.onPointerEvent=function(dt){var zt,Tt;A.axis.x.track.rect=A.axis.x.track.el.getBoundingClientRect(),A.axis.y.track.rect=A.axis.y.track.el.getBoundingClientRect(),(A.axis.x.isOverflowing||A.axis.x.forceVisible)&&(zt=A.isWithinBounds(A.axis.x.track.rect)),(A.axis.y.isOverflowing||A.axis.y.forceVisible)&&(Tt=A.isWithinBounds(A.axis.y.track.rect)),(zt||Tt)&&(dt.preventDefault(),dt.stopPropagation(),"mousedown"===dt.type&&(zt&&(A.axis.x.scrollbar.rect=A.axis.x.scrollbar.el.getBoundingClientRect(),A.isWithinBounds(A.axis.x.scrollbar.rect)?A.onDragStart(dt,"x"):A.onTrackClick(dt,"x")),Tt&&(A.axis.y.scrollbar.rect=A.axis.y.scrollbar.el.getBoundingClientRect(),A.isWithinBounds(A.axis.y.scrollbar.rect)?A.onDragStart(dt,"y"):A.onTrackClick(dt,"y"))))},this.drag=function(dt){var zt=A.axis[A.draggedAxis].track,Tt=zt.rect[A.axis[A.draggedAxis].sizeAttr],At=A.axis[A.draggedAxis].scrollbar,oe=A.contentWrapperEl[A.axis[A.draggedAxis].scrollSizeAttr],ue=parseInt(A.elStyles[A.axis[A.draggedAxis].sizeAttr],10);dt.preventDefault(),dt.stopPropagation();var Ze=(("y"===A.draggedAxis?dt.pageY:dt.pageX)-zt.rect[A.axis[A.draggedAxis].offsetAttr]-A.axis[A.draggedAxis].dragOffset)/(Tt-At.size)*(oe-ue);"x"===A.draggedAxis&&(Ze=A.isRtl&&a.getRtlHelpers().isRtlScrollbarInverted?Ze-(Tt+At.size):Ze,Ze=A.isRtl&&a.getRtlHelpers().isRtlScrollingInverted?-Ze:Ze),A.contentWrapperEl[A.axis[A.draggedAxis].scrollOffsetAttr]=Ze},this.onEndDrag=function(dt){var zt=ps(A.el),Tt=Br(A.el);dt.preventDefault(),dt.stopPropagation(),A.el.classList.remove(A.classNames.dragging),zt.removeEventListener("mousemove",A.drag,!0),zt.removeEventListener("mouseup",A.onEndDrag,!0),A.removePreventClickId=Tt.setTimeout(function(){zt.removeEventListener("click",A.preventClick,!0),zt.removeEventListener("dblclick",A.preventClick,!0),A.removePreventClickId=null})},this.preventClick=function(dt){dt.preventDefault(),dt.stopPropagation()},this.el=_,this.minScrollbarWidth=20,this.options=Object.assign({},a.defaultOptions,N),this.classNames=Object.assign({},a.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,a.instances.has(this.el)||(this.recalculate=Ci(this.recalculate.bind(this),64),this.onMouseMove=Ci(this.onMouseMove.bind(this),64),this.hideScrollbars=rs(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=rs(this.onWindowResize.bind(this),64,{leading:!0}),a.getRtlHelpers=Oa(a.getRtlHelpers),this.init())}a.getRtlHelpers=function(){var _=document.createElement("div");_.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var N=_.firstElementChild;document.body.appendChild(N);var A=N.firstElementChild;N.scrollLeft=0;var dt=a.getOffset(N),zt=a.getOffset(A);N.scrollLeft=999;var Tt=a.getOffset(A);return{isRtlScrollingInverted:dt.left!==zt.left&&zt.left-Tt.left!=0,isRtlScrollbarInverted:dt.left!==zt.left}},a.getOffset=function(_){var N=_.getBoundingClientRect(),A=ps(_),dt=Br(_);return{top:N.top+(dt.pageYOffset||A.documentElement.scrollTop),left:N.left+(dt.pageXOffset||A.documentElement.scrollLeft)}};var g=a.prototype;return g.init=function(){a.instances.set(this.el,this),Eo&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},g.initDOM=function(){var _=this;if(Array.prototype.filter.call(this.el.children,function(dt){return dt.classList.contains(_.classNames.wrapper)}).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var N=document.createElement("div"),A=document.createElement("div");N.classList.add(this.classNames.track),A.classList.add(this.classNames.scrollbar),N.appendChild(A),this.axis.x.track.el=N.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=N.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},g.setAccessibilityAttributes=function(){var _=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",_)},g.initListeners=function(){var _=this,N=Br(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(Tt){_.el.addEventListener(Tt,_.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(Tt){_.el.addEventListener(Tt,_.onPointerEvent,{capture:!0,passive:!0})}),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),N.addEventListener("resize",this.onWindowResize);var A=!1,dt=null;this.resizeObserver=new(N.ResizeObserver||Ba)(function(){A&&null===dt&&(dt=N.requestAnimationFrame(function(){_.recalculate(),dt=null}))}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),N.requestAnimationFrame(function(){A=!0}),this.mutationObserver=new N.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},g.recalculate=function(){var _=Br(this.el);this.elStyles=_.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var N=this.heightAutoObserverEl.offsetHeight<=1,A=this.heightAutoObserverEl.offsetWidth<=1,dt=this.contentEl.offsetWidth,zt=this.contentWrapperEl.offsetWidth,Tt=this.elStyles.overflowX,At=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var oe=this.contentEl.scrollHeight,ue=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=N?"auto":"100%",this.placeholderEl.style.width=A?dt+"px":"auto",this.placeholderEl.style.height=oe+"px";var Ze=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=ue>dt,this.axis.y.isOverflowing=oe>Ze,this.axis.x.isOverflowing="hidden"!==Tt&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==At&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var vn=this.axis.x.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&ue>zt-(this.axis.y.isOverflowing?this.scrollbarWidth:0),this.axis.y.isOverflowing=this.axis.y.isOverflowing&&oe>Ze-vn,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},g.getScrollbarSize=function(_){if(void 0===_&&(_="y"),!this.axis[_].isOverflowing)return 0;var N,dt=this.axis[_].track.el[this.axis[_].offsetSizeAttr];return N=Math.max(~~(dt/this.contentEl[this.axis[_].scrollSizeAttr]*dt),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(N=Math.min(N,this.options.scrollbarMaxSize)),N},g.positionScrollbar=function(_){if(void 0===_&&(_="y"),this.axis[_].isOverflowing){var N=this.contentWrapperEl[this.axis[_].scrollSizeAttr],A=this.axis[_].track.el[this.axis[_].offsetSizeAttr],dt=parseInt(this.elStyles[this.axis[_].sizeAttr],10),zt=this.axis[_].scrollbar,Tt=this.contentWrapperEl[this.axis[_].scrollOffsetAttr],At=(Tt="x"===_&&this.isRtl&&a.getRtlHelpers().isRtlScrollingInverted?-Tt:Tt)/(N-dt),oe=~~((A-zt.size)*At);oe="x"===_&&this.isRtl&&a.getRtlHelpers().isRtlScrollbarInverted?oe+(A-zt.size):oe,zt.el.style.transform="x"===_?"translate3d("+oe+"px, 0, 0)":"translate3d(0, "+oe+"px, 0)"}},g.toggleTrackVisibility=function(_){void 0===_&&(_="y");var N=this.axis[_].track.el,A=this.axis[_].scrollbar.el;this.axis[_].isOverflowing||this.axis[_].forceVisible?(N.style.visibility="visible",this.contentWrapperEl.style[this.axis[_].overflowAttr]="scroll"):(N.style.visibility="hidden",this.contentWrapperEl.style[this.axis[_].overflowAttr]="hidden"),A.style.display=this.axis[_].isOverflowing?"block":"none"},g.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},g.onMouseMoveForAxis=function(_){void 0===_&&(_="y"),this.axis[_].track.rect=this.axis[_].track.el.getBoundingClientRect(),this.axis[_].scrollbar.rect=this.axis[_].scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis[_].scrollbar.rect)?this.axis[_].scrollbar.el.classList.add(this.classNames.hover):this.axis[_].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[_].track.rect)?(this.showScrollbar(_),this.axis[_].track.el.classList.add(this.classNames.hover)):this.axis[_].track.el.classList.remove(this.classNames.hover)},g.onMouseLeaveForAxis=function(_){void 0===_&&(_="y"),this.axis[_].track.el.classList.remove(this.classNames.hover),this.axis[_].scrollbar.el.classList.remove(this.classNames.hover)},g.showScrollbar=function(_){void 0===_&&(_="y"),this.axis[_].isVisible||(this.axis[_].scrollbar.el.classList.add(this.classNames.visible),this.axis[_].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},g.onDragStart=function(_,N){void 0===N&&(N="y");var A=ps(this.el),dt=Br(this.el);this.axis[N].dragOffset=("y"===N?_.pageY:_.pageX)-this.axis[N].scrollbar.rect[this.axis[N].offsetAttr],this.draggedAxis=N,this.el.classList.add(this.classNames.dragging),A.addEventListener("mousemove",this.drag,!0),A.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(A.addEventListener("click",this.preventClick,!0),A.addEventListener("dblclick",this.preventClick,!0)):(dt.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},g.onTrackClick=function(_,N){var A=this;if(void 0===N&&(N="y"),this.options.clickOnTrack){var dt=Br(this.el);this.axis[N].scrollbar.rect=this.axis[N].scrollbar.el.getBoundingClientRect();var zt=this.axis[N].scrollbar.rect[this.axis[N].offsetAttr],Tt=parseInt(this.elStyles[this.axis[N].sizeAttr],10),At=this.contentWrapperEl[this.axis[N].scrollOffsetAttr],oe=("y"===N?this.mouseY-zt:this.mouseX-zt)<0?-1:1,ue=-1===oe?At-Tt:At+Tt;!function Ze(){var vn,un;-1===oe?At>ue&&(A.contentWrapperEl.scrollTo(((vn={})[A.axis[N].offsetAttr]=At-=A.options.clickOnTrackSpeed,vn)),dt.requestAnimationFrame(Ze)):At<ue&&(A.contentWrapperEl.scrollTo(((un={})[A.axis[N].offsetAttr]=At+=A.options.clickOnTrackSpeed,un)),dt.requestAnimationFrame(Ze))}()}},g.getContentElement=function(){return this.contentEl},g.getScrollElement=function(){return this.contentWrapperEl},g.getScrollbarWidth=function(){try{return"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:_a(this.el)}catch(_){return _a(this.el)}},g.removeListeners=function(){var _=this,N=Br(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach(function(A){_.el.removeEventListener(A,_.onPointerEvent,!0)}),["touchstart","touchend","touchmove"].forEach(function(A){_.el.removeEventListener(A,_.onPointerEvent,{capture:!0,passive:!0})}),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),N.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},g.unMount=function(){this.removeListeners(),a.instances.delete(this.el)},g.isWithinBounds=function(_){return this.mouseX>=_.left&&this.mouseX<=_.left+_.width&&this.mouseY>=_.top&&this.mouseY<=_.top+_.height},g.findChild=function(_,N){var A=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.msMatchesSelector;return Array.prototype.filter.call(_.children,function(dt){return A.call(dt,N)})[0]},a}();return Lo.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},Lo.instances=new WeakMap,Lo.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(a){"init"===a.getAttribute("data-simplebar")||Lo.instances.has(a)||new Lo(a,fs(a.attributes))})},Lo.removeObserver=function(){this.globalObserver.disconnect()},Lo.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(Lo.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},Lo.handleMutations=function(a){a.forEach(function(g){Array.prototype.forEach.call(g.addedNodes,function(_){1===_.nodeType&&(_.hasAttribute("data-simplebar")?!Lo.instances.has(_)&&document.documentElement.contains(_)&&new Lo(_,fs(_.attributes)):Array.prototype.forEach.call(_.querySelectorAll("[data-simplebar]"),function(N){"init"!==N.getAttribute("data-simplebar")&&!Lo.instances.has(N)&&document.documentElement.contains(N)&&new Lo(N,fs(N.attributes))}))}),Array.prototype.forEach.call(g.removedNodes,function(_){1===_.nodeType&&("init"===_.getAttribute("data-simplebar")?Lo.instances.has(_)&&!document.documentElement.contains(_)&&Lo.instances.get(_).unMount():Array.prototype.forEach.call(_.querySelectorAll('[data-simplebar="init"]'),function(N){Lo.instances.has(N)&&!document.documentElement.contains(N)&&Lo.instances.get(N).unMount()}))})})},Lo.getOptions=fs,Eo&&Lo.initHtmlApi(),Lo}),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(M){var Q,Ot=(this.document||this.ownerDocument).querySelectorAll(M),D=this;do{for(Q=Ot.length;0<=--Q&&Ot.item(Q)!==D;);}while(Q<0&&(D=D.parentElement));return D}),function(){function M(Q,Ot){Ot=Ot||{bubbles:!1,cancelable:!1,detail:void 0};var D=document.createEvent("CustomEvent");return D.initCustomEvent(Q,Ot.bubbles,Ot.cancelable,Ot.detail),D}"function"!=typeof window.CustomEvent&&(M.prototype=window.Event.prototype,window.CustomEvent=M)}(),function(){for(var M=0,Q=["ms","moz","webkit","o"],Ot=0;Ot<Q.length&&!window.requestAnimationFrame;++Ot)window.requestAnimationFrame=window[Q[Ot]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[Q[Ot]+"CancelAnimationFrame"]||window[Q[Ot]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(D,y){var p=(new Date).getTime(),I=Math.max(0,16-(p-M)),E=window.setTimeout(function(){D(p+I)},I);return M=p+I,E}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(D){clearTimeout(D)})}(),function(M,Q){"function"==typeof define&&define.amd?define([],function(){return Q(M)}):"object"==typeof exports?module.exports=Q(M):M.SmoothScroll=Q(M)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(M){"use strict";var Q={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},Ot=function(){var k={};return Array.prototype.forEach.call(arguments,function(G){for(var q in G){if(!G.hasOwnProperty(q))return;k[q]=G[q]}}),k},D=function(k){"#"===k.charAt(0)&&(k=k.substr(1));for(var G,q=String(k),ot=q.length,x=-1,Z="",et=q.charCodeAt(0);++x<ot;){if(0===(G=q.charCodeAt(x)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");Z+=1<=G&&G<=31||127==G||0===x&&48<=G&&G<=57||1===x&&48<=G&&G<=57&&45===et?"\\"+G.toString(16)+" ":128<=G||45===G||95===G||48<=G&&G<=57||65<=G&&G<=90||97<=G&&G<=122?q.charAt(x):"\\"+q.charAt(x)}return"#"+Z},y=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},I=function(k,G,q){0===k&&document.body.focus(),q||(k.focus(),document.activeElement!==k&&(k.setAttribute("tabindex","-1"),k.focus(),k.style.outline="none"),M.scrollTo(0,G))},E=function(k,G,q,ot){if(G.emitEvents&&"function"==typeof M.CustomEvent){var x=new CustomEvent(k,{bubbles:!0,detail:{anchor:q,toggle:ot}});document.dispatchEvent(x)}};return function(k,G){var q,ot,x,Z,et={cancelScroll:function(_t){cancelAnimationFrame(Z),Z=null,_t||E("scrollCancel",q)},animateScroll:function(_t,Xt,re){et.cancelScroll();var le=Ot(q||Q,re||{}),be="[object Number]"===Object.prototype.toString.call(_t),yt=be||!_t.tagName?null:_t;if(be||yt){var Ie=M.pageYOffset;le.header&&!x&&(x=document.querySelector(le.header));var _e,De,Pe,xn,Fn,Gn,Ne,qn=function(k){return k?parseInt(M.getComputedStyle(k).height,10)+k.offsetTop:0}(x),Te=be?_t:function(m,O,F,w){var B=0;if(m.offsetParent)for(;B+=m.offsetTop,m=m.offsetParent;);return B=Math.max(B-O-F,0),w&&(B=Math.min(B,y()-M.innerHeight)),B}(yt,qn,parseInt("function"==typeof le.offset?le.offset(_t,Xt):le.offset,10),le.clip),jt=Te-Ie,ei=y(),W=0,Vt=(De=(_e=le).speedAsDuration?_e.speed:Math.abs(jt/1e3*_e.speed),_e.durationMax&&De>_e.durationMax?_e.durationMax:_e.durationMin&&De<_e.durationMin?_e.durationMin:parseInt(De,10)),X=function(m){var O,F,w;Pe||(Pe=m),W+=m-Pe,Fn=Ie+jt*(F=xn=1<(xn=0===Vt?0:W/Vt)?1:xn,"easeInQuad"===(O=le).easing&&(w=F*F),"easeOutQuad"===O.easing&&(w=F*(2-F)),"easeInOutQuad"===O.easing&&(w=F<.5?2*F*F:(4-2*F)*F-1),"easeInCubic"===O.easing&&(w=F*F*F),"easeOutCubic"===O.easing&&(w=--F*F*F+1),"easeInOutCubic"===O.easing&&(w=F<.5?4*F*F*F:(F-1)*(2*F-2)*(2*F-2)+1),"easeInQuart"===O.easing&&(w=F*F*F*F),"easeOutQuart"===O.easing&&(w=1- --F*F*F*F),"easeInOutQuart"===O.easing&&(w=F<.5?8*F*F*F*F:1-8*--F*F*F*F),"easeInQuint"===O.easing&&(w=F*F*F*F*F),"easeOutQuint"===O.easing&&(w=1+--F*F*F*F*F),"easeInOutQuint"===O.easing&&(w=F<.5?16*F*F*F*F*F:1+16*--F*F*F*F*F),O.customEasing&&(w=O.customEasing(F)),w||F),M.scrollTo(0,Math.floor(Fn)),function(B,Y){var it=M.pageYOffset;if(B==Y||it==Y||(Ie<Y&&M.innerHeight+it)>=ei)return et.cancelScroll(!0),I(_t,Y,be),E("scrollStop",le,_t,Xt),!(Z=Pe=null)}(Fn,Te)||(Z=M.requestAnimationFrame(X),Pe=m)};0===M.pageYOffset&&M.scrollTo(0,0),Gn=_t,Ne=le,be||history.pushState&&Ne.updateURL&&history.pushState({smoothScroll:JSON.stringify(Ne),anchor:Gn.id},document.title,Gn===document.documentElement?"#top":"#"+Gn.id),"matchMedia"in M&&M.matchMedia("(prefers-reduced-motion)").matches?I(_t,Math.floor(Te),!1):(E("scrollStart",le,_t,Xt),et.cancelScroll(!0),M.requestAnimationFrame(X))}}},gt=function(_t){if(!_t.defaultPrevented&&!(0!==_t.button||_t.metaKey||_t.ctrlKey||_t.shiftKey)&&"closest"in _t.target&&(ot=_t.target.closest(k))&&"a"===ot.tagName.toLowerCase()&&!_t.target.closest(q.ignore)&&ot.hostname===M.location.hostname&&ot.pathname===M.location.pathname&&/#/.test(ot.href)){var Xt,re;try{Xt=D(decodeURIComponent(ot.hash))}catch(le){Xt=D(ot.hash)}if("#"===Xt){if(!q.topOnEmptyHash)return;re=document.documentElement}else re=document.querySelector(Xt);(re=re||"#top"!==Xt?re:document.documentElement)&&(_t.preventDefault(),function(le){if(history.replaceState&&le.updateURL&&!history.state){var be=M.location.hash;be=be||"",history.replaceState({smoothScroll:JSON.stringify(le),anchor:be||M.pageYOffset},document.title,be||M.location.href)}}(q),et.animateScroll(re,ot))}},at=function(_t){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(q)){var Xt=history.state.anchor;"string"==typeof Xt&&Xt&&!(Xt=document.querySelector(D(history.state.anchor)))||et.animateScroll(Xt,null,{updateURL:!1})}};return et.destroy=function(){q&&(document.removeEventListener("click",gt,!1),M.removeEventListener("popstate",at,!1),et.cancelScroll(),Z=x=ot=q=null)},function(){if(!("querySelector"in document&&"addEventListener"in M&&"requestAnimationFrame"in M&&"closest"in M.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";et.destroy(),q=Ot(Q,G||{}),x=q.header?document.querySelector(q.header):null,document.addEventListener("click",gt,!1),q.updateURL&&q.popstate&&M.addEventListener("popstate",at,!1)}(),et}}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?Q(exports):"function"==typeof define&&define.amd?define(["exports"],Q):Q((M="undefined"!=typeof globalThis?globalThis:M||self).noUiSlider={})}(this,function(M){"use strict";function Q(c){return"object"==typeof c&&"function"==typeof c.to}function Ot(c){c.parentElement.removeChild(c)}function D(c){return null!=c}function y(c){c.preventDefault()}function p(c){return"number"==typeof c&&!isNaN(c)&&isFinite(c)}function I(c,h,j){0<j&&(q(c,h),setTimeout(function(){ot(c,h)},j))}function E(c){return Math.max(Math.min(c,100),0)}function k(c){return Array.isArray(c)?c:[c]}function G(c){return 1<(c=(c=String(c)).split(".")).length?c[1].length:0}function q(c,h){c.classList&&!/\s/.test(h)?c.classList.add(h):c.className+=" "+h}function ot(c,h){c.classList&&!/\s/.test(h)?c.classList.remove(h):c.className=c.className.replace(new RegExp("(^|\\b)"+h.split(" ").join("|")+"(\\b|$)","gi")," ")}function x(c){var h=void 0!==window.pageXOffset,j="CSS1Compat"===(c.compatMode||"");return{x:h?window.pageXOffset:(j?c.documentElement:c.body).scrollLeft,y:h?window.pageYOffset:(j?c.documentElement:c.body).scrollTop}}function Z(c,h){return 100/(h-c)}function et(c,h,j){return 100*h/(c[j+1]-c[j])}function gt(c,h){for(var j=1;c>=h[j];)j+=1;return j}M.PipsMode=void 0,(b=M.PipsMode||(M.PipsMode={})).Range="range",b.Steps="steps",b.Positions="positions",b.Count="count",b.Values="values",M.PipsType=void 0,(b=M.PipsType||(M.PipsType={}))[b.None=-1]="None",b[b.NoValue=0]="NoValue",b[b.LargeValue=1]="LargeValue",b[b.SmallValue=2]="SmallValue";var Xt=(re.prototype.getDistance=function(c){for(var h=[],j=0;j<this.xNumSteps.length-1;j++)h[j]=et(this.xVal,c,j);return h},re.prototype.getAbsoluteDistance=function(c,h,j){var U=0;if(c<this.xPct[this.xPct.length-1])for(;c>this.xPct[U+1];)U++;else c===this.xPct[this.xPct.length-1]&&(U=this.xPct.length-2);j||c!==this.xPct[U+1]||U++;for(var $,K=1,ct=(h=null===h?[]:h)[U],It=0,Pt=0,tt=0,Mt=j?(c-this.xPct[U])/(this.xPct[U+1]-this.xPct[U]):(this.xPct[U+1]-c)/(this.xPct[U+1]-this.xPct[U]);0<ct;)$=this.xPct[U+1+tt]-this.xPct[U+tt],100<h[U+tt]*K+100-100*Mt?(It=$*Mt,K=(ct-100*Mt)/h[U+tt],Mt=1):(It=h[U+tt]*$/100*K,K=0),j?(Pt-=It,1<=this.xPct.length+tt&&tt--):(Pt+=It,1<=this.xPct.length-tt&&tt++),ct=h[U+tt]*K;return c+Pt},re.prototype.toStepping=function(c){return function at(K,h,j){if(j>=K.slice(-1)[0])return 100;var U=K[(ct=gt(j,K))-1],$=K[ct],ct=(K=h[ct-1],h[ct]);return K+et($=[U,$],$[0]<0?j+Math.abs($[0]):j-$[0],0)/Z(K,ct)}(this.xVal,this.xPct,c)},re.prototype.fromStepping=function(c){return function(ct,j,U){if(100<=U)return ct.slice(-1)[0];var It,$=ct[(It=gt(U,j))-1],K=ct[It];return(U-(ct=j[It-1]))*Z(ct,It=j[It])*((K=[$,K])[1]-K[0])/100+K[0]}(this.xVal,this.xPct,c)},re.prototype.getStep=function(c){return function _t(c,h,j,U){if(100===U)return U;var $=gt(U,c),K=c[$-1],ct=c[$];return j?(ct-K)/2<U-K?ct:K:h[$-1]?c[$-1]+(c=U-c[$-1],$=h[$-1],Math.round(c/$)*$):U}(this.xPct,this.xSteps,this.snap,c)},re.prototype.getDefaultStep=function(c,h,j){var U=gt(c,this.xPct);return(100===c||h&&c===this.xPct[U-1])&&(U=Math.max(U-1,1)),(this.xVal[U]-this.xVal[U-1])/j},re.prototype.getNearbySteps=function(c){return c=gt(c,this.xPct),{stepBefore:{startValue:this.xVal[c-2],step:this.xNumSteps[c-2],highestStep:this.xHighestCompleteStep[c-2]},thisStep:{startValue:this.xVal[c-1],step:this.xNumSteps[c-1],highestStep:this.xHighestCompleteStep[c-1]},stepAfter:{startValue:this.xVal[c],step:this.xNumSteps[c],highestStep:this.xHighestCompleteStep[c]}}},re.prototype.countStepDecimals=function(){var c=this.xNumSteps.map(G);return Math.max.apply(null,c)},re.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},re.prototype.convert=function(c){return this.getStep(this.toStepping(c))},re.prototype.handleEntryPoint=function(c,h){if(!p(c="min"===c?0:"max"===c?100:parseFloat(c))||!p(h[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(c),this.xVal.push(h[0]),h=Number(h[1]),c?this.xSteps.push(!isNaN(h)&&h):isNaN(h)||(this.xSteps[0]=h),this.xHighestCompleteStep.push(0)},re.prototype.handleStepPoint=function(c,h){h&&(this.xVal[c]!==this.xVal[c+1]?(this.xSteps[c]=et([this.xVal[c],this.xVal[c+1]],h,0)/Z(this.xPct[c],this.xPct[c+1]),h=(this.xVal[c+1]-this.xVal[c])/this.xNumSteps[c],h=Math.ceil(Number(h.toFixed(3))-1),this.xHighestCompleteStep[c]=h=this.xVal[c]+this.xNumSteps[c]*h):this.xSteps[c]=this.xHighestCompleteStep[c]=this.xVal[c])},re);function re(c,h,j){var U;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[j||!1],this.xNumSteps=[!1],this.snap=h;var $=[];for(Object.keys(c).forEach(function(K){$.push([k(c[K]),K])}),$.sort(function(K,ct){return K[0][0]-ct[0][0]}),U=0;U<$.length;U++)this.handleEntryPoint($[U][1],$[U][0]);for(this.xNumSteps=this.xSteps.slice(0),U=0;U<this.xNumSteps.length;U++)this.handleStepPoint(U,this.xNumSteps[U])}var le={to:function(c){return void 0===c?"":c.toFixed(2)},from:Number},be={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};function Ie(c,h){if(!p(h))throw new Error("noUiSlider: 'step' is not numeric.");c.singleStep=h}function je(c,h){if(!p(h))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");c.keyboardPageMultiplier=h}function _e(c,h){if(!p(h))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");c.keyboardMultiplier=h}function De(c,h){if(!p(h))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");c.keyboardDefaultStep=h}function Pe(c,h){if("object"!=typeof h||Array.isArray(h))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===h.min||void 0===h.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");c.spectrum=new Xt(h,c.snap||!1,c.singleStep)}function xn(c,h){if(h=k(h),!Array.isArray(h)||!h.length)throw new Error("noUiSlider: 'start' option is incorrect.");c.handles=h.length,c.start=h}function Fn(c,h){if("boolean"!=typeof h)throw new Error("noUiSlider: 'snap' option must be a boolean.");c.snap=h}function Gn(c,h){if("boolean"!=typeof h)throw new Error("noUiSlider: 'animate' option must be a boolean.");c.animate=h}function Ne(c,h){if("number"!=typeof h)throw new Error("noUiSlider: 'animationDuration' option must be a number.");c.animationDuration=h}function qn(c,h){var j,U=[!1];if("lower"===h?h=[!0,!1]:"upper"===h&&(h=[!1,!0]),!0===h||!1===h){for(j=1;j<c.handles;j++)U.push(h);U.push(!1)}else{if(!Array.isArray(h)||!h.length||h.length!==c.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");U=h}c.connect=U}function Te(c,h){switch(h){case"horizontal":c.ort=0;break;case"vertical":c.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function jt(c,h){if(!p(h))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==h&&(c.margin=c.spectrum.getDistance(h))}function ei(c,h){if(!p(h))throw new Error("noUiSlider: 'limit' option must be numeric.");if(c.limit=c.spectrum.getDistance(h),!c.limit||c.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function W(c,h){var j;if(!p(h)&&!Array.isArray(h))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(h)&&2!==h.length&&!p(h[0])&&!p(h[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==h){for(Array.isArray(h)||(h=[h,h]),c.padding=[c.spectrum.getDistance(h[0]),c.spectrum.getDistance(h[1])],j=0;j<c.spectrum.xNumSteps.length-1;j++)if(c.padding[0][j]<0||c.padding[1][j]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if(1<(h[0]+h[1])/(c.spectrum.xVal[c.spectrum.xVal.length-1]-(h=c.spectrum.xVal[0])))throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Vt(c,h){switch(h){case"ltr":c.dir=0;break;case"rtl":c.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function X(c,tt){if("string"!=typeof tt)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var j=0<=tt.indexOf("tap"),U=0<=tt.indexOf("drag"),$=0<=tt.indexOf("fixed"),K=0<=tt.indexOf("snap"),ct=0<=tt.indexOf("hover"),It=0<=tt.indexOf("unconstrained"),Pt=0<=tt.indexOf("drag-all");if(tt=0<=tt.indexOf("smooth-steps"),$){if(2!==c.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");jt(c,c.start[1]-c.start[0])}if(It&&(c.margin||c.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");c.events={tap:j||K,drag:U,dragAll:Pt,smoothSteps:tt,fixed:$,snap:K,hover:ct,unconstrained:It}}function m(c,h){if(!1!==h)if(!0===h||Q(h)){c.tooltips=[];for(var j=0;j<c.handles;j++)c.tooltips.push(h)}else{if((h=k(h)).length!==c.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");h.forEach(function(U){if("boolean"!=typeof U&&!Q(U))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),c.tooltips=h}}function O(c,h){if(h.length!==c.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");c.handleAttributes=h}function F(c,h){if(!Q(h))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");c.ariaFormat=h}function w(c,h){if(!Q(j=h)||"function"!=typeof j.from)throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");var j;c.format=h}function B(c,h){if("boolean"!=typeof h)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");c.keyboardSupport=h}function Y(c,h){c.documentElement=h}function it(c,h){if("string"!=typeof h&&!1!==h)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");c.cssPrefix=h}function St(c,h){if("object"!=typeof h)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof c.cssPrefix?(c.cssClasses={},Object.keys(h).forEach(function(j){c.cssClasses[j]=c.cssPrefix+h[j]})):c.cssClasses=h}function ut(c){var h={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:le,format:le},j={step:{r:!1,t:Ie},keyboardPageMultiplier:{r:!1,t:je},keyboardMultiplier:{r:!1,t:_e},keyboardDefaultStep:{r:!1,t:De},start:{r:!0,t:xn},connect:{r:!0,t:qn},direction:{r:!0,t:Vt},snap:{r:!1,t:Fn},animate:{r:!1,t:Gn},animationDuration:{r:!1,t:Ne},range:{r:!0,t:Pe},orientation:{r:!1,t:Te},margin:{r:!1,t:jt},limit:{r:!1,t:ei},padding:{r:!1,t:W},behaviour:{r:!0,t:X},ariaFormat:{r:!1,t:F},format:{r:!1,t:w},tooltips:{r:!1,t:m},keyboardSupport:{r:!0,t:B},documentElement:{r:!1,t:Y},cssPrefix:{r:!0,t:it},cssClasses:{r:!0,t:St},handleAttributes:{r:!1,t:O}},U={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:be,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};c.format&&!c.ariaFormat&&(c.ariaFormat=c.format),Object.keys(j).forEach(function(ct){if(D(c[ct])||void 0!==U[ct])j[ct].t(h,(D(c[ct])?c:U)[ct]);else if(j[ct].r)throw new Error("noUiSlider: '"+ct+"' is required.")}),h.pips=c.pips;var K,$=void 0!==(K=document.createElement("div")).style.msTransform;return h.transformRule=(K=void 0!==K.style.transform)?"transform":$?"msTransform":"webkitTransform",h.style=[["left","top"],["right","bottom"]][h.dir][h.ort],h}function Ft(c,h){if(!c||!c.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+c);if(c.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");return h=function Ut(c,h,j){var U,$,K,ct,It,Pt,tt=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},Mt=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var ht=!1;try{var nt=Object.defineProperty({},"passive",{get:function(){ht=!0}});window.addEventListener("test",null,nt)}catch(xt){}return ht}(),kt=c,pt=h.spectrum,Wt=[],ee=[],Se=[],Ae=0,ze={},Me=c.ownerDocument,Qt=h.documentElement||Me.documentElement,Yt=Me.body,Le="rtl"===Me.dir||1===h.ort?0:100;function te(ht,nt){var xt=Me.createElement("div");return nt&&q(xt,nt),ht.appendChild(xt),xt}function In(wt,nt){wt=te(wt,h.cssClasses.origin);var xt,fe=te(wt,h.cssClasses.handle);return te(fe,h.cssClasses.touchArea),fe.setAttribute("data-handle",String(nt)),h.keyboardSupport&&(fe.setAttribute("tabindex","0"),fe.addEventListener("keydown",function(Ee){return function(gn,he){if(ie()||Ke(he))return!1;var Un=["Left","Right"],an=["Down","Up"],Ye=["PageDown","PageUp"],bi=["Home","End"];h.dir&&!h.ort?Un.reverse():h.ort&&!h.dir&&(an.reverse(),Ye.reverse());var ce=gn.key.replace("Arrow",""),Xe=ce===Ye[0],rn=ce===Ye[1];if(Ye=ce===an[0]||ce===Un[0]||Xe,an=ce===an[1]||ce===Un[1]||rn,Un=ce===bi[0],bi=ce===bi[1],!(Ye||an||Un||bi))return!0;if(gn.preventDefault(),an||Ye){var ni=Ye?0:1;if(null===(ni=Hn(he)[ni]))return!1;!1===ni&&(ni=pt.getDefaultStep(ee[he],Ye,h.keyboardDefaultStep)),ni*=rn||Xe?h.keyboardPageMultiplier:h.keyboardMultiplier,ni=Math.max(ni,1e-7),ni=Wt[he]+(ni*=Ye?-1:1)}else ni=bi?h.spectrum.xVal[h.spectrum.xVal.length-1]:h.spectrum.xVal[0];return Dn(he,pt.toStepping(ni),!0,!0),Oe("slide",he),Oe("update",he),Oe("change",he),Oe("set",he),!1}(Ee,nt)})),void 0!==h.handleAttributes&&(xt=h.handleAttributes[nt],Object.keys(xt).forEach(function(Ee){fe.setAttribute(Ee,xt[Ee])})),fe.setAttribute("role","slider"),fe.setAttribute("aria-orientation",h.ort?"vertical":"horizontal"),0===nt?q(fe,h.cssClasses.handleLower):nt===h.handles-1&&q(fe,h.cssClasses.handleUpper),wt}function bt(ht,nt){return!!nt&&te(ht,h.cssClasses.connect)}function xe(ht,nt){return!(!h.tooltips||!h.tooltips[nt])&&te(ht.firstChild,h.cssClasses.tooltip)}function ie(){return kt.hasAttribute("disabled")}function Ke(ht){return $[ht].hasAttribute("disabled")}function qe(){It&&(ge("update.__tooltips"),It.forEach(function(ht){ht&&Ot(ht)}),It=null)}function Qe(){qe(),It=$.map(xe),He("update.__tooltips",function(ht,nt,xt){It&&h.tooltips&&!1!==It[nt]&&(ht=ht[nt],!0!==h.tooltips[nt]&&(ht=h.tooltips[nt].to(xt[nt])),It[nt].innerHTML=ht)})}function yn(ht,nt){return ht.map(function(xt){return pt.fromStepping(nt?pt.getStep(xt):xt)})}function bn(){ct&&(Ot(ct),ct=null)}function wn(wt){bn();var nt=function dn(ht){var nt=function(ce){if(ce.mode===M.PipsMode.Range||ce.mode===M.PipsMode.Steps)return pt.xVal;if(ce.mode!==M.PipsMode.Count)return ce.mode===M.PipsMode.Positions?yn(ce.values,ce.stepped):ce.mode===M.PipsMode.Values?ce.stepped?ce.values.map(function(an){return pt.fromStepping(pt.getStep(pt.toStepping(an)))}):ce.values:[];if(ce.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var Xe=ce.values-1,rn=100/Xe,Ye=[];Xe--;)Ye[Xe]=Xe*rn;return Ye.push(100),yn(Ye,ce.stepped)}(ht),xt={},wt=pt.xVal[0],fe=pt.xVal[pt.xVal.length-1],Ee=!1,gn=!1,he=0;return(nt=nt.slice().sort(function(ce,Xe){return ce-Xe}).filter(function(ce){return!this[ce]&&(this[ce]=!0)},{}))[0]!==wt&&(nt.unshift(wt),Ee=!0),nt[nt.length-1]!==fe&&(nt.push(fe),gn=!0),nt.forEach(function(ri,Xe){var rn,Ye,an,Un,bi,ni,de,ki,Ri=nt[Xe+1],Sn=ht.mode===M.PipsMode.Steps,Fi=(Fi=Sn?pt.xNumSteps[Xe]:Fi)||Ri-ri;for(void 0===Ri&&(Ri=ri),Fi=Math.max(Fi,1e-7),rn=ri;rn<=Ri;rn=Number((rn+Fi).toFixed(7))){for(ni=(Un=(an=pt.toStepping(rn))-he)/(ht.density||1),ki=Un/(de=Math.round(ni)),Ye=1;Ye<=de;Ye+=1)xt[(bi=he+Ye*ki).toFixed(5)]=[pt.fromStepping(bi),0];ni=-1<nt.indexOf(rn)?M.PipsType.LargeValue:Sn?M.PipsType.SmallValue:M.PipsType.NoValue,!Xe&&Ee&&rn!==Ri&&(ni=0),rn===Ri&&gn||(xt[an.toFixed(5)]=[rn,ni]),he=an}}),xt}(wt);return ct=kt.appendChild(function Cn(ht,nt,xt){var wt,fe=Me.createElement("div"),Ee=((wt={})[M.PipsType.None]="",wt[M.PipsType.NoValue]=h.cssClasses.valueNormal,wt[M.PipsType.LargeValue]=h.cssClasses.valueLarge,wt[M.PipsType.SmallValue]=h.cssClasses.valueSub,wt),gn=((wt={})[M.PipsType.None]="",wt[M.PipsType.NoValue]=h.cssClasses.markerNormal,wt[M.PipsType.LargeValue]=h.cssClasses.markerLarge,wt[M.PipsType.SmallValue]=h.cssClasses.markerSub,wt),he=[h.cssClasses.valueHorizontal,h.cssClasses.valueVertical],ce=[h.cssClasses.markerHorizontal,h.cssClasses.markerVertical];function Xe(rn,Ye){var an=Ye===h.cssClasses.value;return Ye+" "+(an?he:ce)[h.ort]+" "+(an?Ee:gn)[rn]}return q(fe,h.cssClasses.pips),q(fe,0===h.ort?h.cssClasses.pipsHorizontal:h.cssClasses.pipsVertical),Object.keys(ht).forEach(function(rn){var Ye,an,Un;an=ht[Ye=rn][0],Un=ht[rn][1],(Un=nt?nt(an,Un):Un)!==M.PipsType.None&&((rn=te(fe,!1)).className=Xe(Un,h.cssClasses.marker),rn.style[h.style]=Ye+"%",Un>M.PipsType.NoValue&&((rn=te(fe,!1)).className=Xe(Un,h.cssClasses.value),rn.setAttribute("data-value",String(an)),rn.style[h.style]=Ye+"%",rn.innerHTML=String(xt.to(an))))}),fe}(nt,wt.filter,wt=wt.format||{to:function(fe){return String(Math.round(fe))}}))}function En(){var ht=U.getBoundingClientRect(),nt="offset"+["Width","Height"][h.ort];return 0===h.ort?ht.width||U[nt]:ht.height||U[nt]}function hi(ht,nt,xt,wt){function fe(gn){var he,ce=function(Xe,rn,Ye){var an=0===Xe.type.indexOf("touch"),Un=0===Xe.type.indexOf("mouse"),bi=0===Xe.type.indexOf("pointer"),ni=0,de=0;if(0===Xe.type.indexOf("MSPointer")&&(bi=!0),"mousedown"===Xe.type&&!Xe.buttons&&!Xe.touches)return!1;if(an){var ki=function(ri){return(ri=ri.target)===Ye||Ye.contains(ri)||Xe.composed&&Xe.composedPath().shift()===Ye};if("touchstart"===Xe.type){if(1<(an=Array.prototype.filter.call(Xe.touches,ki)).length)return!1;ni=an[0].pageX,de=an[0].pageY}else{if(!(ki=Array.prototype.find.call(Xe.changedTouches,ki)))return!1;ni=ki.pageX,de=ki.pageY}}return rn=rn||x(Me),(Un||bi)&&(ni=Xe.clientX+rn.x,de=Xe.clientY+rn.y),Xe.pageOffset=rn,Xe.points=[ni,de],Xe.cursor=Un||bi,Xe}(gn,wt.pageOffset,wt.target||nt);return!!ce&&!(ie()&&!wt.doNotReject)&&(gn=h.cssClasses.tap,!(((he=kt).classList?he.classList.contains(gn):new RegExp("\\b"+gn+"\\b").test(he.className))&&!wt.doNotReject)&&!(ht===tt.start&&void 0!==ce.buttons&&1<ce.buttons)&&(!wt.hover||!ce.buttons)&&(Mt||ce.preventDefault(),ce.calcPoint=ce.points[h.ort],void xt(ce,wt)))}var Ee=[];return ht.split(" ").forEach(function(gn){nt.addEventListener(gn,fe,!!Mt&&{passive:!0}),Ee.push([gn,fe])}),Ee}function Wn(ht){var nt,xt,wt=E(wt=100*(ht-(nt=h.ort,xt=(wt=U).getBoundingClientRect(),wt=(ht=wt.ownerDocument).documentElement,ht=x(ht),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(ht.x=0),nt?xt.top+ht.y-wt.clientTop:xt.left+ht.x-wt.clientLeft))/En());return h.dir?100-wt:wt}function Fe(ht,nt){"mouseout"===ht.type&&"HTML"===ht.target.nodeName&&null===ht.relatedTarget&&we(ht,nt)}function ne(ht,nt){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===ht.buttons&&0!==nt.buttonsProperty)return we(ht,nt);di(0<(ht=(h.dir?-1:1)*(ht.calcPoint-nt.startCalcPoint)),100*ht/nt.baseSize,nt.locations,nt.handleNumbers,nt.connect)}function we(ht,nt){nt.handle&&(ot(nt.handle,h.cssClasses.active),--Ae),nt.listeners.forEach(function(xt){Qt.removeEventListener(xt[0],xt[1])}),0===Ae&&(ot(kt,h.cssClasses.drag),Nn(),ht.cursor&&(Yt.style.cursor="",Yt.removeEventListener("selectstart",y))),h.events.smoothSteps&&(nt.handleNumbers.forEach(function(xt){Dn(xt,ee[xt],!0,!0,!1,!1)}),nt.handleNumbers.forEach(function(xt){Oe("update",xt)})),nt.handleNumbers.forEach(function(xt){Oe("change",xt),Oe("set",xt),Oe("end",xt)})}function Re(ht,nt){var xt,wt,fe,Ee;nt.handleNumbers.some(Ke)||(1===nt.handleNumbers.length&&(Ae+=1,q(Ee=$[nt.handleNumbers[0]].children[0],h.cssClasses.active)),ht.stopPropagation(),wt=hi(tt.move,Qt,ne,{target:ht.target,handle:Ee,connect:nt.connect,listeners:xt=[],startCalcPoint:ht.calcPoint,baseSize:En(),pageOffset:ht.pageOffset,handleNumbers:nt.handleNumbers,buttonsProperty:ht.buttons,locations:ee.slice()}),fe=hi(tt.end,Qt,we,{target:ht.target,handle:Ee,listeners:xt,doNotReject:!0,handleNumbers:nt.handleNumbers}),Ee=hi("mouseout",Qt,Fe,{target:ht.target,handle:Ee,listeners:xt,doNotReject:!0,handleNumbers:nt.handleNumbers}),xt.push.apply(xt,wt.concat(fe,Ee)),ht.cursor&&(Yt.style.cursor=getComputedStyle(ht.target).cursor,1<$.length&&q(kt,h.cssClasses.drag),Yt.addEventListener("selectstart",y,!1)),nt.handleNumbers.forEach(function(gn){Oe("start",gn)}))}function He(ht,nt){ze[ht]=ze[ht]||[],ze[ht].push(nt),"update"===ht.split(".")[0]&&$.forEach(function(xt,wt){Oe("update",wt)})}function ge(ht){var nt=ht&&ht.split(".")[0],xt=nt?ht.substring(nt.length):ht;Object.keys(ze).forEach(function(wt){var fe=wt.split(".")[0],Ee=wt.substring(fe.length);nt&&nt!==fe||xt&&xt!==Ee||(".__aria"!==(fe=Ee)&&".__tooltips"!==fe||xt===Ee)&&delete ze[wt]})}function Oe(ht,nt,xt){Object.keys(ze).forEach(function(wt){var fe=wt.split(".")[0];ht===fe&&ze[wt].forEach(function(Ee){Ee.call(Co,Wt.map(h.format.to),nt,Wt.slice(),xt||!1,ee.slice(),Co)})})}function Rn(ht,nt,xt,wt,fe,Ee,gn){var he;return 1<$.length&&!h.events.unconstrained&&(wt&&0<nt&&(he=pt.getAbsoluteDistance(ht[nt-1],h.margin,!1),xt=Math.max(xt,he)),fe&&nt<$.length-1&&(he=pt.getAbsoluteDistance(ht[nt+1],h.margin,!0),xt=Math.min(xt,he))),1<$.length&&h.limit&&(wt&&0<nt&&(he=pt.getAbsoluteDistance(ht[nt-1],h.limit,!1),xt=Math.min(xt,he)),fe&&nt<$.length-1&&(he=pt.getAbsoluteDistance(ht[nt+1],h.limit,!0),xt=Math.max(xt,he))),h.padding&&(0===nt&&(he=pt.getAbsoluteDistance(0,h.padding[0],!1),xt=Math.max(xt,he)),nt===$.length-1&&(he=pt.getAbsoluteDistance(100,h.padding[1],!0),xt=Math.min(xt,he))),!((xt=E(xt=gn?xt:pt.getStep(xt)))===ht[nt]&&!Ee)&&xt}function on(ht,nt){var xt=h.ort;return(xt?nt:ht)+", "+(xt?ht:nt)}function di(ht,nt,xt,wt,fe){var Ee=xt.slice(),gn=wt[0],he=h.events.smoothSteps,ce=[!ht,ht],Xe=[ht,!ht];wt=wt.slice(),ht&&wt.reverse(),1<wt.length?wt.forEach(function(Ye,an){!1===(an=Rn(Ee,Ye,Ee[Ye]+nt,ce[an],Xe[an],!1,he))?nt=0:(nt=an-Ee[Ye],Ee[Ye]=an)}):ce=Xe=[!0];var rn=!1;wt.forEach(function(Ye,an){rn=Dn(Ye,xt[Ye]+nt,ce[an],Xe[an],!1,he)||rn}),rn&&(wt.forEach(function(Ye){Oe("update",Ye),Oe("slide",Ye)}),null!=fe&&Oe("drag",gn))}function Zn(ht,nt){return h.dir?100-ht-nt:ht}function Nn(){Se.forEach(function(ht){var nt=3+($.length+(nt=50<ee[ht]?-1:1)*ht);$[ht].style.zIndex=String(nt)})}function Dn(ht,nt,xt,wt,fe,Ee){return!1!==(nt=fe?nt:Rn(ee,ht,nt,xt,wt,!1,Ee))&&(ee[ht]=nt,Wt[ht]=pt.fromStepping(nt),nt="translate("+on(Zn(nt,0)-Le+"%","0")+")",$[ht].style[h.transformRule]=nt,Hi(ht),Hi(ht+1),!0)}function Hi(ht){var nt,xt;K[ht]&&(xt=100,nt="translate("+on(Zn(nt=(nt=0)!==ht?ee[ht-1]:nt,xt=(xt=ht!==K.length-1?ee[ht]:xt)-nt)+"%","0")+")",xt="scale("+on(xt/100,"1")+")",K[ht].style[h.transformRule]=nt+" "+xt)}function zi(ht,nt){return null===ht||!1===ht||void 0===ht?ee[nt]:("number"==typeof ht&&(ht=String(ht)),!1===(ht=!1!==(ht=h.format.from(ht))?pt.toStepping(ht):ht)||isNaN(ht)?ee[nt]:ht)}function Bi(fe,nt,xt){var wt=k(fe);fe=void 0===ee[0],nt=void 0===nt||nt,h.animate&&!fe&&I(kt,h.cssClasses.tap,h.animationDuration),Se.forEach(function(he){Dn(he,zi(wt[he],he),!0,!1,xt)});var Ee,gn=1===Se.length?0:1;for(fe&&pt.hasNoSize()&&(xt=!0,ee[0]=0,1<Se.length&&(Ee=100/(Se.length-1),Se.forEach(function(he){ee[he]=he*Ee})));gn<Se.length;++gn)Se.forEach(function(he){Dn(he,ee[he],!0,!0,xt)});Nn(),Se.forEach(function(he){Oe("update",he),null!==wt[he]&&nt&&Oe("set",he)})}function io(ht){return(ht=void 0!==ht&&ht)?1===Wt.length?Wt[0]:Wt.slice(0):1===(ht=Wt.map(h.format.to)).length?ht[0]:ht}function Hn(Ee){var nt=ee[Ee],xt=pt.getNearbySteps(nt),wt=Wt[Ee],fe=xt.thisStep.step;return Ee=null,h.snap?[wt-xt.stepBefore.startValue||null,xt.stepAfter.startValue-wt||null]:(!1!==fe&&wt+fe>xt.stepAfter.startValue&&(fe=xt.stepAfter.startValue-wt),Ee=wt>xt.thisStep.startValue?xt.thisStep.step:!1!==xt.stepBefore.step&&wt-xt.stepBefore.highestStep,100===nt?fe=null:0===nt&&(Ee=null),nt=pt.countStepDecimals(),null!==fe&&!1!==fe&&(fe=Number(fe.toFixed(nt))),[Ee=null!==Ee&&!1!==Ee?Number(Ee.toFixed(nt)):Ee,fe])}q(c=kt,h.cssClasses.target),q(c,0===h.dir?h.cssClasses.ltr:h.cssClasses.rtl),q(c,0===h.ort?h.cssClasses.horizontal:h.cssClasses.vertical),q(c,"rtl"===getComputedStyle(c).direction?h.cssClasses.textDirectionRtl:h.cssClasses.textDirectionLtr),U=te(c,h.cssClasses.base),function(ht,nt){var xt=te(nt,h.cssClasses.connects);$=[],(K=[]).push(bt(xt,ht[0]));for(var wt=0;wt<h.handles;wt++)$.push(In(nt,wt)),Se[wt]=wt,K.push(bt(xt,ht[wt+1]))}(h.connect,U),(Pt=h.events).fixed||$.forEach(function(ht,nt){hi(tt.start,ht.children[0],Re,{handleNumbers:[nt]})}),Pt.tap&&hi(tt.start,U,function hn(ht){ht.stopPropagation();var nt,xt,wt,fe=Wn(ht.calcPoint),Ee=(nt=fe,wt=!(xt=100),$.forEach(function(gn,he){var ce,Xe;Ke(he)||(ce=ee[he],((Xe=Math.abs(ce-nt))<xt||Xe<=xt&&ce<nt||100===Xe&&100===xt)&&(wt=he,xt=Xe))}),wt);!1!==Ee&&(h.events.snap||I(kt,h.cssClasses.tap,h.animationDuration),Dn(Ee,fe,!0,!0),Nn(),Oe("slide",Ee,!0),Oe("update",Ee,!0),h.events.snap?Re(ht,{handleNumbers:[Ee]}):(Oe("change",Ee,!0),Oe("set",Ee,!0)))},{}),Pt.hover&&hi(tt.move,U,function mn(nt){nt=Wn(nt.calcPoint),nt=pt.getStep(nt);var xt=pt.fromStepping(nt);Object.keys(ze).forEach(function(wt){"hover"===wt.split(".")[0]&&ze[wt].forEach(function(fe){fe.call(Co,xt)})})},{hover:!0}),Pt.drag&&K.forEach(function(ht,nt){var xt,wt,fe,Ee,gn;!1!==ht&&0!==nt&&nt!==K.length-1&&(fe=[ht],Ee=[xt=$[nt-1],wt=$[nt]],gn=[nt-1,nt],q(ht,h.cssClasses.draggable),Pt.fixed&&(fe.push(xt.children[0]),fe.push(wt.children[0])),Pt.dragAll&&(Ee=$,gn=Se),fe.forEach(function(he){hi(tt.start,he,Re,{handles:Ee,handleNumbers:gn,connect:ht})}))}),Bi(h.start),h.pips&&wn(h.pips),h.tooltips&&Qe(),ge("update.__aria"),He("update.__aria",function(ht,nt,xt,wt,fe){Se.forEach(function(he){var gn=$[he],ce=Rn(ee,he,0,!0,!0,!0),Xe=Rn(ee,he,100,!0,!0,!0),rn=fe[he];he=String(h.ariaFormat.to(xt[he])),ce=pt.fromStepping(ce).toFixed(1),Xe=pt.fromStepping(Xe).toFixed(1),rn=pt.fromStepping(rn).toFixed(1),gn.children[0].setAttribute("aria-valuemin",ce),gn.children[0].setAttribute("aria-valuemax",Xe),gn.children[0].setAttribute("aria-valuenow",rn),gn.children[0].setAttribute("aria-valuetext",he)})});var Co={destroy:function(){for(ge(".__aria"),ge(".__tooltips"),Object.keys(h.cssClasses).forEach(function(ht){ot(kt,h.cssClasses[ht])});kt.firstChild;)kt.removeChild(kt.firstChild);delete kt.noUiSlider},steps:function(){return Se.map(Hn)},on:He,off:ge,get:io,set:Bi,setHandle:function(ht,nt,xt,wt){if(!(0<=(ht=Number(ht))&&ht<Se.length))throw new Error("noUiSlider: invalid handle number, got: "+ht);Dn(ht,zi(nt,ht),!0,!0,wt),Oe("update",ht),xt&&Oe("set",ht)},reset:function(ht){Bi(h.start,ht)},__moveHandles:function(ht,nt,xt){di(ht,nt,ee,xt)},options:j,updateOptions:function(ht,nt){var xt=io(),wt=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];wt.forEach(function(Ee){void 0!==ht[Ee]&&(j[Ee]=ht[Ee])});var fe=ut(j);wt.forEach(function(Ee){void 0!==ht[Ee]&&(h[Ee]=fe[Ee])}),pt=fe.spectrum,h.margin=fe.margin,h.limit=fe.limit,h.padding=fe.padding,h.pips?wn(h.pips):bn(),(h.tooltips?Qe:qe)(),ee=[],Bi(D(ht.start)?ht.start:xt,nt)},target:kt,removePips:bn,removeTooltips:qe,getPositions:function(){return ee.slice()},getTooltips:function(){return It},getOrigins:function(){return $},pips:wn};return Co}(c,ut(h),h),c.noUiSlider=h}var b={__spectrum:Xt,cssClasses:be,create:Ft};M.create=Ft,M.cssClasses=be,M.default=b,Object.defineProperty(M,"__esModule",{value:!0})});var tns=function(){var M=window,Q=M.requestAnimationFrame||M.webkitRequestAnimationFrame||M.mozRequestAnimationFrame||M.msRequestAnimationFrame||function(W){return setTimeout(W,16)},Ot=window,D=Ot.cancelAnimationFrame||Ot.mozCancelAnimationFrame||function(W){clearTimeout(W)};function y(){for(var W,Vt,X,m=arguments[0]||{},O=1,F=arguments.length;O<F;O++)if(null!==(W=arguments[O]))for(Vt in W)m!==(X=W[Vt])&&void 0!==X&&(m[Vt]=X);return m}function p(W){return 0<=["true","false"].indexOf(W)?JSON.parse(W):W}function I(W,Vt,X,m){if(m)try{W.setItem(Vt,X)}catch(O){}return X}function E(){var W=document,Vt=W.body;return Vt||((Vt=W.createElement("body")).fake=!0),Vt}var k=document.documentElement;function G(W){var Vt="";return W.fake&&(Vt=k.style.overflow,W.style.background="",W.style.overflow=k.style.overflow="hidden",k.appendChild(W)),Vt}function q(W,Vt){W.fake&&(W.remove(),k.style.overflow=Vt)}function ot(W,Vt,X,m){"insertRule"in W?W.insertRule(Vt+"{"+X+"}",m):W.addRule(Vt,X,m)}function x(W){return("insertRule"in W?W.cssRules:W.rules).length}function Z(W,Vt,X){for(var m=0,O=W.length;m<O;m++)Vt.call(X,W[m],m)}var et="classList"in document.createElement("_"),gt=et?function(W,Vt){return W.classList.contains(Vt)}:function(W,Vt){return 0<=W.className.indexOf(Vt)},at=et?function(W,Vt){gt(W,Vt)||W.classList.add(Vt)}:function(W,Vt){gt(W,Vt)||(W.className+=" "+Vt)},_t=et?function(W,Vt){gt(W,Vt)&&W.classList.remove(Vt)}:function(W,Vt){gt(W,Vt)&&(W.className=W.className.replace(Vt,""))};function Xt(W,Vt){return W.hasAttribute(Vt)}function re(W,Vt){return W.getAttribute(Vt)}function le(W){return void 0!==W.item}function be(W,Vt){if(W=le(W)||W instanceof Array?W:[W],"[object Object]"===Object.prototype.toString.call(Vt))for(var X=W.length;X--;)for(var m in Vt)W[X].setAttribute(m,Vt[m])}function yt(W,Vt){W=le(W)||W instanceof Array?W:[W];for(var X=(Vt=Vt instanceof Array?Vt:[Vt]).length,m=W.length;m--;)for(var O=X;O--;)W[m].removeAttribute(Vt[O])}function Ie(W){for(var Vt=[],X=0,m=W.length;X<m;X++)Vt.push(W[X]);return Vt}function je(W,Vt){"none"!==W.style.display&&(W.style.display="none")}function _e(W,Vt){"none"===W.style.display&&(W.style.display="")}function De(W){return"none"!==window.getComputedStyle(W).display}function Pe(W){if("string"==typeof W){var Vt=[W],X=W.charAt(0).toUpperCase()+W.substr(1);["Webkit","Moz","ms","O"].forEach(function(w){"ms"===w&&"transform"!==W||Vt.push(w+X)}),W=Vt}for(var m=document.createElement("fakeelement"),O=0;O<W.length;O++){var F=W[O];if(void 0!==m.style[F])return F}return!1}function xn(W,Vt){var X=!1;return/^Webkit/.test(W)?X="webkit"+Vt+"End":/^O/.test(W)?X="o"+Vt+"End":W&&(X=Vt.toLowerCase()+"end"),X}var Fn=!1;try{var Gn=Object.defineProperty({},"passive",{get:function(){Fn=!0}});window.addEventListener("test",null,Gn)}catch(W){}var Ne=!!Fn&&{passive:!0};function qn(W,Vt,X){for(var m in Vt){var O=0<=["touchstart","touchmove"].indexOf(m)&&!X&&Ne;W.addEventListener(m,Vt[m],O)}}function Te(W,Vt){for(var X in Vt){var m=0<=["touchstart","touchmove"].indexOf(X)&&Ne;W.removeEventListener(X,Vt[X],m)}}function jt(){return{topics:{},on:function(W,Vt){this.topics[W]=this.topics[W]||[],this.topics[W].push(Vt)},off:function(W,Vt){if(this.topics[W])for(var X=0;X<this.topics[W].length;X++)if(this.topics[W][X]===Vt){this.topics[W].splice(X,1);break}},emit:function(W,Vt){Vt.type=W,this.topics[W]&&this.topics[W].forEach(function(X){X(Vt,W)})}}}Object.keys||(Object.keys=function(W){var Vt=[];for(var X in W)Object.prototype.hasOwnProperty.call(W,X)&&Vt.push(X);return Vt}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var ei=function(W){W=y({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},W||{});var Vt=document,X=window,m={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},O={},F=W.useLocalStorage;if(F){var w=navigator.userAgent,B=new Date;try{(O=X.localStorage)?(O.setItem(B,B),F=O.getItem(B)==B,O.removeItem(B)):F=!1,F||(O={})}catch(C){F=!1}F&&(O.tnsApp&&O.tnsApp!==w&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(C){O.removeItem(C)}),localStorage.tnsApp=w)}var Y=O.tC?p(O.tC):I(O,"tC",function(){var C=document,J=E(),vt=G(J),Et=C.createElement("div"),Ht=!1;J.appendChild(Et);try{for(var Kt,Ge="(10px * 10)",Ln=["calc"+Ge,"-moz-calc"+Ge,"-webkit-calc"+Ge],xi=0;xi<3;xi++)if(Et.style.width=Kt=Ln[xi],100===Et.offsetWidth){Ht=Kt.replace(Ge,"");break}}catch(n){}return J.fake?q(J,vt):Et.remove(),Ht}(),F),it=O.tPL?p(O.tPL):I(O,"tPL",function(){var C,J=document,vt=E(),Et=G(vt),Ht=J.createElement("div"),Kt=J.createElement("div"),Ge="";Ht.className="tns-t-subp2",Kt.className="tns-t-ct";for(var Ln=0;Ln<70;Ln++)Ge+="<div></div>";return Kt.innerHTML=Ge,Ht.appendChild(Kt),vt.appendChild(Ht),C=Math.abs(Ht.getBoundingClientRect().left-Kt.children[67].getBoundingClientRect().left)<2,vt.fake?q(vt,Et):Ht.remove(),C}(),F),St=O.tMQ?p(O.tMQ):I(O,"tMQ",function(){if(window.matchMedia||window.msMatchMedia)return!0;var C,J=document,vt=E(),Et=G(vt),Ht=J.createElement("div"),Kt=J.createElement("style"),Ge="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return Kt.type="text/css",Ht.className="tns-mq-test",vt.appendChild(Kt),vt.appendChild(Ht),Kt.styleSheet?Kt.styleSheet.cssText=Ge:Kt.appendChild(J.createTextNode(Ge)),C=window.getComputedStyle?window.getComputedStyle(Ht).position:Ht.currentStyle.position,vt.fake?q(vt,Et):Ht.remove(),"absolute"===C}(),F),ut=O.tTf?p(O.tTf):I(O,"tTf",Pe("transform"),F),Ut=O.t3D?p(O.t3D):I(O,"t3D",function(C){if(!C||!window.getComputedStyle)return!1;var J,vt=document,Et=E(),Ht=G(Et),Kt=vt.createElement("p"),Ge=9<C.length?"-"+C.slice(0,-9).toLowerCase()+"-":"";return Ge+="transform",Et.insertBefore(Kt,null),Kt.style[C]="translate3d(1px,1px,1px)",J=window.getComputedStyle(Kt).getPropertyValue(Ge),Et.fake?q(Et,Ht):Kt.remove(),void 0!==J&&0<J.length&&"none"!==J}(ut),F),Ft=O.tTDu?p(O.tTDu):I(O,"tTDu",Pe("transitionDuration"),F),b=O.tTDe?p(O.tTDe):I(O,"tTDe",Pe("transitionDelay"),F),c=O.tADu?p(O.tADu):I(O,"tADu",Pe("animationDuration"),F),h=O.tADe?p(O.tADe):I(O,"tADe",Pe("animationDelay"),F),j=O.tTE?p(O.tTE):I(O,"tTE",xn(Ft,"Transition"),F),U=O.tAE?p(O.tAE):I(O,"tAE",xn(c,"Animation"),F),$=X.console&&"function"==typeof X.console.warn,K=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],ct={};if(K.forEach(function(C){if("string"==typeof W[C]){var J=W[C],vt=Vt.querySelector(J);if(ct[C]=J,!vt||!vt.nodeName)return void($&&console.warn("Can't find",W[C]));W[C]=vt}}),!(W.container.children.length<1)){var It=W.responsive,Pt=W.nested,tt="carousel"===W.mode;if(It){0 in It&&(W=y(W,It[0]),delete It[0]);var Mt={};for(var kt in It){var pt=It[kt];Mt[kt]=pt="number"==typeof pt?{items:pt}:pt}It=Mt,Mt=null}if(tt||function C(J){for(var vt in J)tt||("slideBy"===vt&&(J[vt]="page"),"edgePadding"===vt&&(J[vt]=!1),"autoHeight"===vt&&(J[vt]=!1)),"responsive"===vt&&C(J[vt])}(W),!tt){W.axis="horizontal",W.slideBy="page",W.edgePadding=!1;var Wt=W.animateIn,ee=W.animateOut,Se=W.animateDelay,Ae=W.animateNormal}var ze,Me,Qt="horizontal"===W.axis,Yt=Vt.createElement("div"),Le=Vt.createElement("div"),te=W.container,In=te.parentNode,bt=te.outerHTML,xe=te.children,ie=xe.length,Ke=vr(),qe=!1;It&&An(),tt&&(te.className+=" tns-vpfix");var Qe,yn,dn,Cn,bn,wn,hi,Wn,Fe=W.autoWidth,ne=en("fixedWidth"),we=en("edgePadding"),Re=en("gutter"),hn=co(),mn=en("center"),He=Fe?1:Math.floor(en("items")),ge=en("slideBy"),Oe=W.viewportMax||W.fixedWidthViewportWidth,Rn=en("arrowKeys"),on=en("speed"),di=W.rewind,Zn=!di&&W.loop,Nn=en("autoHeight"),Dn=en("controls"),Hi=en("controlsText"),zi=en("nav"),Bi=en("touch"),io=en("mouseDrag"),Hn=en("autoplay"),Co=en("autoplayTimeout"),ht=en("autoplayText"),nt=en("autoplayHoverPause"),xt=en("autoplayResetOnVisibility"),wt=(hi=en("nonce"),Wn=document.createElement("style"),hi&&Wn.setAttribute("nonce",hi),document.querySelector("head").appendChild(Wn),Wn.sheet?Wn.sheet:Wn.styleSheet),fe=W.lazyload,Ee=W.lazyloadSelector,gn=[],he=Zn?(bn=function(){if(Fe||ne&&!Oe)return ie-1;var C=ne?"fixedWidth":"items",J=[];if((ne||W[C]<ie)&&J.push(W[C]),It)for(var vt in It){var Et=It[vt][C];Et&&(ne||Et<ie)&&J.push(Et)}return J.length||J.push(0),Math.ceil(ne?Oe/Math.min.apply(null,J):Math.max.apply(null,J))}(),wn=tt?Math.ceil((5*bn-ie)/2):4*bn-ie,wn=Math.max(bn,wn),Ki("edgePadding")?wn+1:wn):0,ce=tt?ie+2*he:ie+he,Xe=!(!ne&&!Fe||Zn),rn=ne?Or():null,Ye=!tt||!Zn,an=Qt?"left":"top",Un="",bi="",ni=ne?function(){return mn&&!Zn?ie-1:Math.ceil(-rn/(ne+Re))}:Fe?function(){for(var C=0;C<ce;C++)if(Qe[C]>=-rn)return C}:function(){return mn&&tt&&!Zn?ie-1:Zn||tt?Math.max(0,ce-Math.ceil(He)):ce-1},de=Wo(en("startIndex")),ki=de,ri=(Qo(),0),Ri=Fe?null:ni(),Sn=W.preventActionWhenRunning,Fi=W.swipeAngle,oo=!Fi||"?",Si=!1,Xo=W.onInit,Ai=new jt,bo=" tns-slider tns-"+W.mode,On=te.id||(Cn=window.tnsId,window.tnsId=Cn?Cn+1:1,"tns"+window.tnsId),Kn=en("disable"),uo=!1,Bo=W.freezable,Ei=!(!Bo||Fe)&&Ue(),gi=!1,Fo={click:$t,keydown:function(C){C=ln(C);var J=[m.LEFT,m.RIGHT].indexOf(C.keyCode);0<=J&&(0===J?Ti.disabled||$t(C,-1):vi.disabled||$t(C,1))}},$o={click:function(C){if(Si){if(Sn)return;ft()}for(var J=_n(C=ln(C));J!==Oi&&!Xt(J,"data-nav");)J=J.parentNode;if(Xt(J,"data-nav")){var vt=Qi=Number(re(J,"data-nav"));Bt(or?vt:Math.min(Math.ceil(ne||Fe?vt*ie/ii:vt*He),ie-1),C),Wi===vt&&($i&&Pn(),Qi=-1)}},keydown:function(C){C=ln(C);var J=Vt.activeElement;if(Xt(J,"data-nav")){var vt=[m.LEFT,m.RIGHT,m.ENTER,m.SPACE].indexOf(C.keyCode),Et=Number(re(J,"data-nav"));0<=vt&&(0===vt?0<Et&&Tn(lo[Et-1]):1===vt?Et<ii-1&&Tn(lo[Et+1]):Bt(Qi=Et,C))}}},Eo={mouseover:function(){$i&&(Be(),So=!0)},mouseout:function(){So&&(pe(),So=!1)}},ho={visibilitychange:function(){Vt.hidden?$i&&(Be(),Ro=!0):Ro&&(pe(),Ro=!1)}},Ao={keydown:function(C){C=ln(C);var J=[m.LEFT,m.RIGHT].indexOf(C.keyCode);0<=J&&$t(C,0===J?-1:1)}},Ui={touchstart:pi,touchmove:Mn,touchend:jn,touchcancel:jn},ro={mousedown:pi,mousemove:Mn,mouseup:jn,mouseleave:jn},ko=Ki("controls"),gr=Ki("nav"),or=!!Fe||W.navAsThumbnails,Go=Ki("autoplay"),wo=Ki("touch"),so=Ki("mouseDrag"),fr="tns-slide-active",Ko="tns-slide-cloned",jo="tns-complete",To={load:function(C){si(_n(C))},error:function(C){var J;J=_n(C),at(J,"failed"),pr(J)}},$n="force"===W.preventScrollOnTouch;if(ko)var qi,Xi,_i=W.controlsContainer,Jo=W.controlsContainer?W.controlsContainer.outerHTML:"",Ti=W.prevButton,vi=W.nextButton,ao=W.prevButton?W.prevButton.outerHTML:"",Vo=W.nextButton?W.nextButton.outerHTML:"";if(gr)var lo,Oi=W.navContainer,rr=W.navContainer?W.navContainer.outerHTML:"",ii=Fe?ie:wi(),xo=0,Qi=-1,Wi=Tr(),Pi=Wi,Po="tns-nav-active",Mo="Carousel Page ",Io=" (Current Slide)";if(Go)var sr,$i,So,fo,Ro,Er="forward"===W.autoplayDirection?1:-1,Yn=W.autoplayButton,ar=W.autoplayButton?W.autoplayButton.outerHTML:"",Uo=["<span class='tns-visually-hidden'>"," animation</span>"];if(wo||so)var lr,Gi,yi={},to={},qo=!1,po=Qt?function(C,J){return C.x-J.x}:function(C,J){return C.y-J.y};Fe||No(Kn||Ei),ut&&(an=ut,Un="translate",Ut?(Un+=Qt?"3d(":"3d(0px, ",bi=Qt?", 0px, 0px)":", 0px)"):(Un+=Qt?"X(":"Y(",bi=")")),tt&&(te.className=te.className.replace("tns-vpfix","")),function(){if(Ki("gutter"),Yt.className="tns-outer",Le.className="tns-inner",Yt.id=On+"-ow",Le.id=On+"-iw",""===te.id&&(te.id=On),bo+=it||Fe?" tns-subpixel":" tns-no-subpixel",bo+=Y?" tns-calc":" tns-no-calc",Fe&&(bo+=" tns-autowidth"),te.className+=bo+=" tns-"+W.axis,tt?((ze=Vt.createElement("div")).id=On+"-mw",ze.className="tns-ovh",Yt.appendChild(ze),ze.appendChild(Le)):Yt.appendChild(Le),Nn&&((ze||Le).className+=" tns-ah"),In.insertBefore(Yt,te),Le.appendChild(te),Z(xe,function(Ln,xi){at(Ln,"tns-item"),Ln.id||(Ln.id=On+"-item"+xi),!tt&&Ae&&at(Ln,Ae),be(Ln,{"aria-hidden":"true",tabindex:"-1"})}),he){for(var J=Vt.createDocumentFragment(),vt=Vt.createDocumentFragment(),Et=he;Et--;){var Ht=Et%ie,Kt=xe[Ht].cloneNode(!0);if(at(Kt,Ko),yt(Kt,"id"),vt.insertBefore(Kt,vt.firstChild),tt){var Ge=xe[ie-1-Ht].cloneNode(!0);at(Ge,Ko),yt(Ge,"id"),J.appendChild(Ge)}}te.insertBefore(J,te.firstChild),te.appendChild(vt),xe=te.children}}(),function(){if(!tt)for(var C=de,J=de+Math.min(ie,He);C<J;C++){var vt=xe[C];vt.style.left=100*(C-de)/He+"%",at(vt,Wt),_t(vt,Ae)}if(Qt&&(it||Fe?(ot(wt,"#"+On+" > .tns-item","font-size:"+X.getComputedStyle(xe[0]).fontSize+";",x(wt)),ot(wt,"#"+On,"font-size:0;",x(wt))):tt&&Z(xe,function(V,H){var rt;V.style.marginLeft=(rt=H,Y?Y+"("+100*rt+"% / "+ce+")":100*rt/ce+"%")})),St){if(Ft){var Et=ze&&W.autoHeight?e(W.speed):"";ot(wt,"#"+On+"-mw",Et,x(wt))}Et=zo(W.edgePadding,W.gutter,W.fixedWidth,W.speed,W.autoHeight),ot(wt,"#"+On+"-iw",Et,x(wt)),tt&&(Et=Qt&&!Fe?"width:"+Do(W.fixedWidth,W.gutter,W.items)+";":"",Ft&&(Et+=e(on)),ot(wt,"#"+On,Et,x(wt))),Et=Qt&&!Fe?vo(W.fixedWidth,W.gutter,W.items):"",W.gutter&&(Et+=cr(W.gutter)),tt||(Ft&&(Et+=e(on)),c&&(Et+=o(on))),Et&&ot(wt,"#"+On+" > .tns-item",Et,x(wt))}else tt&&Nn&&(ze.style[Ft]=on/1e3+"s"),Le.style.cssText=zo(we,Re,ne,Nn),tt&&Qt&&!Fe&&(te.style.width=Do(ne,Re,He)),Et=Qt&&!Fe?vo(ne,Re,He):"",Re&&(Et+=cr(Re)),Et&&ot(wt,"#"+On+" > .tns-item",Et,x(wt));if(It&&St)for(var Ht in It){Ht=parseInt(Ht);var Kt=It[Ht],Ge=(Et="",""),Ln="",xi="",n="",i=Fe?null:en("items",Ht),s=en("fixedWidth",Ht),u=en("speed",Ht),v=en("edgePadding",Ht),P=en("autoHeight",Ht),S=en("gutter",Ht);Ft&&ze&&en("autoHeight",Ht)&&"speed"in Kt&&(Ge="#"+On+"-mw{"+e(u)+"}"),("edgePadding"in Kt||"gutter"in Kt)&&(Ln="#"+On+"-iw{"+zo(v,S,s,u,P)+"}"),tt&&Qt&&!Fe&&("fixedWidth"in Kt||"items"in Kt||ne&&"gutter"in Kt)&&(xi="width:"+Do(s,S,i)+";"),Ft&&"speed"in Kt&&(xi+=e(u)),xi&&(xi="#"+On+"{"+xi+"}"),("fixedWidth"in Kt||ne&&"gutter"in Kt||!tt&&"items"in Kt)&&(n+=vo(s,S,i)),"gutter"in Kt&&(n+=cr(S)),!tt&&"speed"in Kt&&(Ft&&(n+=e(u)),c&&(n+=o(u))),n&&(n="#"+On+" > .tns-item{"+n+"}"),(Et=Ge+Ln+xi+n)&&wt.insertRule("@media (min-width: "+Ht/16+"em) {"+Et+"}",wt.cssRules.length)}}(),l();var mo=Zn?tt?function(){var C=ri,J=Ri;C+=ge,J-=ge,we?(C+=1,J-=1):ne&&(hn+Re)%(ne+Re)&&(J-=1),he&&(J<de?de-=ie:de<C&&(de+=ie))}:function(){if(Ri<de)for(;ri+ie<=de;)de-=ie;else if(de<ri)for(;de<=Ri-ie;)de+=ie}:function(){de=Math.max(ri,Math.min(Ri,de))},wr=tt?function(){var C,J,vt,Et,Ht,Kt,Ge,Ln,xi,n,i;mr(te,""),Ft||!on?(r(),on&&De(te)||ft()):(C=te,J=an,vt=Un,Et=bi,Ht=Yo(),Kt=on,Ge=ft,Ln=Math.min(Kt,10),xi=0<=Ht.indexOf("%")?"%":"px",Ht=Ht.replace(xi,""),n=Number(C.style[J].replace(vt,"").replace(Et,"").replace(xi,"")),i=(Ht-n)/Kt*Ln,setTimeout(function s(){Kt-=Ln,C.style[J]=vt+(n+=i)+xi+Et,0<Kt?setTimeout(s,Ln):Ge()},Ln)),Qt||ai()}:function(){gn=[];var C={};C[j]=C[U]=ft,Te(xe[ki],C),qn(xe[de],C),f(ki,Wt,ee,!0),f(de,Ae,Wt),j&&U&&on&&De(te)||ft()};return{version:"2.9.4",getInfo:Xn,events:Ai,goTo:Bt,play:function(){Hn&&!$i&&(ye(),fo=!1)},pause:function(){$i&&(Pn(),fo=!0)},isOn:qe,updateSliderHeight:xr,refresh:l,destroy:function(){if(wt.disabled=!0,wt.ownerNode&&wt.ownerNode.remove(),Te(X,{resize:qt}),Rn&&Te(Vt,Ao),_i&&Te(_i,Fo),Oi&&Te(Oi,$o),Te(te,Eo),Te(te,ho),Yn&&Te(Yn,{click:nn}),Hn&&clearInterval(sr),tt&&j){var C={};C[j]=ft,Te(te,C)}Bi&&Te(te,Ui),io&&Te(te,ro);var J=[bt,Jo,ao,Vo,rr,ar];for(var vt in K.forEach(function(Et,Ht){var Kt="container"===Et?Yt:W[Et];if("object"==typeof Kt&&Kt){var Ge=!!Kt.previousElementSibling&&Kt.previousElementSibling,Ln=Kt.parentNode;Kt.outerHTML=J[Ht],W[Et]=Ge?Ge.nextElementSibling:Ln.firstElementChild}}),K=Wt=ee=Se=Ae=Qt=Yt=Le=te=In=bt=xe=ie=Me=Ke=Fe=ne=we=Re=hn=He=ge=Oe=Rn=on=di=Zn=Nn=wt=fe=Qe=gn=he=ce=Xe=rn=Ye=an=Un=bi=ni=de=ki=ri=Ri=Fi=oo=Si=Xo=Ai=bo=On=Kn=uo=Bo=Ei=gi=Fo=$o=Eo=ho=Ao=Ui=ro=ko=gr=or=Go=wo=so=fr=jo=To=yn=Dn=Hi=_i=Jo=Ti=vi=qi=Xi=zi=Oi=rr=lo=ii=xo=Qi=Wi=Pi=Po=Mo=Io=Hn=Co=Er=ht=nt=Yn=ar=xt=Uo=sr=$i=So=fo=Ro=yi=to=lr=qo=Gi=po=Bi=io=null,this)"rebuild"!==vt&&(this[vt]=null);qe=!1},rebuild:function(){return ei(y(W,ct))}}}function No(C){C&&(Dn=zi=Bi=io=Rn=Hn=nt=xt=!1)}function Qo(){for(var C=tt?de-he:de;C<0;)C+=ie;return C%ie+1}function Wo(C){return C=C?Math.max(0,Math.min(Zn?ie-1:ie-He,C)):0,tt?C+he:C}function Zo(C){for(null==C&&(C=de),tt&&(C-=he);C<0;)C+=ie;return Math.floor(C%ie)}function Tr(){var C,J=Zo();return C=or?J:ne||Fe?Math.ceil((J+1)*ii/ie-1):Math.floor(J/He),!Zn&&tt&&de===Ri&&(C=ii-1),C}function vr(){return X.innerWidth||Vt.documentElement.clientWidth||Vt.body.clientWidth}function go(C){return"top"===C?"afterbegin":"beforeend"}function co(){var C=we?2*we-Re:0;return function J(vt){if(null!=vt){var Et,Ht,Kt=Vt.createElement("div");return vt.appendChild(Kt),Ht=(Et=Kt.getBoundingClientRect()).right-Et.left,Kt.remove(),Ht||J(vt.parentNode)}}(In)-C}function Ki(C){if(W[C])return!0;if(It)for(var J in It)if(It[J][C])return!0;return!1}function en(C,J){if(null==J&&(J=Ke),"items"===C&&ne)return Math.floor((hn+Re)/(ne+Re))||1;var vt=W[C];if(It)for(var Et in It)J>=parseInt(Et)&&C in It[Et]&&(vt=It[Et][C]);return"slideBy"===C&&"page"===vt&&(vt=en("items")),tt||"slideBy"!==C&&"items"!==C||(vt=Math.floor(vt)),vt}function zo(C,J,vt,Et,Ht){var Kt="";if(void 0!==C){var Ge=C;J&&(Ge-=J),Kt=Qt?"margin: 0 "+Ge+"px 0 "+C+"px;":"margin: "+C+"px 0 "+Ge+"px 0;"}else if(J&&!vt){var Ln="-"+J+"px";Kt="margin: 0 "+(Qt?Ln+" 0 0":"0 "+Ln+" 0")+";"}return!tt&&Ht&&Ft&&Et&&(Kt+=e(Et)),Kt}function Do(C,J,vt){return C?(C+J)*ce+"px":Y?Y+"("+100*ce+"% / "+vt+")":100*ce/vt+"%"}function vo(C,J,vt){var Et;if(C)Et=C+J+"px";else{tt||(vt=Math.floor(vt));var Ht=tt?ce:vt;Et=Y?Y+"(100% / "+Ht+")":100/Ht+"%"}return Et="width:"+Et,"inner"!==Pt?Et+";":Et+" !important;"}function cr(C){var J="";return!1!==C&&(J=(Qt?"padding-":"margin-")+(Qt?"right":"bottom")+": "+C+"px;"),J}function t(C,J){var vt=C.substring(0,C.length-J).toLowerCase();return vt&&(vt="-"+vt+"-"),vt}function e(C){return t(Ft,18)+"transition-duration:"+C/1e3+"s;"}function o(C){return t(c,17)+"animation-duration:"+C/1e3+"s;"}function l(){if(Ki("autoHeight")||Fe||!Qt){var C=te.querySelectorAll("img");Z(C,function(J){var vt=J.src;fe||(vt&&vt.indexOf("data:image")<0?(J.src="",qn(J,To),at(J,"loading"),J.src=vt):si(J))}),Q(function(){hr(Ie(C),function(){yn=!0})}),Ki("autoHeight")&&(C=tr(de,Math.min(de+He-1,ce-1))),fe?d():Q(function(){hr(Ie(C),d)})}else tt&&T(),lt(),st()}function d(){if(Fe&&1<ie){var C=Zn?de:ie-1;!function J(){var vt=xe[C].getBoundingClientRect().left,Et=xe[C-1].getBoundingClientRect().right;Math.abs(vt-Et)<=1?R():setTimeout(function(){J()},16)}()}else R()}function R(){Qt&&!Fe||(Dr(),Fe?(rn=Or(),Bo&&(Ei=Ue()),Ri=ni(),No(Kn||Ei)):ai()),tt&&T(),lt(),st()}function lt(){if(Cr(),Yt.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+Lr()+"</span>  of "+ie+"</div>"),dn=Yt.querySelector(".tns-liveregion .current"),Go){var C=Hn?"stop":"start";Yn?be(Yn,{"data-action":C}):W.autoplayButtonOutput&&(Yt.insertAdjacentHTML(go(W.autoplayPosition),'<button type="button" data-action="'+C+'">'+Uo[0]+C+Uo[1]+ht[0]+"</button>"),Yn=Yt.querySelector("[data-action]")),Yn&&qn(Yn,{click:nn}),Hn&&(ye(),nt&&qn(te,Eo),xt&&qn(te,ho))}if(gr){if(Oi)be(Oi,{"aria-label":"Carousel Pagination"}),Z(lo=Oi.children,function(Ge,Ln){be(Ge,{"data-nav":Ln,tabindex:"-1","aria-label":Mo+(Ln+1),"aria-controls":On})});else{for(var J="",vt=or?"":'style="display:none"',Et=0;Et<ie;Et++)J+='<button type="button" data-nav="'+Et+'" tabindex="-1" aria-controls="'+On+'" '+vt+' aria-label="'+Mo+(Et+1)+'"></button>';J='<div class="tns-nav" aria-label="Carousel Pagination">'+J+"</div>",Yt.insertAdjacentHTML(go(W.navPosition),J),Oi=Yt.querySelector(".tns-nav"),lo=Oi.children}if(mi(),Ft){var Ht=Ft.substring(0,Ft.length-18).toLowerCase(),Kt="transition: all "+on/1e3+"s";Ht&&(Kt="-"+Ht+"-"+Kt),ot(wt,"[aria-controls^="+On+"-item]",Kt,x(wt))}be(lo[Wi],{"aria-label":Mo+(Wi+1)+Io}),yt(lo[Wi],"tabindex"),at(lo[Wi],Po),qn(Oi,$o)}ko&&(_i||Ti&&vi||(Yt.insertAdjacentHTML(go(W.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+On+'">'+Hi[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+On+'">'+Hi[1]+"</button></div>"),_i=Yt.querySelector(".tns-controls")),Ti&&vi||(Ti=_i.children[0],vi=_i.children[1]),W.controlsContainer&&be(_i,{"aria-label":"Carousel Navigation",tabindex:"0"}),(W.controlsContainer||W.prevButton&&W.nextButton)&&be([Ti,vi],{"aria-controls":On,tabindex:"-1"}),(W.controlsContainer||W.prevButton&&W.nextButton)&&(be(Ti,{"data-controls":"prev"}),be(vi,{"data-controls":"next"})),qi=er(Ti),Xi=er(vi),Sr(),_i?qn(_i,Fo):(qn(Ti,Fo),qn(vi,Fo))),fi()}function st(){if(tt&&j){var C={};C[j]=ft,qn(te,C)}Bi&&qn(te,Ui,W.preventScrollOnTouch),io&&qn(te,ro),Rn&&qn(Vt,Ao),"inner"===Pt?Ai.on("outerResized",function(){ve(),Ai.emit("innerLoaded",Xn())}):(It||ne||Fe||Nn||!Qt)&&qn(X,{resize:qt}),Nn&&("outer"===Pt?Ai.on("innerLoaded",_r):Kn||_r()),ur(),Kn?ji():Ei&&_o(),Ai.on("indexChanged",dr),"inner"===Pt&&Ai.emit("innerLoaded",Xn()),"function"==typeof Xo&&Xo(Xn()),qe=!0}function qt(C){Q(function(){ve(ln(C))})}function ve(C){if(qe){"outer"===Pt&&Ai.emit("outerResized",Xn(C)),Ke=vr();var J,vt=Me,Et=!1;It&&(An(),(J=vt!==Me)&&Ai.emit("newBreakpointStart",Xn(C)));var Ht,Kt,Ge,Ln,xi=He,n=Kn,i=Ei,s=Rn,u=Dn,v=zi,P=Bi,S=io,V=Hn,H=nt,rt=xt,Ct=de;if(J){var Rt=ne,Lt=Nn,Nt=Hi,se=mn,Gt=ht;if(!St)var Jt=Re,Ce=we}if(Rn=en("arrowKeys"),Dn=en("controls"),zi=en("nav"),Bi=en("touch"),mn=en("center"),io=en("mouseDrag"),Hn=en("autoplay"),nt=en("autoplayHoverPause"),xt=en("autoplayResetOnVisibility"),J&&(Kn=en("disable"),ne=en("fixedWidth"),on=en("speed"),Nn=en("autoHeight"),Hi=en("controlsText"),ht=en("autoplayText"),Co=en("autoplayTimeout"),St||(we=en("edgePadding"),Re=en("gutter"))),No(Kn),hn=co(),Qt&&!Fe||Kn||(Dr(),Qt||(ai(),Et=!0)),(ne||Fe)&&(rn=Or(),Ri=ni()),(J||ne)&&(He=en("items"),ge=en("slideBy"),(Kt=He!==xi)&&(ne||Fe||(Ri=ni()),mo())),J&&Kn!==n&&(Kn?ji():function(){if(uo){if(wt.disabled=!1,te.className+=bo,T(),Zn)for(var li=he;li--;)tt&&_e(xe[li]),_e(xe[ce-li-1]);if(!tt)for(var Vn=de,sn=de+ie;Vn<sn;Vn++){var Zt=xe[Vn],Dt=Vn<de+He?Wt:Ae;Zt.style.left=100*(Vn-de)/He+"%",at(Zt,Dt)}Di(),uo=!1}}()),Bo&&(J||ne||Fe)&&(Ei=Ue())!==i&&(Ei?(r(Yo(Wo(0))),_o()):(function(){if(gi){if(we&&St&&(Le.style.margin=""),he)for(var li="tns-transparent",Vn=he;Vn--;)tt&&_t(xe[Vn],li),_t(xe[ce-Vn-1],li);Di(),gi=!1}}(),Et=!0)),No(Kn||Ei),Hn||(nt=xt=!1),Rn!==s&&(Rn?qn(Vt,Ao):Te(Vt,Ao)),Dn!==u&&(Dn?_i?_e(_i):(Ti&&_e(Ti),vi&&_e(vi)):_i?je(_i):(Ti&&je(Ti),vi&&je(vi))),zi!==v&&(zi?(_e(Oi),mi()):je(Oi)),Bi!==P&&(Bi?qn(te,Ui,W.preventScrollOnTouch):Te(te,Ui)),io!==S&&(io?qn(te,ro):Te(te,ro)),Hn!==V&&(Hn?(Yn&&_e(Yn),$i||fo||ye()):(Yn&&je(Yn),$i&&Pn())),nt!==H&&(nt?qn(te,Eo):Te(te,Eo)),xt!==rt&&(xt?qn(Vt,ho):Te(Vt,ho)),J){if(ne===Rt&&mn===se||(Et=!0),Nn!==Lt&&(Nn||(Le.style.height="")),Dn&&Hi!==Nt&&(Ti.innerHTML=Hi[0],vi.innerHTML=Hi[1]),Yn&&ht!==Gt){var me=Hn?1:0,Je=Yn.innerHTML,tn=Je.length-Gt[me].length;Je.substring(tn)===Gt[me]&&(Yn.innerHTML=Je.substring(0,tn)+ht[me])}}else mn&&(ne||Fe)&&(Et=!0);if((Kt||ne&&!Fe)&&(ii=wi(),mi()),(Ht=de!==Ct)?(Ai.emit("indexChanged",Xn()),Et=!0):Kt?Ht||dr():(ne||Fe)&&(ur(),Cr(),Ji()),Kt&&!tt&&function(){for(var li=de+Math.min(ie,He),Vn=ce;Vn--;){var sn=xe[Vn];de<=Vn&&Vn<li?(at(sn,"tns-moving"),sn.style.left=100*(Vn-de)/He+"%",at(sn,Wt),_t(sn,Ae)):sn.style.left&&(sn.style.left="",at(sn,Ae),_t(sn,Wt)),_t(sn,ee)}setTimeout(function(){Z(xe,function(Zt){_t(Zt,"tns-moving")})},300)}(),!Kn&&!Ei){if(J&&!St&&(we===Ce&&Re===Jt||(Le.style.cssText=zo(we,Re,ne,on,Nn)),Qt)){tt&&(te.style.width=Do(ne,Re,He));var Qn=vo(ne,Re,He)+cr(Re);Ln=x(Ge=wt)-1,"deleteRule"in Ge?Ge.deleteRule(Ln):Ge.removeRule(Ln),ot(wt,"#"+On+" > .tns-item",Qn,x(wt))}Nn&&_r(),Et&&(T(),ki=de)}J&&Ai.emit("newBreakpointEnd",Xn(C))}}function Ue(){if(!ne&&!Fe)return ie<=(mn?He-(He-1)/2:He);var J=we?hn+2*we:hn+Re;return mn&&(J-=ne?(hn-ne)/2:(hn-(Qe[de+1]-Qe[de]-Re))/2),(ne?(ne+Re)*ie:Qe[ie])<=J}function An(){for(var C in Me=0,It)(C=parseInt(C))<=Ke&&(Me=C)}function fi(){!Hn&&Yn&&je(Yn),!zi&&Oi&&je(Oi),Dn||(_i?je(_i):(Ti&&je(Ti),vi&&je(vi)))}function Di(){Hn&&Yn&&_e(Yn),zi&&Oi&&_e(Oi),Dn&&(_i?_e(_i):(Ti&&_e(Ti),vi&&_e(vi)))}function _o(){if(!gi){if(we&&(Le.style.margin="0px"),he)for(var C="tns-transparent",J=he;J--;)tt&&at(xe[J],C),at(xe[ce-J-1],C);fi(),gi=!0}}function ji(){if(!uo){if(wt.disabled=!0,te.className=te.className.replace(bo.substring(1),""),yt(te,["style"]),Zn)for(var C=he;C--;)tt&&je(xe[C]),je(xe[ce-C-1]);if(Qt&&tt||yt(Le,["style"]),!tt)for(var J=de,vt=de+ie;J<vt;J++){var Et=xe[J];yt(Et,["style"]),_t(Et,Wt),_t(Et,Ae)}fi(),uo=!0}}function Ji(){var C=Lr();dn.innerHTML!==C&&(dn.innerHTML=C)}function Lr(){var C=Ho(),J=C[0]+1,vt=C[1]+1;return J===vt?J+"":J+" to "+vt}function Ho(C){null==C&&(C=Yo());var J,vt,Et,Ht=de;if(mn||we?(Fe||ne)&&(vt=-(parseFloat(C)+we),Et=vt+hn+2*we):Fe&&(Et=(vt=Qe[de])+hn),Fe)Qe.forEach(function(xi,n){n<ce&&((mn||we)&&xi<=vt+.5&&(Ht=n),.5<=Et-xi&&(J=n))});else{if(ne){var Kt=ne+Re;mn||we?(Ht=Math.floor(vt/Kt),J=Math.ceil(Et/Kt-1)):J=Ht+Math.ceil(hn/Kt)-1}else if(mn||we){var Ge=He-1;if(mn?(Ht-=Ge/2,J=de+Ge/2):J=de+Ge,we){var Ln=we*He/hn;Ht-=Ln,J+=Ln}Ht=Math.floor(Ht),J=Math.ceil(J)}else J=Ht+He-1;Ht=Math.max(Ht,0),J=Math.min(J,ce-1)}return[Ht,J]}function ur(){if(fe&&!Kn){var C=Ho();C.push(Ee),tr.apply(null,C).forEach(function(J){if(!gt(J,jo)){var vt={};vt[j]=function(Ht){Ht.stopPropagation()},qn(J,vt),qn(J,To),J.src=re(J,"data-src");var Et=re(J,"data-srcset");Et&&(J.srcset=Et),at(J,"loading")}})}}function si(C){at(C,"loaded"),pr(C)}function pr(C){at(C,jo),_t(C,"loading"),Te(C,To)}function tr(C,J,vt){var Et=[];for(vt||(vt="img");C<=J;)Z(xe[C].querySelectorAll(vt),function(Ht){Et.push(Ht)}),C++;return Et}function _r(){var C=tr.apply(null,Ho());Q(function(){hr(C,xr)})}function hr(C,J){return yn?J():(C.forEach(function(vt,Et){!fe&&vt.complete&&pr(vt),gt(vt,jo)&&C.splice(Et,1)}),C.length?void Q(function(){hr(C,J)}):J())}function dr(){ur(),Cr(),Ji(),Sr(),function(){if(zi&&(Wi=0<=Qi?Qi:Tr(),Qi=-1,Wi!==Pi)){var C=lo[Pi],J=lo[Wi];be(C,{tabindex:"-1","aria-label":Mo+(Pi+1)}),_t(C,Po),be(J,{"aria-label":Mo+(Wi+1)+Io}),yt(J,"tabindex"),at(J,Po),Pi=Wi}}()}function Rr(C,J){for(var vt=[],Et=C,Ht=Math.min(C+J,ce);Et<Ht;Et++)vt.push(xe[Et].offsetHeight);return Math.max.apply(null,vt)}function xr(){var C=Nn?Rr(de,He):Rr(he,ie),J=ze||Le;J.style.height!==C&&(J.style.height=C+"px")}function Dr(){Qe=[0];var C=Qt?"left":"top",J=Qt?"right":"bottom",vt=xe[0].getBoundingClientRect()[C];Z(xe,function(Et,Ht){Ht&&Qe.push(Et.getBoundingClientRect()[C]-vt),Ht===ce-1&&Qe.push(Et.getBoundingClientRect()[J]-vt)})}function Cr(){var C=Ho(),J=C[0],vt=C[1];Z(xe,function(Et,Ht){J<=Ht&&Ht<=vt?Xt(Et,"aria-hidden")&&(yt(Et,["aria-hidden","tabindex"]),at(Et,fr)):Xt(Et,"aria-hidden")||(be(Et,{"aria-hidden":"true",tabindex:"-1"}),_t(Et,fr))})}function kr(C){return C.nodeName.toLowerCase()}function er(C){return"button"===kr(C)}function Oo(C){return"true"===C.getAttribute("aria-disabled")}function Ir(C,J,vt){C?J.disabled=vt:J.setAttribute("aria-disabled",vt.toString())}function Sr(){if(Dn&&!di&&!Zn){var C=qi?Ti.disabled:Oo(Ti),J=Xi?vi.disabled:Oo(vi),vt=de<=ri,Et=!di&&Ri<=de;vt&&!C&&Ir(qi,Ti,!0),!vt&&C&&Ir(qi,Ti,!1),Et&&!J&&Ir(Xi,vi,!0),!Et&&J&&Ir(Xi,vi,!1)}}function mr(C,J){Ft&&(C.style[Ft]=J)}function yr(C){return null==C&&(C=de),Fe?(hn-(we?Re:0)-(Qe[C+1]-Qe[C]-Re))/2:ne?(hn-ne)/2:(He-1)/2}function Or(){var C=hn+(we?Re:0)-(ne?(ne+Re)*ce:Qe[ce]);return mn&&!Zn&&(C=ne?-(ne+Re)*(ce-1)-yr():yr(ce-1)-Qe[ce-1]),0<C&&(C=0),C}function Yo(C){var J;if(null==C&&(C=de),Qt&&!Fe)if(ne)J=-(ne+Re)*C,mn&&(J+=yr());else{var vt=ut?ce:He;mn&&(C-=yr()),J=100*-C/vt}else J=-Qe[C],mn&&Fe&&(J+=yr());return Xe&&(J=Math.max(J,rn)),J+(!Qt||Fe||ne?"px":"%")}function T(C){mr(te,"0s"),r(C)}function r(C){null==C&&(C=Yo()),te.style[an]=Un+C+bi}function f(C,J,vt,Et){var Ht=C+He;Zn||(Ht=Math.min(Ht,ce));for(var Kt=C;Kt<Ht;Kt++){var Ge=xe[Kt];Et||(Ge.style.left=100*(Kt-de)/He+"%"),Se&&b&&(Ge.style[b]=Ge.style[h]=Se*(Kt-C)/1e3+"s"),_t(Ge,J),at(Ge,vt),Et&&gn.push(Ge)}}function z(C,J){Ye&&mo(),(de!==ki||J)&&(Ai.emit("indexChanged",Xn()),Ai.emit("transitionStart",Xn()),Nn&&_r(),$i&&C&&0<=["click","keydown"].indexOf(C.type)&&Pn(),Si=!0,wr())}function mt(C){return C.toLowerCase().replace(/-/g,"")}function ft(C){if(tt||Si){if(Ai.emit("transitionEnd",Xn(C)),!tt&&0<gn.length)for(var J=0;J<gn.length;J++){var vt=gn[J];vt.style.left="",h&&b&&(vt.style[h]="",vt.style[b]=""),_t(vt,ee),at(vt,Ae)}if(!C||!tt&&C.target.parentNode===te||C.target===te&&mt(C.propertyName)===mt(an)){if(!Ye){var Et=de;mo(),de!==Et&&(Ai.emit("indexChanged",Xn()),T())}"inner"===Pt&&Ai.emit("innerLoaded",Xn()),Si=!1,ki=de}}}function Bt(C,J){if(!Ei)if("prev"===C)$t(J,-1);else if("next"===C)$t(J,1);else{if(Si){if(Sn)return;ft()}var vt=Zo(),Et=0;if("first"===C?Et=-vt:"last"===C?Et=tt?ie-He-vt:ie-1-vt:("number"!=typeof C&&(C=parseInt(C)),isNaN(C)||(J||(C=Math.max(0,Math.min(ie-1,C))),Et=C-vt)),!tt&&Et&&Math.abs(Et)<He){var Ht=0<Et?1:-1;Et+=ri<=de+Et-ie?ie*Ht:2*ie*Ht*-1}de+=Et,tt&&Zn&&(de<ri&&(de+=ie),Ri<de&&(de-=ie)),Zo(de)!==Zo(ki)&&z(J)}}function $t(C,J){if(Si){if(Sn)return;ft()}var vt;if(!J){for(var Et=_n(C=ln(C));Et!==_i&&[Ti,vi].indexOf(Et)<0;)Et=Et.parentNode;var Ht=[Ti,vi].indexOf(Et);0<=Ht&&(vt=!0,J=0===Ht?-1:1)}if(di){if(de===ri&&-1===J)return void Bt("last",C);if(de===Ri&&1===J)return void Bt("first",C)}J&&(de+=ge*J,Fe&&(de=Math.floor(de)),z(vt||C&&"keydown"===C.type?C:null))}function pe(){sr=setInterval(function(){$t(null,Er)},Co),$i=!0}function Be(){clearInterval(sr),$i=!1}function Ve(C,J){be(Yn,{"data-action":C}),Yn.innerHTML=Uo[0]+C+Uo[1]+J}function ye(){pe(),Yn&&Ve("stop",ht[1])}function Pn(){Be(),Yn&&Ve("start",ht[0])}function nn(){$i?(Pn(),fo=!0):(ye(),fo=!1)}function Tn(C){C.focus()}function ln(C){return Jn(C=C||X.event)?C.changedTouches[0]:C}function _n(C){return C.target||X.event.srcElement}function Jn(C){return 0<=C.type.indexOf("touch")}function Li(C){C.preventDefault?C.preventDefault():C.returnValue=!1}function zn(){return C=Math.atan2(to.y-yi.y,to.x-yi.x)*(180/Math.PI),vt=!1,90-(J=Fi)<=(Et=Math.abs(90-Math.abs(C)))?vt="horizontal":Et<=J&&(vt="vertical"),vt===W.axis;var C,J,vt,Et}function pi(C){if(Si){if(Sn)return;ft()}Hn&&$i&&Be(),qo=!0,Gi&&(D(Gi),Gi=null);var J=ln(C);Ai.emit(Jn(C)?"touchStart":"dragStart",Xn(C)),!Jn(C)&&0<=["img","a"].indexOf(kr(_n(C)))&&Li(C),to.x=yi.x=J.clientX,to.y=yi.y=J.clientY,tt&&(lr=parseFloat(te.style[an].replace(Un,"")),mr(te,"0s"))}function Mn(C){if(qo){var J=ln(C);to.x=J.clientX,to.y=J.clientY,tt?Gi||(Gi=Q(function(){!function vt(Et){if(oo){if(D(Gi),qo&&(Gi=Q(function(){vt(Et)})),"?"===oo&&(oo=zn()),oo){!$n&&Jn(Et)&&($n=!0);try{Et.type&&Ai.emit(Jn(Et)?"touchMove":"dragMove",Xn(Et))}catch(Ln){}var Ht=lr,Kt=po(to,yi);!Qt||ne||Fe?(Ht+=Kt,Ht+="px"):(Ht+=ut?Kt*He*100/((hn+Re)*ce):100*Kt/(hn+Re),Ht+="%"),te.style[an]=Un+Ht+bi}}else qo=!1}(C)})):("?"===oo&&(oo=zn()),oo&&($n=!0)),("boolean"!=typeof C.cancelable||C.cancelable)&&$n&&C.preventDefault()}}function jn(C){if(qo){Gi&&(D(Gi),Gi=null),tt&&mr(te,""),qo=!1;var J=ln(C);to.x=J.clientX,to.y=J.clientY;var vt=po(to,yi);if(Math.abs(vt)){if(!Jn(C)){var Et=_n(C);qn(Et,{click:function Ht(Kt){Li(Kt),Te(Et,{click:Ht})}})}tt?Gi=Q(function(){if(Qt&&!Fe){var Ht=-vt*He/(hn+Re);Ht=0<vt?Math.floor(Ht):Math.ceil(Ht),de+=Ht}else{var Kt=-(lr+vt);if(Kt<=0)de=ri;else if(Kt>=Qe[ce-1])de=Ri;else for(var Ge=0;Ge<ce&&Kt>=Qe[Ge];)Kt>Qe[de=Ge]&&vt<0&&(de+=1),Ge++}z(C,vt),Ai.emit(Jn(C)?"touchEnd":"dragEnd",Xn(C))}):oo&&$t(C,0<vt?-1:1)}}"auto"===W.preventScrollOnTouch&&($n=!1),Fi&&(oo="?"),Hn&&!$i&&pe()}function ai(){(ze||Le).style.height=Qe[de+He]-Qe[de]+"px"}function wi(){return Math.min(Math.ceil(ne?(ne+Re)*ie/hn:ie/He),ie)}function mi(){if(zi&&!or&&ii!==xo){var C=xo,J=ii,vt=_e;for(ii<xo&&(C=ii,J=xo,vt=je);C<J;)vt(lo[C]),C++;xo=ii}}function Xn(C){return{container:te,slideItems:xe,navContainer:Oi,navItems:lo,controlsContainer:_i,hasControls:ko,prevButton:Ti,nextButton:vi,items:He,slideBy:ge,cloneCount:he,slideCount:ie,slideCountNew:ce,index:de,indexCached:ki,displayIndex:Qo(),navCurrentIndex:Wi,navCurrentIndexCached:Pi,pages:ii,pagesCached:xo,sheet:wt,isOn:qe,event:C||{}}}$&&console.warn("No slides found in",W.container)};return ei}();function _typeof(M){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(M)}function ownKeys(M,Q){var Ot,D=Object.keys(M);return Object.getOwnPropertySymbols&&(Ot=Object.getOwnPropertySymbols(M),Q&&(Ot=Ot.filter(function(y){return Object.getOwnPropertyDescriptor(M,y).enumerable})),D.push.apply(D,Ot)),D}function _objectSpread(M){for(var Q=1;Q<arguments.length;Q++){var Ot=null!=arguments[Q]?arguments[Q]:{};Q%2?ownKeys(Object(Ot),!0).forEach(function(D){_defineProperty(M,D,Ot[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(Ot)):ownKeys(Object(Ot)).forEach(function(D){Object.defineProperty(M,D,Object.getOwnPropertyDescriptor(Ot,D))})}return M}function _defineProperty(M,Q,Ot){return(Q=_toPropertyKey(Q))in M?Object.defineProperty(M,Q,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):M[Q]=Ot,M}function _toPropertyKey(M){return"symbol"===_typeof(M=_toPrimitive(M,"string"))?M:String(M)}function _toPrimitive(M,Q){if("object"!==_typeof(M)||null===M)return M;var Ot=M[Symbol.toPrimitive];if(void 0===Ot)return("string"===Q?String:Number)(M);if("object"!==_typeof(Q=Ot.call(M,Q||"default")))return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}!function(){"use strict";var M,Q,Ot,D;(function(){for(var y=document.querySelectorAll(".password-toggle"),p=0;p<y.length;p++)!function(I){var E=y[I].querySelector(".form-control");y[I].querySelector(".password-toggle-btn").addEventListener("click",function(k){"checkbox"===k.target.type&&(E.type=k.target.checked?"text":"password")},!1)}(p)})(),function(){var y=document.querySelectorAll("[data-format]");if(0!==y.length)for(var p=0;p<y.length;p++){var I=y[p].dataset.format,k=y[p].dataset.delimiter,E=void 0!==(E=y[p].dataset.blocks)?E.split(" ").map(Number):"";switch(k=void 0!==k?k:" ",I){case"card":new Cleave(y[p],{creditCard:!0});break;case"cvc":new Cleave(y[p],{numeral:!0,numeralIntegerScale:3});break;case"date":new Cleave(y[p],{date:!0,datePattern:["m","y"]});break;case"date-long":new Cleave(y[p],{date:!0,delimiter:"-",datePattern:["Y","m","d"]});break;case"time":new Cleave(y[p],{time:!0,datePattern:["h","m"]});break;case"custom":new Cleave(y[p],{delimiter:k,blocks:E});break;default:console.error("Sorry, your format "+I+" is not available. You can add it to the theme object method - inputFormatter in src/js/theme.js or choose one from the list of available formats: card, cvc, date, date-long, time or custom.")}}}(),window.addEventListener("load",function(){var y=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(y,function(p){p.addEventListener("submit",function(I){!1===p.checkValidity()&&(I.preventDefault(),I.stopPropagation()),p.classList.add("was-validated")},!1)})},!1),null!=(Q=document.querySelector(".navbar.fixed-top"))&&(M=function(y){20<y.currentTarget.pageYOffset?Q.classList.add("navbar-stuck"):Q.classList.remove("navbar-stuck")},window.addEventListener("load",function(y){M(y)}),window.addEventListener("scroll",function(y){M(y)})),new SmoothScroll("[data-scroll]",{speed:800,speedAsDuration:!0,offset:function(y,p){return p.dataset.scrollOffset||40},header:"[data-scroll-header]",updateURL:!1}),null!=(D=document.querySelector(".btn-scroll-top"))&&(Ot=parseInt(600,10),window.addEventListener("scroll",function(y){y.currentTarget.pageYOffset>Ot?D.classList.add("show"):D.classList.remove("show")})),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(y){return new bootstrap.Tooltip(y,{trigger:"hover"})}),[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map(function(y){return new bootstrap.Popover(y)}),[].slice.call(document.querySelectorAll(".toast")).map(function(y){return new bootstrap.Toast(y)}),function(){for(var y=document.querySelectorAll(".range-slider"),p=0;p<y.length;p++)!function(q){var E=y[q].querySelector(".range-slider-ui"),k=y[q].querySelector(".range-slider-value-min"),G=y[q].querySelector(".range-slider-value-max");q={dataStartMin:parseInt(y[q].dataset.startMin,10),dataStartMax:parseInt(y[q].dataset.startMax,10),dataMin:parseInt(y[q].dataset.min,10),dataMax:parseInt(y[q].dataset.max,10),dataStep:parseInt(y[q].dataset.step,10)},noUiSlider.create(E,{start:q.dataStartMax?[q.dataStartMin,q.dataStartMax]:[q.dataStartMin],connect:!!q.dataStartMax||"lower",step:q.dataStep,tooltips:!0,range:{min:q.dataMin,max:q.dataMax},format:{to:function(ot){return"$"+parseInt(ot,10)},from:function(ot){return Number(ot)}}}),E.noUiSlider.on("update",function(ot,x){ot=(ot=ot[x]).replace(/\D/g,""),x?G&&(G.value=Math.round(ot)):k&&(k.value=Math.round(ot))}),k&&k.addEventListener("change",function(){E.noUiSlider.set([this.value,null])}),G&&G.addEventListener("change",function(){E.noUiSlider.set([null,this.value])})}(p)}(),function(){for(var y=document.querySelectorAll('[data-bs-toggle="select"]'),p=0;p<y.length;p++)!function(I){for(var E=y[I].querySelectorAll(".dropdown-item"),k=y[I].querySelector(".dropdown-toggle-label"),G=y[I].querySelector('input[type="hidden"]'),q=0;q<E.length;q++)E[q].addEventListener("click",function(ot){ot.preventDefault(),ot=this.querySelector(".dropdown-item-label").innerText,k.innerText=ot,null!==G&&(G.value=ot)})}(p)}(),function(y,p,I){for(var E=0;E<y.length;E++)p.call(void 0,E,y[E])}(document.querySelectorAll(".tns-carousel-wrapper .tns-carousel-inner"),function(y,p){var E={container:p,controlsText:q=null!=p.dataset.carouselOptions&&"vertical"===JSON.parse(p.dataset.carouselOptions).axis?['<i class="fi-chevron-up"></i>','<i class="fi-chevron-down"></i>']:['<i class="fi-chevron-left"></i>','<i class="fi-chevron-right"></i>'],navPosition:"bottom",mouseDrag:!0,speed:500,autoplayHoverPause:!0,autoplayButtonOutput:!1};null!=p.dataset.carouselOptions&&(k=JSON.parse(p.dataset.carouselOptions));var q=Object.assign({},E,k),I=tns(q),k=((E=p.closest(".tns-carousel-wrapper")).querySelectorAll(".tns-item"),I.getInfo()),G=E.querySelector(".tns-current-slide");q=E.querySelector(".tns-total-slides"),E.classList.contains("tns-center")&&(k.slideItems[p=k.index].classList.add("active"),I.events.on("indexChanged",function(){var ot=I.getInfo(),Z=ot.index;ot.slideItems[ot.indexCached].classList.remove("active"),ot.slideItems[Z].classList.add("active")})),null!==E.querySelector(".tns-slides-count")&&(G.innerHTML=k.displayIndex,q.innerHTML=k.slideCount,I.events.on("indexChanged",function(){var ot=I.getInfo();G.innerHTML=ot.displayIndex}))}),function(){var y=document.querySelectorAll(".gallery");if(y.length)for(var p=0;p<y.length;p++){var k=!!y[p].dataset.thumbnails,E=!!y[p].dataset.video,I=[lgZoom,lgFullscreen];E=E?[lgVideo]:[],k=k?[lgThumbnail]:[],k=[].concat(I,E,k),lightGallery(y[p],{selector:".gallery-item",plugins:k,licenseKey:"D4194FDD-48924833-A54AECA3-D6F8E646",download:!1,autoplayVideoOnSlide:!0,zoomFromOrigin:!1,youtubePlayerParams:{modestbranding:1,showinfo:0,rel:0},vimeoPlayerParams:{byline:0,portrait:0,color:"fd5631"}})}}(),function(){var y=document.querySelectorAll('[data-bs-toggle="lightbox"]');if(y.length)for(var p=0;p<y.length;p++){var k=!!y[p].dataset.video,E=!!y[p].dataset.fullscreen,I=(I=!!y[p].dataset.zoom)?[lgZoom]:[];E=E?[lgFullscreen]:[],k=k?[lgVideo]:[],k=[].concat(I,E,k),lightGallery(y[p],{selector:"this",plugins:k,licenseKey:"D4194FDD-48924833-A54AECA3-D6F8E646",download:!1,youtubePlayerParams:{modestbranding:1,showinfo:0,rel:0},vimeoPlayerParams:{byline:0,portrait:0,color:"fd5631"}})}}(),function(){var y=document.querySelectorAll(".date-picker");if(0!==y.length)for(var p=0;p<y.length;p++){var E=void 0;null!=y[p].dataset.datepickerOptions&&(E=JSON.parse(y[p].dataset.datepickerOptions));var I=y[p].classList.contains("date-range")?{plugins:[new rangePlugin({input:y[p].dataset.linkedInput})]}:"{}";E=_objectSpread(_objectSpread(_objectSpread({},{disableMobile:"true"}),I),E),flatpickr(y[p],E)}}(),function(){var y=document.querySelectorAll(".subscription-form");if(null!==y){for(var p=0;p<y.length;p++)!function(E){var k=y[E].querySelector('button[type="submit"]'),G=k.innerHTML,q=y[E].querySelector(".form-control"),ot=y[E].querySelector(".subscription-form-antispam"),x=y[E].querySelector(".subscription-status");y[E].addEventListener("submit",function(Z){Z&&Z.preventDefault(),""===ot.value&&I(this,k,q,G,x)})}(p);var I=function(Z,k,G,q,ot){k.innerHTML="Sending...";var x=Z.action.replace("/post?","/post-json?"),et=(Z="&"+G.name+"="+encodeURIComponent(G.value),document.createElement("script"));et.src=x+"&c=callback"+Z,document.body.appendChild(et);var gt="callback";window[gt]=function(at){delete window[gt],document.body.removeChild(et),k.innerHTML=q,"success"==at.result?(G.classList.remove("is-invalid"),G.classList.add("is-valid"),ot.classList.remove("status-error"),ot.classList.add("status-success"),ot.innerHTML=at.msg,setTimeout(function(){G.classList.remove("is-valid"),ot.innerHTML="",ot.classList.remove("status-success")},6e3)):(G.classList.remove("is-valid"),G.classList.add("is-invalid"),ot.classList.remove("status-success"),ot.classList.add("status-error"),ot.innerHTML=at.msg.substring(4),setTimeout(function(){G.classList.remove("is-invalid"),ot.innerHTML="",ot.classList.remove("status-error")},6e3))}}}}(),function(){var y=document.querySelectorAll(".interactive-map");if(0!==y.length)for(var p,I=0;I<y.length;I++)!function(E){var G=y[E].dataset.mapOptionsJson,q=void 0;if((k=y[E].dataset.mapOptions)&&""!==k){var ot=JSON.parse(k),x=ot.mapLayer||"https://api.maptiler.com/maps/voyager/{z}/{x}/{y}.png?key=5vRQzd34MMsINEyeKPIs",Z=ot.coordinates||[0,0],et=ot.zoom||1,k=!1!==ot.scrollWheelZoom,gt=ot.markers;if(q=L.map(y[E],{scrollWheelZoom:k}).setView(Z,et),L.tileLayer(x,{tileSize:512,zoomOffset:-1,minZoom:1,attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',crossOrigin:!0}).addTo(q),gt)for(p=0;p<gt.length;p++){var _t=gt[p].iconUrl,at=gt[p].className;_t=L.icon({iconUrl:_t||"../img/map/marker-icon.png",iconSize:[25,39],iconAnchor:[12,39],shadowUrl:"../img/map/marker-shadow.png",shadowSize:[41,41],shadowAnchor:[13,41],popupAnchor:[1,-28],className:at}),at=gt[p].popup,_t=L.marker(gt[p].coordinates,{icon:_t}).addTo(q),at&&_t.bindPopup(at)}}else G&&""!==G?fetch(G).then(function(Xt){return Xt.json()}).then(function(Xt){var re=Xt.mapLayer||"https://api.maptiler.com/maps/voyager/{z}/{x}/{y}.png?key=5vRQzd34MMsINEyeKPIs",le=Xt.coordinates||[0,0],be=Xt.zoom||1,Ie=Xt.markers;if(q=L.map(y[E],{scrollWheelZoom:!1!==Xt.scrollWheelZoom}).setView(le,be),L.tileLayer(re,{tileSize:512,zoomOffset:-1,minZoom:1,attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',crossOrigin:!0}).addTo(q),Ie)for(var je=0;je<Ie.length;je++){var De=Ie[je].iconUrl,_e=Ie[je].className;De=L.icon({iconUrl:De||"../img/map/marker-icon.png",iconSize:[25,39],iconAnchor:[12,39],shadowUrl:"../img/map/marker-shadow.png",shadowSize:[41,41],shadowAnchor:[13,41],popupAnchor:[1,-28],className:_e}),_e=Ie[je].popup,De=L.marker(Ie[je].coordinates,{icon:De}).addTo(q),_e&&De.bindPopup(_e)}}):(q=L.map(y[E]).setView([0,0],1),L.tileLayer("https://api.maptiler.com/maps/voyager/{z}/{x}/{y}.png?key=5vRQzd34MMsINEyeKPIs",{tileSize:512,zoomOffset:-1,minZoom:1,attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',crossOrigin:!0}).addTo(q))}(I)}(),function(){for(var y=document.querySelectorAll(".parallax"),p=0;p<y.length;p++)new Parallax(y[p])}(),null!==document.querySelector(".rellax")&&new Rellax(".rellax"),function(){var y=document.querySelectorAll(".file-uploader");if(0!==y.length){"undefined"!=typeof FilePondPluginFileValidateType&&FilePond.registerPlugin(FilePondPluginFileValidateType),"undefined"!=typeof FilePondPluginFileValidateSize&&FilePond.registerPlugin(FilePondPluginFileValidateSize),"undefined"!=typeof FilePondPluginImagePreview&&FilePond.registerPlugin(FilePondPluginImagePreview),"undefined"!=typeof FilePondPluginImageCrop&&FilePond.registerPlugin(FilePondPluginImageCrop),"undefined"!=typeof FilePondPluginImageResize&&FilePond.registerPlugin(FilePondPluginImageResize),"undefined"!=typeof FilePondPluginImageTransform&&FilePond.registerPlugin(FilePondPluginImageTransform);for(var p=0;p<y.length;p++)FilePond.create(y[p])}}(),function(){var y=document.querySelectorAll("[data-bs-binded-element]");if(0!==y.length)for(var p=0;p<y.length;p++)!function(I){var E=document.querySelector(y[I].dataset.bsBindedElement),k=y[I].dataset.bsUnsetValue;"SELECT"===y[I].tagName?y[I].addEventListener("change",function(G){E.innerText=G.target.value}):y[I].classList.contains("date-picker")?y[I].addEventListener("change",function(G){E.innerText=""!==G.target.value?G.target.value:k}):y[I].addEventListener("keyup",function(G){E.innerText=""!==G.target.value?G.target.value:k})}(p)}(),function(){var y=document.querySelectorAll("[data-master-checkbox-for]");if(0!==y.length)for(var p=0;p<y.length;p++)y[p].addEventListener("change",function(){var I=document.querySelector(this.dataset.masterCheckboxFor).querySelectorAll('input[type="checkbox"]');if(this.checked)for(var E=0;E<I.length;E++)I[E].checked=!0,I[E].dataset.checkboxToggleClass&&document.querySelector(I[E].dataset.bsTarget).classList.add(I[E].dataset.checkboxToggleClass);else for(var k=0;k<I.length;k++)I[k].checked=!1,I[k].dataset.checkboxToggleClass&&document.querySelector(I[k].dataset.bsTarget).classList.remove(I[k].dataset.checkboxToggleClass)})}(),function(){for(var y=document.querySelectorAll("[data-bs-toggle-class]"),p=0;p<y.length;p++)y[p].addEventListener("click",function(k){k.preventDefault(),document.querySelector(k.currentTarget.dataset.bsTarget).classList.toggle(k=k.currentTarget.dataset.bsToggleClass)})}()}(),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M="undefined"!=typeof globalThis?globalThis:M||self).lightGallery=Q()}(this,function(){"use strict";var M=function(){return(M=Object.assign||function(X){for(var m,O=1,F=arguments.length;O<F;O++)for(var w in m=arguments[O])Object.prototype.hasOwnProperty.call(m,w)&&(X[w]=m[w]);return X}).apply(this,arguments)},p="lgUpdateSlides",x="lgPosterClick",at="lgBeforeNextSlide",_t="lgBeforePrevSlide",le={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video"}},be=function(){function X(m){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(m),this.firstElement=this._getFirstEl(),this}return X.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(m){var O=16*Math.random()|0;return("x"==m?O:3&O|8).toString(16)})},X.prototype._getSelector=function(m,O){return void 0===O&&(O=document),"string"!=typeof m?m:(O=O||document,"#"===m.substring(0,1)?O.querySelector(m):O.querySelectorAll(m))},X.prototype._each=function(m){return this.selector?(void 0!==this.selector.length?[].forEach.call(this.selector,m):m(this.selector,0),this):this},X.prototype._setCssVendorPrefix=function(m,O,F){var w=O.replace(/-([a-z])/gi,function(B,Y){return Y.toUpperCase()});-1!==this.cssVenderPrefixes.indexOf(w)?(m.style[w.charAt(0).toLowerCase()+w.slice(1)]=F,m.style["webkit"+w]=F,m.style["moz"+w]=F,m.style["ms"+w]=F,m.style["o"+w]=F):m.style[w]=F},X.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector},X.prototype.isEventMatched=function(m,O){var F=O.split(".");return m.split(".").filter(function(w){return w}).every(function(w){return-1!==F.indexOf(w)})},X.prototype.attr=function(m,O){return void 0===O?this.firstElement?this.firstElement.getAttribute(m):"":(this._each(function(F){F.setAttribute(m,O)}),this)},X.prototype.find=function(m){return yt(this._getSelector(m,this.selector))},X.prototype.first=function(){return yt(this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector)},X.prototype.eq=function(m){return yt(this.selector[m])},X.prototype.parent=function(){return yt(this.selector.parentElement)},X.prototype.get=function(){return this._getFirstEl()},X.prototype.removeAttr=function(m){var O=m.split(" ");return this._each(function(F){O.forEach(function(w){return F.removeAttribute(w)})}),this},X.prototype.wrap=function(m){if(!this.firstElement)return this;var O=document.createElement("div");return O.className=m,this.firstElement.parentNode.insertBefore(O,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),O.appendChild(this.firstElement),this},X.prototype.addClass=function(m){return void 0===m&&(m=""),this._each(function(O){m.split(" ").forEach(function(F){F&&O.classList.add(F)})}),this},X.prototype.removeClass=function(m){return this._each(function(O){m.split(" ").forEach(function(F){F&&O.classList.remove(F)})}),this},X.prototype.hasClass=function(m){return!!this.firstElement&&this.firstElement.classList.contains(m)},X.prototype.hasAttribute=function(m){return!!this.firstElement&&this.firstElement.hasAttribute(m)},X.prototype.toggleClass=function(m){return this.firstElement?(this.hasClass(m)?this.removeClass(m):this.addClass(m),this):this},X.prototype.css=function(m,O){var F=this;return this._each(function(w){F._setCssVendorPrefix(w,m,O)}),this},X.prototype.on=function(m,O){var F=this;return this.selector?(m.split(" ").forEach(function(w){Array.isArray(X.eventListeners[w])||(X.eventListeners[w]=[]),X.eventListeners[w].push(O),F.selector.addEventListener(w.split(".")[0],O)}),this):this},X.prototype.once=function(m,O){var F=this;return this.on(m,function(){F.off(m),O(m)}),this},X.prototype.off=function(m){var O=this;return this.selector?(Object.keys(X.eventListeners).forEach(function(F){O.isEventMatched(m,F)&&(X.eventListeners[F].forEach(function(w){O.selector.removeEventListener(F.split(".")[0],w)}),X.eventListeners[F]=[])}),this):this},X.prototype.trigger=function(m,O){if(!this.firstElement)return this;var F=new CustomEvent(m.split(".")[0],{detail:O||null});return this.firstElement.dispatchEvent(F),this},X.prototype.load=function(m){var O=this;return fetch(m).then(function(F){return F.text()}).then(function(F){O.selector.innerHTML=F}),this},X.prototype.html=function(m){return void 0===m?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(O){O.innerHTML=m}),this)},X.prototype.append=function(m){return this._each(function(O){"string"==typeof m?O.insertAdjacentHTML("beforeend",m):O.appendChild(m)}),this},X.prototype.prepend=function(m){return this._each(function(O){O.insertAdjacentHTML("afterbegin",m)}),this},X.prototype.remove=function(){return this._each(function(m){m.parentNode.removeChild(m)}),this},X.prototype.empty=function(){return this._each(function(m){m.innerHTML=""}),this},X.prototype.scrollTop=function(m){return void 0!==m?(document.body.scrollTop=m,document.documentElement.scrollTop=m,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},X.prototype.scrollLeft=function(m){return void 0!==m?(document.body.scrollLeft=m,document.documentElement.scrollLeft=m,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},X.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var m=this.firstElement.getBoundingClientRect(),O=yt("body").style().marginLeft;return{left:m.left-parseFloat(O)+this.scrollLeft(),top:m.top+this.scrollTop()}},X.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},X.prototype.width=function(){var m=this.style();return this.firstElement.clientWidth-parseFloat(m.paddingLeft)-parseFloat(m.paddingRight)},X.prototype.height=function(){var m=this.style();return this.firstElement.clientHeight-parseFloat(m.paddingTop)-parseFloat(m.paddingBottom)},X.eventListeners={},X}();function yt(X){return function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(m,O){O=O||{bubbles:!1,cancelable:!1,detail:null};var F=document.createEvent("CustomEvent");return F.initCustomEvent(m,O.bubbles,O.cancelable,O.detail),F}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),new be(X)}var Ie=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function je(X){return"href"===X?"src":X=(X=(X=X.replace("data-","")).charAt(0).toLowerCase()+X.slice(1)).replace(/-([a-z])/g,function(m){return m[1].toUpperCase()})}var _e=function(X,m,O,F){void 0===O&&(O=0);var w=yt(X).attr("data-lg-size")||F;if(w){var B=w.split(",");if(B[1])for(var Y=window.innerWidth,it=0;it<B.length;it++){var St=B[it];if(parseInt(St.split("-")[2],10)>Y){w=St;break}it===B.length-1&&(w=St)}var ut=w.split("-"),Ut=parseInt(ut[0],10),Ft=parseInt(ut[1],10),b=m.width(),c=m.height()-O,h=Math.min(b,Ut),j=Math.min(c,Ft),U=Math.min(h/Ut,j/Ft);return{width:Ut*U,height:Ft*U}}},De=function(X,m,O,F,w){if(w){var B=yt(X).find("img").first();if(B.get()){var Y=m.get().getBoundingClientRect(),it=Y.width,St=m.height()-(O+F),ut=B.width(),Ut=B.height(),Ft=B.style(),b=(it-ut)/2-B.offset().left+(parseFloat(Ft.paddingLeft)||0)+(parseFloat(Ft.borderLeft)||0)+yt(window).scrollLeft()+Y.left,c=(St-Ut)/2-B.offset().top+(parseFloat(Ft.paddingTop)||0)+(parseFloat(Ft.borderTop)||0)+yt(window).scrollTop()+O;return"translate3d("+(b*=-1)+"px, "+(c*=-1)+"px, 0) scale3d("+ut/w.width+", "+Ut/w.height+", 1)"}}},xn=function(X,m,O,F,w,B){var Y="<img "+O+" "+(F?'srcset="'+F+'"':"")+"  "+(w?'sizes="'+w+'"':"")+' class="lg-object lg-image" data-index="'+X+'" src="'+m+'" />',it="";return B&&(it=("string"==typeof B?JSON.parse(B):B).map(function(St){var ut="";return Object.keys(St).forEach(function(Ut){ut+=" "+Ut+'="'+St[Ut]+'"'}),"<source "+ut+"></source>"})),""+it+Y},W=0,Vt=function(){function X(m,O){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!m)return this;if(W++,this.lgId=W,this.el=m,this.LGel=yt(m),this.generateSettings(O),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return X.prototype.generateSettings=function(m){if(this.settings=M(M({},le),m),this.settings.isMobile&&"function"==typeof this.settings.isMobile?this.settings.isMobile():/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){var O=M(M({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=M(M({},this.settings),O)}},X.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},X.prototype.init=function(){var m=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger("lgInit",{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){m.enableDrag(),m.enableSwipe(),m.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},X.prototype.openGalleryOnItemClick=function(){for(var m=this,O=function(B){var Y=F.items[B],it=yt(Y),St=be.generateUUID();it.attr("data-lg-id",St).on("click.lgcustom-item-"+St,function(ut){ut.preventDefault(),m.openGallery(m.settings.index||B,Y)})},F=this,w=0;w<this.items.length;w++)O(w)},X.prototype.buildModules=function(){var m=this;this.settings.plugins.forEach(function(O){m.plugins.push(new O(m,yt))})},X.prototype.validateLicense=function(){this.settings.licenseKey?"0000-0000-000-0000"===this.settings.licenseKey&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},X.prototype.getSlideItem=function(m){return yt(this.getSlideItemId(m))},X.prototype.getSlideItemId=function(m){return"#lg-item-"+this.lgId+"-"+m},X.prototype.getIdName=function(m){return m+"-"+this.lgId},X.prototype.getElementById=function(m){return yt("#"+this.getIdName(m))},X.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},X.prototype.buildStructure=function(){var m=this;if(!this.$container||!this.$container.get()){var O="",F="";this.settings.controls&&(O='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),".lg-item"!==this.settings.appendSubHtmlTo&&(F='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var w="";this.settings.allowMediaOverlap&&(w+="lg-media-overlap ");var B=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",Y=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",it="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),St=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",ut=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",Ut='\n        <div class="'+it+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+B+" "+Y+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+w+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+O+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+ut+"\n                    "+St+"\n                    </div>\n                    "+(".lg-outer"===this.settings.appendSubHtmlTo?F:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(".lg-sub-html"===this.settings.appendSubHtmlTo?F:"")+"\n                </div>\n            </div>\n        </div>\n        ";yt(this.settings.container).append(Ut),document.body!==this.settings.container&&yt(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var Ft=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(Ft+="lg-grab "),this.outer.addClass(Ft),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),yt(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){m.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},X.prototype.refreshOnResize=function(){if(this.lgOpened){var m=this.galleryItems[this.index].__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var O=this.mediaContainerPosition;if(this.currentImageSize=_e(this.items[this.index],this.outer,O.top+O.bottom,m&&this.settings.videoMaxSize),m&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var B=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",B)}this.LGel.trigger("lgContainerResize")}},X.prototype.resizeVideoSlide=function(m,O){var F=this.getVideoContStyle(O);this.getSlideItem(m).find(".lg-video-cont").attr("style",F)},X.prototype.updateSlides=function(m,O){if(this.index>m.length-1&&(this.index=m.length-1),1===m.length&&(this.index=0),m.length){var F=this.galleryItems[O].src;this.galleryItems=m,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var w=0;this.galleryItems.some(function(B,Y){return B.src===F&&(w=Y,!0)}),this.currentItemsInDom=this.organizeSlideItems(w,-1),this.loadContent(w,!0),this.getSlideItem(w).addClass("lg-current"),this.index=w,this.updateCurrentCounter(w),this.LGel.trigger(p)}else this.closeGallery()},X.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if("this"===this.settings.selector)this.items.push(this.el);else if(this.settings.selector)if("string"==typeof this.settings.selector)if(this.settings.selectWithin){var m=yt(this.settings.selectWithin);this.items=m.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return function(X,m,O,F){var w=[],B=function(){for(var Y=0,it=0,St=arguments.length;it<St;it++)Y+=arguments[it].length;var ut=Array(Y),Ut=0;for(it=0;it<St;it++)for(var Ft=arguments[it],b=0,c=Ft.length;b<c;b++,Ut++)ut[Ut]=Ft[b];return ut}(Ie,m);return[].forEach.call(X,function(Y){for(var it={},St=0;St<Y.attributes.length;St++){var ut=Y.attributes[St];if(ut.specified){var Ut=je(ut.name),Ft="";B.indexOf(Ut)>-1&&(Ft=Ut),Ft&&(it[Ft]=ut.value)}}var b=yt(Y),c=b.find("img").first().attr("alt"),h=b.attr("title"),j=F?b.attr(F):b.find("img").first().attr("src");it.thumb=j,O&&!it.subHtml&&(it.subHtml=h||c||""),it.alt=c||h||"",w.push(it)}),w}(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},X.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},X.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(yt("body").style().paddingRight);var m=document.documentElement.getBoundingClientRect(),O=window.innerWidth-m.width;yt(document.body).css("padding-right",O+this.bodyPaddingRight+"px"),yt(document.body).addClass("lg-overlay-open")}},X.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(yt(document.body).css("padding-right",this.bodyPaddingRight+"px"),yt(document.body).removeClass("lg-overlay-open"))},X.prototype.openGallery=function(m,O){var F=this;if(void 0===m&&(m=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var w=this.getItemsToBeInsertedToDom(m,m);this.currentItemsInDom=w;var B="";w.forEach(function(b){B=B+'<div id="'+b+'" class="lg-item"></div>'}),this.$inner.append(B),this.addHtml(m);var Y="";this.mediaContainerPosition=this.getMediaContainerPosition();var it=this.mediaContainerPosition,St=it.top,ut=it.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(St,ut),this.zoomFromOrigin&&O&&(this.currentImageSize=_e(O,this.outer,St+ut,this.galleryItems[m].__slideVideoInfo&&this.settings.videoMaxSize),Y=De(O,this.outer,St,ut,this.currentImageSize)),this.zoomFromOrigin&&Y||(this.outer.addClass(this.settings.startClass),this.getSlideItem(m).removeClass("lg-complete")),setTimeout(function(){F.outer.addClass("lg-components-open")},this.settings.zoomFromOrigin?100:this.settings.backdropDuration),this.index=m,this.LGel.trigger("lgBeforeOpen"),this.getSlideItem(m).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=yt(window).scrollTop(),setTimeout(function(){if(F.zoomFromOrigin&&Y){var b=F.getSlideItem(m);b.css("transform",Y),setTimeout(function(){b.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",F.settings.startAnimationDuration+"ms"),F.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){b.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){F.$backdrop.addClass("in"),F.$container.addClass("lg-show-in")},10),setTimeout(function(){F.settings.trapFocus&&document.body===F.settings.container&&F.trapFocus()},F.settings.backdropDuration+50),F.zoomFromOrigin&&Y||setTimeout(function(){F.outer.addClass("lg-visible")},F.settings.backdropDuration),F.slide(m,!1,!1,!1),F.LGel.trigger("lgAfterOpen")}),document.body===this.settings.container&&yt("html").addClass("lg-on")}},X.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var m=this.$toolbar.get().clientHeight||0,O=this.outer.find(".lg-components .lg-sub-html").get(),F=this.settings.defaultCaptionHeight||O&&O.clientHeight||0,w=this.outer.find(".lg-thumb-outer").get();return{top:m,bottom:(w?w.clientHeight:0)+F}},X.prototype.setMediaContainerPosition=function(m,O){void 0===m&&(m=0),void 0===O&&(O=0),this.$content.css("top",m+"px").css("bottom",O+"px")},X.prototype.hideBars=function(){var m=this;setTimeout(function(){m.outer.removeClass("lg-hide-items"),m.settings.hideBarsDelay>0&&(m.outer.on("mousemove.lg click.lg touchstart.lg",function(){m.outer.removeClass("lg-hide-items"),clearTimeout(m.hideBarTimeout),m.hideBarTimeout=setTimeout(function(){m.outer.addClass("lg-hide-items")},m.settings.hideBarsDelay)}),m.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},X.prototype.initPictureFill=function(m){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[m.get()]})}catch(O){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},X.prototype.counter=function(){if(this.settings.counter){var m='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(m)}},X.prototype.addHtml=function(m){var O,F;if(this.galleryItems[m].subHtmlUrl?F=this.galleryItems[m].subHtmlUrl:O=this.galleryItems[m].subHtml,!F)if(O){var w=O.substring(0,1);"."!==w&&"#"!==w||(O=this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?yt(this.items).eq(m).find(O).first().html():yt(O).first().html())}else O="";if(".lg-item"!==this.settings.appendSubHtmlTo)F?this.outer.find(".lg-sub-html").load(F):this.outer.find(".lg-sub-html").html(O);else{var B=yt(this.getSlideItemId(m));F?B.load(F):B.append('<div class="lg-sub-html">'+O+"</div>")}null!=O&&(""===O?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger("lgAfterAppendSubHtml",{index:m})},X.prototype.preload=function(m){for(var O=1;O<=this.settings.preload&&!(O>=this.galleryItems.length-m);O++)this.loadContent(m+O,!1);for(var F=1;F<=this.settings.preload&&!(m-F<0);F++)this.loadContent(m-F,!1)},X.prototype.getDummyImgStyles=function(m){return m?"width:"+m.width+"px;\n                margin-left: -"+m.width/2+"px;\n                margin-top: -"+m.height/2+"px;\n                height:"+m.height+"px":""},X.prototype.getVideoContStyle=function(m){return m?"width:"+m.width+"px;\n                height:"+m.height+"px":""},X.prototype.getDummyImageContent=function(m,O,F){var w;if(this.settings.dynamic||(w=yt(this.items).eq(O)),w){var B;if(!(B=this.settings.exThumbImage?w.attr(this.settings.exThumbImage):w.find("img").first().attr("src")))return"";var Y="<img "+F+' style="'+this.getDummyImgStyles(this.currentImageSize)+'" class="lg-dummy-img" src="'+B+'" />';return m.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),Y}return""},X.prototype.setImgMarkup=function(m,O,F){var w=this.galleryItems[F],B=w.alt,Y=w.srcset,it=w.sizes,St=w.sources,ut=B?'alt="'+B+'"':"",Ut='<picture class="lg-img-wrap"> '+(this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(O,F,ut):xn(F,m,ut,Y,it,St))+"</picture>";O.prepend(Ut)},X.prototype.onSlideObjectLoad=function(m,O,F,w){var B=m.find(".lg-object").first();(function(X){return!!X&&!!X.complete&&0!==X.naturalWidth})(B.get())||O?F():(B.on("load.lg error.lg",function(){F&&F()}),B.on("error.lg",function(){w&&w()}))},X.prototype.onLgObjectLoad=function(m,O,F,w,B,Y){var it=this;this.onSlideObjectLoad(m,Y,function(){it.triggerSlideItemLoad(m,O,F,w,B)},function(){m.addClass("lg-complete lg-complete_"),m.html('<span class="lg-error-msg">Oops... Failed to load content...</span>')})},X.prototype.triggerSlideItemLoad=function(m,O,F,w,B){var Y=this,it=this.galleryItems[O],St=B&&"video"===this.getSlideType(it)&&!it.poster?w:0;setTimeout(function(){m.addClass("lg-complete lg-complete_"),Y.LGel.trigger("lgSlideItemLoad",{index:O,delay:F||0,isFirstSlide:B})},St)},X.prototype.isFirstSlideWithZoomAnimation=function(){return!(this.lGalleryOn||!this.zoomFromOrigin||!this.currentImageSize)},X.prototype.addSlideVideoInfo=function(m){var O=this;m.forEach(function(F,w){F.__slideVideoInfo=function(X,m,O){if(!X)return m?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(O+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");var F=X.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),w=X.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),B=X.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);return F?{youtube:F}:w?{vimeo:w}:B?{wistia:B}:void 0}(F.src,!!F.video,w),F.__slideVideoInfo&&O.settings.loadYouTubePoster&&!F.poster&&F.__slideVideoInfo.youtube&&(F.poster="//img.youtube.com/vi/"+F.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},X.prototype.loadContent=function(m,O){var F=this,w=this.galleryItems[m],B=yt(this.getSlideItemId(m)),Y=w.poster,it=w.srcset,St=w.sizes,ut=w.sources,Ut=w.src,Ft=w.video,b=Ft&&"string"==typeof Ft?JSON.parse(Ft):Ft;if(w.responsive){var c=w.responsive.split(",");Ut=function(X){for(var m=[],O=[],F="",w=0;w<X.length;w++){var B=X[w].split(" ");""===B[0]&&B.splice(0,1),O.push(B[0]),m.push(B[1])}for(var Y=window.innerWidth,it=0;it<m.length;it++)if(parseInt(m[it],10)>Y){F=O[it];break}return F}(c)||Ut}var h=w.__slideVideoInfo,j="",U=!!w.iframe,$=!this.lGalleryOn,K=0;if($&&(K=this.zoomFromOrigin&&this.currentImageSize?this.settings.startAnimationDuration+10:this.settings.backdropDuration+10),!B.hasClass("lg-loaded")){if(h){var ct=this.mediaContainerPosition,tt=_e(this.items[m],this.outer,ct.top+ct.bottom,h&&this.settings.videoMaxSize);j=this.getVideoContStyle(tt)}if(U){var Mt=function(X,m,O,F,w,B){return'<div class="lg-video-cont lg-has-iframe" style="width:'+X+"; max-width:"+O+"; height: "+m+"; max-height:"+F+'">\n                    <iframe class="lg-object" frameborder="0" '+(B?'title="'+B+'"':"")+' src="'+w+'"  allowfullscreen="true"></iframe>\n                </div>'}(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,Ut,w.iframeTitle);B.prepend(Mt)}else if(Y){var kt="";$&&this.zoomFromOrigin&&this.currentImageSize&&(kt=this.getDummyImageContent(B,m,"")),Mt=function(X,m,O,F,w){return'<div class="lg-video-cont '+(w&&w.youtube?"lg-has-youtube":w&&w.vimeo?"lg-has-vimeo":"lg-has-html5")+'" style="'+O+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+F+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+F+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+(m||"")+'\n            <img class="lg-object lg-video-poster" src="'+X+'" />\n        </div>'}(Y,kt||"",j,this.settings.strings.playVideo,h),B.prepend(Mt)}else if(h)B.prepend(Mt='<div class="lg-video-cont " style="'+j+'"></div>');else if(this.setImgMarkup(Ut,B,m),it||ut){var pt=B.find(".lg-object");this.initPictureFill(pt)}(Y||h)&&this.LGel.trigger("lgHasVideo",{index:m,src:Ut,html5Video:b,hasPoster:!!Y}),this.LGel.trigger("lgAfterAppendSlide",{index:m}),this.lGalleryOn&&".lg-item"===this.settings.appendSubHtmlTo&&this.addHtml(m)}var Wt=0;K&&!yt(document.body).hasClass("lg-from-hash")&&(Wt=K),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){B.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),B.hasClass("lg-loaded")||setTimeout(function(){if("image"===F.getSlideType(w)){var ee=w.alt,Se=ee?'alt="'+ee+'"':"";if(B.find(".lg-img-wrap").append(xn(m,Ut,Se,it,St,w.sources)),it||ut){var Ae=B.find(".lg-object");F.initPictureFill(Ae)}}("image"===F.getSlideType(w)||"video"===F.getSlideType(w)&&Y)&&(F.onLgObjectLoad(B,m,K,Wt,!0,!1),F.onSlideObjectLoad(B,!(!h||!h.html5||Y),function(){F.loadContentOnFirstSlideLoad(m,B,Wt)},function(){F.loadContentOnFirstSlideLoad(m,B,Wt)}))},this.settings.startAnimationDuration+100)),B.addClass("lg-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(w)||Y)||this.onLgObjectLoad(B,m,K,Wt,$,!(!h||!h.html5||Y)),this.zoomFromOrigin&&this.currentImageSize||!B.hasClass("lg-complete_")||this.lGalleryOn||setTimeout(function(){B.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,!0===O&&(B.hasClass("lg-complete_")?this.preload(m):B.find(".lg-object").first().on("load.lg error.lg",function(){F.preload(m)}))},X.prototype.loadContentOnFirstSlideLoad=function(m,O,F){var w=this;setTimeout(function(){O.find(".lg-dummy-img").remove(),O.removeClass("lg-first-slide"),w.outer.removeClass("lg-first-slide-loading"),w.isDummyImageRemoved=!0,w.preload(m)},F+300)},X.prototype.getItemsToBeInsertedToDom=function(m,O,F){var w=this;void 0===F&&(F=0);var B=[],Y=Math.max(F,3);Y=Math.min(Y,this.galleryItems.length);var it="lg-item-"+this.lgId+"-"+O;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(Ut,Ft){B.push("lg-item-"+w.lgId+"-"+Ft)}),B;if(m<(this.galleryItems.length-1)/2){for(var St=m;St>m-Y/2&&St>=0;St--)B.push("lg-item-"+this.lgId+"-"+St);var ut=B.length;for(St=0;St<Y-ut;St++)B.push("lg-item-"+this.lgId+"-"+(m+St+1))}else{for(St=m;St<=this.galleryItems.length-1&&St<m+Y/2;St++)B.push("lg-item-"+this.lgId+"-"+St);for(ut=B.length,St=0;St<Y-ut;St++)B.push("lg-item-"+this.lgId+"-"+(m-St-1))}return this.settings.loop&&(m===this.galleryItems.length-1?B.push("lg-item-"+this.lgId+"-0"):0===m&&B.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===B.indexOf(it)&&B.push("lg-item-"+this.lgId+"-"+O),B},X.prototype.organizeSlideItems=function(m,O){var F=this,w=this.getItemsToBeInsertedToDom(m,O,this.settings.numberOfSlideItemsInDom);return w.forEach(function(B){-1===F.currentItemsInDom.indexOf(B)&&F.$inner.append('<div id="'+B+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(B){-1===w.indexOf(B)&&yt("#"+B).remove()}),w},X.prototype.getPreviousSlideIndex=function(){var m=0;try{var O=this.outer.find(".lg-current").first().attr("id");m=parseInt(O.split("-")[3])||0}catch(F){m=0}return m},X.prototype.setDownloadValue=function(m){if(this.settings.download){var O=this.galleryItems[m];if(!1===O.downloadUrl||"false"===O.downloadUrl)this.outer.addClass("lg-hide-download");else{var F=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),F.attr("href",O.downloadUrl||O.src),O.download&&F.attr("download",O.download)}}},X.prototype.makeSlideAnimation=function(m,O,F){var w=this;this.lGalleryOn&&F.addClass("lg-slide-progress"),setTimeout(function(){w.outer.addClass("lg-no-trans"),w.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===m?(O.addClass("lg-prev-slide"),F.addClass("lg-next-slide")):(O.addClass("lg-next-slide"),F.addClass("lg-prev-slide")),setTimeout(function(){w.outer.find(".lg-item").removeClass("lg-current"),O.addClass("lg-current"),w.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},X.prototype.slide=function(m,O,F,w){var B=this,Y=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(m,Y),!this.lGalleryOn||Y!==m){var it=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(m);var St=this.getSlideItem(m),ut=this.getSlideItem(Y),Ut=this.galleryItems[m],Ft=Ut.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(Ut)),this.setDownloadValue(m),Ft){var b=this.mediaContainerPosition,j=_e(this.items[m],this.outer,b.top+b.bottom,Ft&&this.settings.videoMaxSize);this.resizeVideoSlide(m,j)}if(this.LGel.trigger("lgBeforeSlide",{prevIndex:Y,index:m,fromTouch:!!O,fromThumb:!!F}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(m),w||(m<Y?w="prev":m>Y&&(w="next")),O){this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var U=void 0,$=void 0;it>2?(U=m-1,$=m+1,(0===m&&Y===it-1||m===it-1&&0===Y)&&($=0,U=it-1)):(U=0,$=1),"prev"===w?this.getSlideItem($).addClass("lg-next-slide"):this.getSlideItem(U).addClass("lg-prev-slide"),St.addClass("lg-current")}else this.makeSlideAnimation(w,St,ut);this.lGalleryOn?setTimeout(function(){B.loadContent(m,!0),".lg-item"!==B.settings.appendSubHtmlTo&&B.addHtml(m)},this.settings.speed+50+(O?0:this.settings.slideDelay)):this.loadContent(m,!0),setTimeout(function(){B.lgBusy=!1,ut.removeClass("lg-slide-progress"),B.LGel.trigger("lgAfterSlide",{prevIndex:Y,index:m,fromTouch:O,fromThumb:F})},(this.lGalleryOn?this.settings.speed+100:100)+(O?0:this.settings.slideDelay))}this.index=m}},X.prototype.updateCurrentCounter=function(m){this.getElementById("lg-counter-current").html(m+1+"")},X.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},X.prototype.getSlideType=function(m){return m.__slideVideoInfo?"video":m.iframe?"iframe":"image"},X.prototype.touchMove=function(m,O,F){var w=O.pageX-m.pageX,B=O.pageY-m.pageY,Y=!1;if(this.swipeDirection?Y=!0:Math.abs(w)>15?(this.swipeDirection="horizontal",Y=!0):Math.abs(B)>15&&(this.swipeDirection="vertical",Y=!0),Y){var it=this.getSlideItem(this.index);if("horizontal"===this.swipeDirection){null==F||F.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(it,w,0);var St=it.get().offsetWidth,ut=15*St/100-Math.abs(10*w/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-St+w-ut,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),St+w+ut,0)}else if("vertical"===this.swipeDirection&&this.settings.swipeToClose){null==F||F.preventDefault(),this.$container.addClass("lg-dragging-vertical");var Ut=1-Math.abs(B)/window.innerHeight;this.$backdrop.css("opacity",Ut);var Ft=1-Math.abs(B)/(2*window.innerWidth);this.setTranslate(it,0,B,Ft,Ft),Math.abs(B)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},X.prototype.touchEnd=function(m,O,F){var w,B=this;"lg-slide"!==this.settings.mode&&this.outer.addClass("lg-slide"),setTimeout(function(){B.$container.removeClass("lg-dragging-vertical"),B.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var Y=!0;if("horizontal"===B.swipeDirection){w=m.pageX-O.pageX;var it=Math.abs(m.pageX-O.pageX);w<0&&it>B.settings.swipeThreshold?(B.goToNextSlide(!0),Y=!1):w>0&&it>B.settings.swipeThreshold&&(B.goToPrevSlide(!0),Y=!1)}else if("vertical"===B.swipeDirection){if(w=Math.abs(m.pageY-O.pageY),B.settings.closable&&B.settings.swipeToClose&&w>100)return void B.closeGallery();B.$backdrop.css("opacity",1)}if(B.outer.find(".lg-item").removeAttr("style"),Y&&Math.abs(m.pageX-O.pageX)<5){var St=yt(F.target);B.isPosterElement(St)&&B.LGel.trigger(x)}B.swipeDirection=void 0}),setTimeout(function(){B.outer.hasClass("lg-dragging")||"lg-slide"===B.settings.mode||B.outer.removeClass("lg-slide")},this.settings.speed+100)},X.prototype.enableSwipe=function(){var m=this,O={},F={},w=!1,B=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(Y){m.dragOrSwipeEnabled=!0;var it=m.getSlideItem(m.index);!yt(Y.target).hasClass("lg-item")&&!it.get().contains(Y.target)||m.outer.hasClass("lg-zoomed")||m.lgBusy||1!==Y.touches.length||(B=!0,m.touchAction="swipe",m.manageSwipeClass(),O={pageX:Y.touches[0].pageX,pageY:Y.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(Y){B&&"swipe"===m.touchAction&&1===Y.touches.length&&(m.touchMove(O,F={pageX:Y.touches[0].pageX,pageY:Y.touches[0].pageY},Y),w=!0)}),this.$inner.on("touchend.lg",function(Y){if("swipe"===m.touchAction){if(w)w=!1,m.touchEnd(F,O,Y);else if(B){var it=yt(Y.target);m.isPosterElement(it)&&m.LGel.trigger(x)}m.touchAction=void 0,B=!1}}))},X.prototype.enableDrag=function(){var m=this,O={},F={},w=!1,B=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(Y){m.dragOrSwipeEnabled=!0;var it=m.getSlideItem(m.index);(yt(Y.target).hasClass("lg-item")||it.get().contains(Y.target))&&(m.outer.hasClass("lg-zoomed")||m.lgBusy||(Y.preventDefault(),m.lgBusy||(m.manageSwipeClass(),O={pageX:Y.pageX,pageY:Y.pageY},w=!0,m.outer.get().scrollLeft+=1,m.outer.get().scrollLeft-=1,m.outer.removeClass("lg-grab").addClass("lg-grabbing"),m.LGel.trigger("lgDragStart"))))}),yt(window).on("mousemove.lg.global"+this.lgId,function(Y){w&&m.lgOpened&&(B=!0,m.touchMove(O,F={pageX:Y.pageX,pageY:Y.pageY}),m.LGel.trigger("lgDragMove"))}),yt(window).on("mouseup.lg.global"+this.lgId,function(Y){if(m.lgOpened){var it=yt(Y.target);B?(B=!1,m.touchEnd(F,O,Y),m.LGel.trigger("lgDragEnd")):m.isPosterElement(it)&&m.LGel.trigger(x),w&&(w=!1,m.outer.removeClass("lg-grabbing").addClass("lg-grab"))}}))},X.prototype.triggerPosterClick=function(){var m=this;this.$inner.on("click.lg",function(O){!m.dragOrSwipeEnabled&&m.isPosterElement(yt(O.target))&&m.LGel.trigger(x)})},X.prototype.manageSwipeClass=function(){var m=this.index+1,O=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(0===this.index?O=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(m=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),O>-1&&this.getSlideItem(O).addClass("lg-prev-slide"),this.getSlideItem(m).addClass("lg-next-slide")},X.prototype.goToNextSlide=function(m){var O=this,F=this.settings.loop;m&&this.galleryItems.length<3&&(F=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(at,{index:this.index}),this.slide(this.index,!!m,!1,"next")):F?(this.index=0,this.LGel.trigger(at,{index:this.index}),this.slide(this.index,!!m,!1,"next")):this.settings.slideEndAnimation&&!m&&(this.outer.addClass("lg-right-end"),setTimeout(function(){O.outer.removeClass("lg-right-end")},400)))},X.prototype.goToPrevSlide=function(m){var O=this,F=this.settings.loop;m&&this.galleryItems.length<3&&(F=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(_t,{index:this.index,fromTouch:m}),this.slide(this.index,!!m,!1,"prev")):F?(this.index=this.galleryItems.length-1,this.LGel.trigger(_t,{index:this.index,fromTouch:m}),this.slide(this.index,!!m,!1,"prev")):this.settings.slideEndAnimation&&!m&&(this.outer.addClass("lg-left-end"),setTimeout(function(){O.outer.removeClass("lg-left-end")},400)))},X.prototype.keyPress=function(){var m=this;yt(window).on("keydown.lg.global"+this.lgId,function(O){m.lgOpened&&!0===m.settings.escKey&&27===O.keyCode&&(O.preventDefault(),m.settings.allowMediaOverlap&&m.outer.hasClass("lg-can-toggle")&&m.outer.hasClass("lg-components-open")?m.outer.removeClass("lg-components-open"):m.closeGallery()),m.lgOpened&&m.galleryItems.length>1&&(37===O.keyCode&&(O.preventDefault(),m.goToPrevSlide()),39===O.keyCode&&(O.preventDefault(),m.goToNextSlide()))})},X.prototype.arrow=function(){var m=this;this.getElementById("lg-prev").on("click.lg",function(){m.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){m.goToNextSlide()})},X.prototype.arrowDisable=function(m){if(!this.settings.loop&&this.settings.hideControlOnEnd){var O=this.getElementById("lg-prev"),F=this.getElementById("lg-next");m+1===this.galleryItems.length?F.attr("disabled","disabled").addClass("disabled"):F.removeAttr("disabled").removeClass("disabled"),0===m?O.attr("disabled","disabled").addClass("disabled"):O.removeAttr("disabled").removeClass("disabled")}},X.prototype.setTranslate=function(m,O,F,w,B){void 0===w&&(w=1),void 0===B&&(B=1),m.css("transform","translate3d("+O+"px, "+F+"px, 0px) scale3d("+w+", "+B+", 1)")},X.prototype.mousewheel=function(){var m=this,O=0;this.outer.on("wheel.lg",function(F){if(F.deltaY&&!(m.galleryItems.length<2)){F.preventDefault();var w=(new Date).getTime();w-O<1e3||(O=w,F.deltaY>0?m.goToNextSlide():F.deltaY<0&&m.goToPrevSlide())}})},X.prototype.isSlideElement=function(m){return m.hasClass("lg-outer")||m.hasClass("lg-item")||m.hasClass("lg-img-wrap")},X.prototype.isPosterElement=function(m){var O=this.getSlideItem(this.index).find(".lg-video-play-button").get();return m.hasClass("lg-video-poster")||m.hasClass("lg-video-play-button")||O&&O.contains(m.get())},X.prototype.toggleMaximize=function(){var m=this;this.getElementById("lg-maximize").on("click.lg",function(){m.$container.toggleClass("lg-inline"),m.refreshOnResize()})},X.prototype.invalidateItems=function(){for(var m=0;m<this.items.length;m++){var O=yt(this.items[m]);O.off("click.lgcustom-item-"+O.attr("data-lg-id"))}},X.prototype.trapFocus=function(){var m=this;this.$container.get().focus({preventScroll:!0}),yt(window).on("keydown.lg.global"+this.lgId,function(O){if(m.lgOpened&&("Tab"===O.key||9===O.keyCode)){var F=function(X){var m=X.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');return[].filter.call(m,function(O){var F=window.getComputedStyle(O);return"none"!==F.display&&"hidden"!==F.visibility})}(m.$container.get()),w=F[0],B=F[F.length-1];O.shiftKey?document.activeElement===w&&(B.focus(),O.preventDefault()):document.activeElement===B&&(w.focus(),O.preventDefault())}})},X.prototype.manageCloseGallery=function(){var m=this;if(this.settings.closable){var O=!1;this.getElementById("lg-close").on("click.lg",function(){m.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(F){var w=yt(F.target);O=!!m.isSlideElement(w)}),this.outer.on("mousemove.lg",function(){O=!1}),this.outer.on("mouseup.lg",function(F){var w=yt(F.target);m.isSlideElement(w)&&O&&(m.outer.hasClass("lg-dragging")||m.closeGallery())}))}},X.prototype.closeGallery=function(m){var O=this;if(!this.lgOpened||!this.settings.closable&&!m)return 0;this.LGel.trigger("lgBeforeClose"),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&yt(window).scrollTop(this.prevScrollTop);var F,w=this.items[this.index];if(this.zoomFromOrigin&&w){var B=this.mediaContainerPosition,Y=B.top,it=B.bottom,St=this.galleryItems[this.index],Ft=_e(w,this.outer,Y+it,St.__slideVideoInfo&&St.poster&&this.settings.videoMaxSize);F=De(w,this.outer,Y,it,Ft)}this.zoomFromOrigin&&F?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",F)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,yt("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var b=this.zoomFromOrigin&&F?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){O.zoomFromOrigin&&F&&O.outer.removeClass("lg-zoom-from-image"),O.$container.removeClass("lg-show"),O.resetScrollBar(),O.$backdrop.removeAttr("style").css("transition-duration",O.settings.backdropDuration+"ms"),O.outer.removeClass("lg-closing "+O.settings.startClass),O.getSlideItem(O.index).removeClass("lg-start-end-progress"),O.$inner.empty(),O.lgOpened&&O.LGel.trigger("lgAfterClose",{instance:O}),O.$container.get()&&O.$container.get().blur(),O.lgOpened=!1},b+100),b+100},X.prototype.initModules=function(){this.plugins.forEach(function(m){try{m.init()}catch(O){console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},X.prototype.destroyModules=function(m){this.plugins.forEach(function(O){try{m?O.destroy():O.closeGallery&&O.closeGallery()}catch(F){console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},X.prototype.refresh=function(m){this.settings.dynamic||this.invalidateItems(),this.galleryItems=m||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(p)},X.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},X.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),yt(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},X.prototype.destroy=function(){var m=this.closeGallery(!0);return m?setTimeout(this.destroyGallery.bind(this),m):this.destroyGallery(),m},X}();return function(X,m){return new Vt(X,m)}}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M="undefined"!=typeof globalThis?globalThis:M||self).lgFullscreen=Q()}(this,function(){"use strict";var M=function(){return(M=Object.assign||function(Ot){for(var D,y=1,p=arguments.length;y<p;y++)for(var I in D=arguments[y])Object.prototype.hasOwnProperty.call(D,I)&&(Ot[I]=D[I]);return Ot}).apply(this,arguments)},Q={fullScreen:!0,fullscreenPluginStrings:{toggleFullscreen:"Toggle Fullscreen"}};return function(){function Ot(D,y){return this.core=D,this.$LG=y,this.settings=M(M({},Q),this.core.settings),this}return Ot.prototype.init=function(){if(this.settings.fullScreen){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))return;this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.fullscreenPluginStrings.toggleFullscreen+'" class="lg-fullscreen lg-icon"></button>'),this.fullScreen()}},Ot.prototype.isFullScreen=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},Ot.prototype.requestFullscreen=function(){var D=document.documentElement;D.requestFullscreen?D.requestFullscreen():D.msRequestFullscreen?D.msRequestFullscreen():D.mozRequestFullScreen?D.mozRequestFullScreen():D.webkitRequestFullscreen&&D.webkitRequestFullscreen()},Ot.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},Ot.prototype.fullScreen=function(){var D=this;this.$LG(document).on("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){D.core.lgOpened&&D.core.outer.toggleClass("lg-fullscreen-on")}),this.core.outer.find(".lg-fullscreen").first().on("click.lg",function(){D.isFullScreen()?D.exitFullscreen():D.requestFullscreen()})},Ot.prototype.closeGallery=function(){this.isFullScreen()&&this.exitFullscreen()},Ot.prototype.destroy=function(){this.$LG(document).off("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)},Ot}()}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M="undefined"!=typeof globalThis?globalThis:M||self).lgZoom=Q()}(this,function(){"use strict";var M=function(){return(M=Object.assign||function(ot){for(var x,Z=1,et=arguments.length;Z<et;Z++)for(var gt in x=arguments[Z])Object.prototype.hasOwnProperty.call(x,gt)&&(ot[gt]=x[gt]);return ot}).apply(this,arguments)},Q={scale:1,zoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}};return function(){function ot(x,Z){return this.core=x,this.$LG=Z,this.settings=M(M({},Q),this.core.settings),this}return ot.prototype.buildTemplates=function(){var x=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(x+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(x)},ot.prototype.enableZoom=function(x){var Z=this,et=this.settings.enableZoomAfter+x.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&x.detail.delay?et=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){Z.isImageSlide(Z.core.index)&&(Z.core.getSlideItem(x.detail.index).addClass("lg-zoomable"),x.detail.index===Z.core.index&&Z.setZoomEssentials())},et+30)},ot.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on("lgSlideItemLoad.zoom",this.enableZoom.bind(this))},ot.prototype.getDragCords=function(x){return{x:x.pageX,y:x.pageY}},ot.prototype.getSwipeCords=function(x){return{x:x.touches[0].pageX,y:x.touches[0].pageY}},ot.prototype.getDragAllowedAxises=function(x,Z){var et=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),gt=0,at=0,_t=et.getBoundingClientRect();return x?(gt=et.offsetHeight*x,at=et.offsetWidth*x):Z?(gt=_t.height+Z*_t.height,at=_t.width+Z*_t.width):(gt=_t.height,at=_t.width),{allowX:at>this.containerRect.width,allowY:gt>this.containerRect.height}},ot.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},ot.prototype.zoomImage=function(x,Z,et,gt){if(!(Math.abs(Z)<=0)){var _t,Xt=this.containerRect.width/2+this.containerRect.left,re=this.containerRect.height/2+this.containerRect.top+this.scrollTop;1===x&&(this.positionChanged=!1);var le=this.getDragAllowedAxises(0,Z),be=le.allowY,yt=le.allowX;this.positionChanged&&(_t=this.top/(this.scale-Z),this.pageX=Xt-this.left/(this.scale-Z),this.pageY=re-_t,this.positionChanged=!1);var Ie,je,_e=this.getPossibleSwipeDragCords(Z),De=Xt-this.pageX,Pe=re-this.pageY;if(x-Z>1){var xn=(x-Z)/Math.abs(Z);Ie=(De=(Z<0?-De:De)+this.left*(xn+(Z<0?-1:1)))/xn,je=(Pe=(Z<0?-Pe:Pe)+this.top*(xn+(Z<0?-1:1)))/xn}else Ie=De*(xn=(x-Z)*Z),je=Pe*xn;et&&(yt?this.isBeyondPossibleLeft(Ie,_e.minX)?Ie=_e.minX:this.isBeyondPossibleRight(Ie,_e.maxX)&&(Ie=_e.maxX):x>1&&(Ie<_e.minX?Ie=_e.minX:Ie>_e.maxX&&(Ie=_e.maxX)),be?this.isBeyondPossibleTop(je,_e.minY)?je=_e.minY:this.isBeyondPossibleBottom(je,_e.maxY)&&(je=_e.maxY):x>1&&(je<_e.minY?je=_e.minY:je>_e.maxY&&(je=_e.maxY))),this.setZoomStyles({x:Ie,y:je,scale:x}),this.left=Ie,this.top=je,gt&&this.setZoomImageSize()}},ot.prototype.resetImageTranslate=function(x){if(this.isImageSlide(x)){var Z=this.core.getSlideItem(x).find(".lg-image").first();this.imageReset=!1,Z.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),Z.css("width","auto").css("height","auto"),setTimeout(function(){Z.removeClass("no-transition")},10)}},ot.prototype.setZoomImageSize=function(){var x=this,Z=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var et=x.getCurrentImageActualSizeScale();x.scale>=et&&(Z.addClass("no-transition"),x.imageReset=!0)},500),setTimeout(function(){var et=x.getCurrentImageActualSizeScale();if(x.scale>=et){var gt=x.getDragAllowedAxises(x.scale);Z.css("width",Z.get().naturalWidth+"px").css("height",Z.get().naturalHeight+"px"),x.core.outer.addClass("lg-actual-size"),gt.allowX&&gt.allowY?Z.addClass("reset-transition"):gt.allowX&&!gt.allowY?Z.addClass("reset-transition-x"):!gt.allowX&&gt.allowY&&Z.addClass("reset-transition-y")}},550)},ot.prototype.setZoomStyles=function(x){var Z=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),et=this.core.getSlideItem(this.core.index).find(".lg-image").first(),gt=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=x.scale,et.css("transform","scale3d("+x.scale+", "+x.scale+", 1)"),gt.css("transform","scale3d("+x.scale+", "+x.scale+", 1)"),Z.css("transform","translate3d("+x.x+"px, "+x.y+"px, 0)")},ot.prototype.setActualSize=function(x,Z){var et=this,gt=this.core.galleryItems[this.core.index];this.resetImageTranslate(x),setTimeout(function(){if(gt.src&&!et.core.outer.hasClass("lg-first-slide-loading")){var at=et.getCurrentImageActualSizeScale(),_t=et.scale;et.scale=et.core.outer.hasClass("lg-zoomed")?1:et.getScale(at),et.setPageCords(Z),et.beginZoom(et.scale),et.zoomImage(et.scale,et.scale-_t,!0,!0),setTimeout(function(){et.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},10)}},50)},ot.prototype.getNaturalWidth=function(x){var Z=this.core.getSlideItem(x).find(".lg-image").first(),et=this.core.galleryItems[x].width;return et?parseFloat(et):Z.get().naturalWidth},ot.prototype.getActualSizeScale=function(x,Z){return x>=Z?x/Z||2:1},ot.prototype.getCurrentImageActualSizeScale=function(){var x=this.core.getSlideItem(this.core.index).find(".lg-image").first().get().offsetWidth,Z=this.getNaturalWidth(this.core.index)||x;return this.getActualSizeScale(Z,x)},ot.prototype.getPageCords=function(x){var Z={};if(x)Z.x=x.pageX||x.touches[0].pageX,Z.y=x.pageY||x.touches[0].pageY;else{var et=this.core.$content.get().getBoundingClientRect();Z.x=et.width/2+et.left,Z.y=et.height/2+this.scrollTop+et.top}return Z},ot.prototype.setPageCords=function(x){var Z=this.getPageCords(x);this.pageX=Z.x,this.pageY=Z.y},ot.prototype.manageActualPixelClassNames=function(){this.core.getElementById("lg-actual-size").removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},ot.prototype.beginZoom=function(x){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),x>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),x>1},ot.prototype.getScale=function(x){var Z=this.getCurrentImageActualSizeScale();return x<1?x=1:x>Z&&(x=Z),x},ot.prototype.init=function(){var x=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var Z=null;this.core.outer.on("dblclick.lg",function(et){x.$LG(et.target).hasClass("lg-image")&&x.setActualSize(x.core.index,et)}),this.core.outer.on("touchstart.lg",function(et){var gt=x.$LG(et.target);1===et.touches.length&&gt.hasClass("lg-image")&&(Z?(clearTimeout(Z),Z=null,et.preventDefault(),x.setActualSize(x.core.index,et)):Z=setTimeout(function(){Z=null},300))}),this.core.LGel.on("lgContainerResize.zoom lgRotateRight.zoom lgRotateLeft.zoom lgFlipHorizontal.zoom lgFlipVertical.zoom",function(){if(x.core.lgOpened&&x.isImageSlide(x.core.index)&&!x.core.touchAction){var et=x.core.getSlideItem(x.core.index).find(".lg-img-wrap").first();x.top=0,x.left=0,x.setZoomEssentials(),x.setZoomSwipeStyles(et,{x:0,y:0}),x.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){x.core.lgOpened&&(x.scrollTop=x.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(x.isImageSlide(x.core.index)){var et=0;x.imageReset&&(x.resetImageTranslate(x.core.index),et=50),setTimeout(function(){var gt=x.scale-x.settings.scale;gt<1&&(gt=1),x.beginZoom(gt),x.zoomImage(gt,-x.settings.scale,!0,!0)},et)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){x.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){x.setActualSize(x.core.index)}),this.core.LGel.on("lgBeforeOpen.zoom",function(){x.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on("lgAfterOpen.zoom",function(){x.scrollTop=x.$LG(window).scrollTop(),x.pageX=x.core.outer.width()/2,x.pageY=x.core.outer.height()/2+x.scrollTop,x.scale=1}),this.core.LGel.on("lgAfterSlide.zoom",function(et){var gt=et.detail.prevIndex;x.scale=1,x.positionChanged=!1,x.resetZoom(gt),x.resetImageTranslate(gt),x.isImageSlide(x.core.index)&&x.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1}},ot.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var x=this.scale+this.settings.scale;x=this.getScale(x),this.beginZoom(x),this.zoomImage(x,this.settings.scale,!0,!0)}},ot.prototype.resetZoom=function(x){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var Z=this.core.getElementById("lg-actual-size"),et=this.core.getSlideItem(void 0!==x?x:this.core.index);Z.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),et.find(".lg-img-wrap").first().removeAttr("style"),et.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},ot.prototype.getTouchDistance=function(x){return Math.sqrt((x.touches[0].pageX-x.touches[1].pageX)*(x.touches[0].pageX-x.touches[1].pageX)+(x.touches[0].pageY-x.touches[1].pageY)*(x.touches[0].pageY-x.touches[1].pageY))},ot.prototype.pinchZoom=function(){var x=this,Z=0,et=!1,gt=1,at=0,_t=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(Xt){if(_t=x.core.getSlideItem(x.core.index),x.isImageSlide(x.core.index)&&2===Xt.touches.length){if(Xt.preventDefault(),x.core.outer.hasClass("lg-first-slide-loading"))return;gt=x.scale||1,x.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),x.setPageCords(Xt),x.resetImageTranslate(x.core.index),x.core.touchAction="pinch",Z=x.getTouchDistance(Xt)}}),this.core.$inner.on("touchmove.lg",function(Xt){if(2===Xt.touches.length&&"pinch"===x.core.touchAction&&(x.$LG(Xt.target).hasClass("lg-item")||_t.get().contains(Xt.target))){Xt.preventDefault();var re=x.getTouchDistance(Xt),le=Z-re;if(!et&&Math.abs(le)>5&&(et=!0),et){at=x.scale;var be=Math.max(1,gt+.02*-le);x.scale=Math.round(100*(be+Number.EPSILON))/100,x.zoomImage(x.scale,Math.round(100*(x.scale-at+Number.EPSILON))/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(Xt){if("pinch"===x.core.touchAction&&(x.$LG(Xt.target).hasClass("lg-item")||_t.get().contains(Xt.target))){if(et=!1,Z=0,x.scale<=1)x.resetZoom();else{var re=x.getCurrentImageActualSizeScale();if(x.scale>=re){var le=re-x.scale;0===le&&(le=.01),x.zoomImage(re,le,!1,!0)}x.manageActualPixelClassNames(),x.core.outer.addClass("lg-zoomed")}x.core.touchAction=void 0}})},ot.prototype.touchendZoom=function(x,Z,et,gt,at){var _t=Z.x-x.x,Xt=Z.y-x.y,re=Math.abs(_t)/at+1,le=Math.abs(Xt)/at+1;re>2&&(re+=1),le>2&&(le+=1),_t*=re,Xt*=le;var be=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),yt={};yt.x=this.left+_t,yt.y=this.top+Xt;var Ie=this.getPossibleSwipeDragCords();(Math.abs(_t)>15||Math.abs(Xt)>15)&&(gt&&(this.isBeyondPossibleTop(yt.y,Ie.minY)?yt.y=Ie.minY:this.isBeyondPossibleBottom(yt.y,Ie.maxY)&&(yt.y=Ie.maxY)),et&&(this.isBeyondPossibleLeft(yt.x,Ie.minX)?yt.x=Ie.minX:this.isBeyondPossibleRight(yt.x,Ie.maxX)&&(yt.x=Ie.maxX)),gt?this.top=yt.y:yt.y=this.top,et?this.left=yt.x:yt.x=this.left,this.setZoomSwipeStyles(be,yt),this.positionChanged=!0)},ot.prototype.getZoomSwipeCords=function(x,Z,et,gt,at){var _t={};return gt?(_t.y=this.top+(Z.y-x.y),this.isBeyondPossibleTop(_t.y,at.minY)?_t.y=at.minY-(at.minY-_t.y)/6:this.isBeyondPossibleBottom(_t.y,at.maxY)&&(_t.y=at.maxY+(_t.y-at.maxY)/6)):_t.y=this.top,et?(_t.x=this.left+(Z.x-x.x),this.isBeyondPossibleLeft(_t.x,at.minX)?_t.x=at.minX-(at.minX-_t.x)/6:this.isBeyondPossibleRight(_t.x,at.maxX)&&(_t.x=at.maxX+(_t.x-at.maxX)/6)):_t.x=this.left,_t},ot.prototype.isBeyondPossibleLeft=function(x,Z){return x>=Z},ot.prototype.isBeyondPossibleRight=function(x,Z){return x<=Z},ot.prototype.isBeyondPossibleTop=function(x,Z){return x>=Z},ot.prototype.isBeyondPossibleBottom=function(x,Z){return x<=Z},ot.prototype.isImageSlide=function(x){return"image"===this.core.getSlideType(this.core.galleryItems[x])},ot.prototype.getPossibleSwipeDragCords=function(x){var Z=this.core.getSlideItem(this.core.index).find(".lg-image").first(),et=this.core.mediaContainerPosition.bottom,gt=Z.get().getBoundingClientRect(),at=gt.height,_t=gt.width;return x&&(at+=x*at,_t+=x*_t),{minY:(at-this.containerRect.height)/2,maxY:(this.containerRect.height-at)/2+et,minX:(_t-this.containerRect.width)/2,maxX:(this.containerRect.width-_t)/2}},ot.prototype.setZoomSwipeStyles=function(x,Z){x.css("transform","translate3d("+Z.x+"px, "+Z.y+"px, 0)")},ot.prototype.zoomSwipe=function(){var x,Z,et=this,gt={},at={},_t=!1,Xt=!1,re=!1,le=new Date,be=(new Date,this.core.getSlideItem(this.core.index));this.core.$inner.on("touchstart.lg",function(yt){if(et.isImageSlide(et.core.index)&&(be=et.core.getSlideItem(et.core.index),(et.$LG(yt.target).hasClass("lg-item")||be.get().contains(yt.target))&&1===yt.touches.length&&et.core.outer.hasClass("lg-zoomed"))){yt.preventDefault(),le=new Date,et.core.touchAction="zoomSwipe",Z=et.core.getSlideItem(et.core.index).find(".lg-img-wrap").first();var Ie=et.getDragAllowedAxises(0);re=Ie.allowY,((Xt=Ie.allowX)||re)&&(gt=et.getSwipeCords(yt)),x=et.getPossibleSwipeDragCords(),et.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(yt){if(1===yt.touches.length&&"zoomSwipe"===et.core.touchAction&&(et.$LG(yt.target).hasClass("lg-item")||be.get().contains(yt.target))){yt.preventDefault(),et.core.touchAction="zoomSwipe",at=et.getSwipeCords(yt);var Ie=et.getZoomSwipeCords(gt,at,Xt,re,x);(Math.abs(at.x-gt.x)>15||Math.abs(at.y-gt.y)>15)&&(_t=!0,et.setZoomSwipeStyles(Z,Ie))}}),this.core.$inner.on("touchend.lg",function(yt){if("zoomSwipe"===et.core.touchAction&&(et.$LG(yt.target).hasClass("lg-item")||be.get().contains(yt.target))){if(yt.preventDefault(),et.core.touchAction=void 0,et.core.outer.removeClass("lg-zoom-dragging"),!_t)return;_t=!1;var Ie=(new Date).valueOf()-le.valueOf();et.touchendZoom(gt,at,Xt,re,Ie)}})},ot.prototype.zoomDrag=function(){var x,Z,et,gt,at=this,_t={},Xt={},re=!1,le=!1,be=!1,yt=!1;this.core.outer.on("mousedown.lg.zoom",function(Ie){if(at.isImageSlide(at.core.index)){var je=at.core.getSlideItem(at.core.index);if(at.$LG(Ie.target).hasClass("lg-item")||je.get().contains(Ie.target)){x=new Date,gt=at.core.getSlideItem(at.core.index).find(".lg-img-wrap").first();var _e=at.getDragAllowedAxises(0);yt=_e.allowY,be=_e.allowX,at.core.outer.hasClass("lg-zoomed")&&at.$LG(Ie.target).hasClass("lg-object")&&(be||yt)&&(Ie.preventDefault(),_t=at.getDragCords(Ie),et=at.getPossibleSwipeDragCords(),re=!0,at.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(Ie){if(re){le=!0,Xt=at.getDragCords(Ie);var je=at.getZoomSwipeCords(_t,Xt,be,yt,et);at.setZoomSwipeStyles(gt,je)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(Ie){if(re){if(Z=new Date,re=!1,at.core.outer.removeClass("lg-zoom-dragging"),le&&(_t.x!==Xt.x||_t.y!==Xt.y)){Xt=at.getDragCords(Ie);var je=Z.valueOf()-x.valueOf();at.touchendZoom(_t,Xt,be,yt,je)}le=!1}at.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},ot.prototype.closeGallery=function(){this.resetZoom()},ot.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},ot}()}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M="undefined"!=typeof globalThis?globalThis:M||self).lgVideo=Q()}(this,function(){"use strict";var M=function(){return(M=Object.assign||function(k){for(var G,q=1,ot=arguments.length;q<ot;q++)for(var x in G=arguments[q])Object.prototype.hasOwnProperty.call(G,x)&&(k[x]=G[x]);return k}).apply(this,arguments)},Q={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},E=function(k){return Object.keys(k).map(function(G){return encodeURIComponent(G)+"="+encodeURIComponent(k[G])}).join("&")};return function(){function k(G){return this.core=G,this.settings=M(M({},Q),this.core.settings),this}return k.prototype.init=function(){var G=this;this.core.LGel.on("lgHasVideo.video",this.onHasVideo.bind(this)),this.core.LGel.on("lgPosterClick.video",function(){var q=G.core.getSlideItem(G.core.index);G.loadVideoOnPosterClick(q)}),this.core.LGel.on("lgSlideItemLoad.video",this.onSlideItemLoad.bind(this)),this.core.LGel.on("lgBeforeSlide.video",this.onBeforeSlide.bind(this)),this.core.LGel.on("lgAfterSlide.video",this.onAfterSlide.bind(this))},k.prototype.onSlideItemLoad=function(G){var q=this,ot=G.detail,x=ot.isFirstSlide,Z=ot.index;this.settings.autoplayFirstVideo&&x&&Z===this.core.index&&setTimeout(function(){q.loadAndPlayVideo(Z)},200),!x&&this.settings.autoplayVideoOnSlide&&Z===this.core.index&&this.loadAndPlayVideo(Z)},k.prototype.onHasVideo=function(G){var q=G.detail,ot=q.index,x=q.src,Z=q.html5Video;q.hasPoster||(this.appendVideos(this.core.getSlideItem(ot),{src:x,addClass:"lg-object",index:ot,html5Video:Z}),this.gotoNextSlideOnVideoEnd(x,ot))},k.prototype.onBeforeSlide=function(G){this.core.lGalleryOn&&this.pauseVideo(G.detail.prevIndex)},k.prototype.onAfterSlide=function(G){var q=this,ot=G.detail,x=ot.index,Z=ot.prevIndex,et=this.core.getSlideItem(x);this.settings.autoplayVideoOnSlide&&x!==Z&&et.hasClass("lg-complete")&&setTimeout(function(){q.loadAndPlayVideo(x)},100)},k.prototype.loadAndPlayVideo=function(G){var q=this.core.getSlideItem(G);this.core.galleryItems[G].poster?this.loadVideoOnPosterClick(q,!0):this.playVideo(G)},k.prototype.playVideo=function(G){this.controlVideo(G,"play")},k.prototype.pauseVideo=function(G){this.controlVideo(G,"pause")},k.prototype.getVideoHtml=function(G,q,ot,x){var Z="",et=this.core.galleryItems[ot].__slideVideoInfo||{},gt=this.core.galleryItems[ot],at=gt.title||gt.alt;at=at?'title="'+at+'"':"";var _t='allowtransparency="true"\n            frameborder="0"\n            scrolling="no"\n            allowfullscreen\n            mozallowfullscreen\n            webkitallowfullscreen\n            oallowfullscreen\n            msallowfullscreen';if(et.youtube){var Xt="lg-youtube"+ot,re="?"+(et.youtube[2]?et.youtube[2]+"&":"")+"wmode=opaque&autoplay=0&mute=1&enablejsapi=1"+(this.settings.youTubePlayerParams?"&"+E(this.settings.youTubePlayerParams):"");Z='<iframe allow="autoplay" id='+Xt+' class="lg-video-object lg-youtube '+q+'" '+at+' src="//www.youtube.com/embed/'+(et.youtube[1]+re)+'" '+_t+"></iframe>"}else if(et.vimeo)Xt="lg-vimeo"+ot,re=function(De,Pe){if(!Pe||!Pe.vimeo)return"";var xn=Pe.vimeo[2]||"",Fn=De&&0!==Object.keys(De).length?"&"+E(De):"",Gn=((Pe.vimeo[0].split("/").pop()||"").split("?")[0]||"").split("#")[0],Ne=Pe.vimeo[1]!==Gn;return Ne&&(xn=xn.replace("/"+Gn,"")),"?autoplay=0&muted=1"+(Ne?"&h="+Gn:"")+Fn+("?"==xn[0]?"&"+xn.slice(1):xn||"")}(this.settings.vimeoPlayerParams,et),Z='<iframe allow="autoplay" id='+Xt+' class="lg-video-object lg-vimeo '+q+'" '+at+' src="//player.vimeo.com/video/'+(et.vimeo[1]+re)+'" '+_t+"></iframe>";else if(et.wistia){var le="lg-wistia"+ot;re=(re=E(this.settings.wistiaPlayerParams))?"?"+re:"",Z='<iframe allow="autoplay" id="'+le+'" src="//fast.wistia.net/embed/iframe/'+(et.wistia[4]+re)+'" '+at+' class="wistia_embed lg-video-object lg-wistia '+q+'" name="wistia_embed" '+_t+"></iframe>"}else if(et.html5){for(var be="",yt=0;yt<x.source.length;yt++)be+='<source src="'+x.source[yt].src+'" type="'+x.source[yt].type+'">';if(x.tracks){var Ie=function(De){var Pe="",xn=x.tracks[De];Object.keys(xn||{}).forEach(function(Fn){Pe+=Fn+'="'+xn[Fn]+'" '}),be+="<track "+Pe+">"};for(yt=0;yt<x.tracks.length;yt++)Ie(yt)}var je="",_e=x.attributes||{};Object.keys(_e||{}).forEach(function(De){je+=De+'="'+_e[De]+'" '}),Z='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+je+">\n                "+be+"\n                Your browser does not support HTML5 video.\n            </video>"}return Z},k.prototype.appendVideos=function(G,q){var ot,x=this.getVideoHtml(q.src,q.addClass,q.index,q.html5Video);G.find(".lg-video-cont").append(x);var Z=G.find(".lg-video-object").first();if(q.html5Video&&Z.on("mousedown.lg.video",function(et){et.stopPropagation()}),this.settings.videojs&&(null===(ot=this.core.galleryItems[q.index].__slideVideoInfo)||void 0===ot?void 0:ot.html5))try{return videojs(Z.get(),this.settings.videojsOptions)}catch(et){console.error("lightGallery:- Make sure you have included videojs")}},k.prototype.gotoNextSlideOnVideoEnd=function(G,q){var ot=this,x=this.core.getSlideItem(q).find(".lg-video-object").first(),Z=this.core.galleryItems[q].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd)if(Z.html5)x.on("ended",function(){ot.core.goToNextSlide()});else if(Z.vimeo)try{new Vimeo.Player(x.get()).on("ended",function(){ot.core.goToNextSlide()})}catch(et){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(Z.wistia)try{window._wq=window._wq||[],window._wq.push({id:x.attr("id"),onReady:function(et){et.bind("end",function(){ot.core.goToNextSlide()})}})}catch(et){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},k.prototype.controlVideo=function(G,q){var ot=this.core.getSlideItem(G).find(".lg-video-object").first(),x=this.core.galleryItems[G].__slideVideoInfo||{};if(ot.get())if(x.youtube)try{ot.get().contentWindow.postMessage('{"event":"command","func":"'+q+'Video","args":""}',"*")}catch(Z){console.error("lightGallery:- "+Z)}else if(x.vimeo)try{new Vimeo.Player(ot.get())[q]()}catch(Z){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(x.html5)if(this.settings.videojs)try{videojs(ot.get())[q]()}catch(Z){console.error("lightGallery:- Make sure you have included videojs")}else ot.get()[q]();else if(x.wistia)try{window._wq=window._wq||[],window._wq.push({id:ot.attr("id"),onReady:function(Z){Z[q]()}})}catch(Z){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},k.prototype.loadVideoOnPosterClick=function(G,q){var ot=this;if(G.hasClass("lg-video-loaded"))q&&this.playVideo(this.core.index);else if(G.hasClass("lg-has-video"))this.playVideo(this.core.index);else{G.addClass("lg-has-video");var x=void 0,Z=this.core.galleryItems[this.core.index].src,et=this.core.galleryItems[this.core.index].video;et&&(x="string"==typeof et?JSON.parse(et):et);var gt=this.appendVideos(G,{src:Z,addClass:"",index:this.core.index,html5Video:x});this.gotoNextSlideOnVideoEnd(Z,this.core.index);var at=G.find(".lg-object").first().get();G.find(".lg-video-cont").first().append(at),G.addClass("lg-video-loading"),gt&&gt.ready(function(){gt.on("loadedmetadata",function(){ot.onVideoLoadAfterPosterClick(G,ot.core.index)})}),G.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",function(){setTimeout(function(){ot.onVideoLoadAfterPosterClick(G,ot.core.index)},50)})}},k.prototype.onVideoLoadAfterPosterClick=function(G,q){G.addClass("lg-video-loaded"),this.playVideo(q)},k.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},k}()}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M="undefined"!=typeof globalThis?globalThis:M||self).lgThumbnail=Q()}(this,function(){"use strict";var M=function(){return(M=Object.assign||function(I){for(var E,k=1,G=arguments.length;k<G;k++)for(var q in E=arguments[k])Object.prototype.hasOwnProperty.call(E,q)&&(I[q]=E[q]);return I}).apply(this,arguments)},Q={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},p="lgBeforeSlide";return function(){function I(E,k){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=E,this.$LG=k,this}return I.prototype.init=function(){this.settings=M(M({},Q),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},I.prototype.build=function(){var E=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",function(k){var G=E.$LG(k.target);G.hasAttribute("data-lg-item-id")&&setTimeout(function(){if(E.thumbClickable&&!E.core.lgBusy){var q=parseInt(G.attr("data-lg-item-id"));E.core.slide(q,!1,!0,!1)}},50)}),this.core.LGel.on(p+".thumb",function(k){E.animateThumb(k.detail.index)}),this.core.LGel.on("lgBeforeOpen.thumb",function(){E.thumbOuterWidth=E.core.outer.get().offsetWidth}),this.core.LGel.on("lgUpdateSlides.thumb",function(){E.rebuildThumbnails()}),this.core.LGel.on("lgContainerResize.thumb",function(){E.core.lgOpened&&setTimeout(function(){E.thumbOuterWidth=E.core.outer.get().offsetWidth,E.animateThumb(E.core.index),E.thumbOuterWidth=E.core.outer.get().offsetWidth},50)})},I.prototype.setThumbMarkup=function(){var E="lg-thumb-outer ";this.settings.alignThumbnails&&(E+="lg-thumb-align-"+this.settings.alignThumbnails);var k='<div class="'+E+'">\n        <div class="lg-thumb lg-group">\n        </div>\n        </div>';this.core.outer.addClass("lg-has-thumb"),".lg-components"===this.settings.appendThumbnailsTo?this.core.$lgComponents.append(k):this.core.outer.append(k),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},I.prototype.enableThumbDrag=function(){var E=this,k={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},G=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",function(q){E.thumbTotalWidth>E.thumbOuterWidth&&(q.preventDefault(),k.cords.startX=q.pageX,k.startTime=new Date,E.thumbClickable=!1,G=!0,E.core.outer.get().scrollLeft+=1,E.core.outer.get().scrollLeft-=1,E.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,function(q){E.core.lgOpened&&G&&(k.cords.endX=q.pageX,k=E.onThumbTouchMove(k))}),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,function(){E.core.lgOpened&&(k.isMoved?k=E.onThumbTouchEnd(k):E.thumbClickable=!0,G&&(G=!1,E.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")))})},I.prototype.enableThumbSwipe=function(){var E=this,k={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",function(G){E.thumbTotalWidth>E.thumbOuterWidth&&(G.preventDefault(),k.cords.startX=G.targetTouches[0].pageX,E.thumbClickable=!1,k.startTime=new Date)}),this.$lgThumb.on("touchmove.lg",function(G){E.thumbTotalWidth>E.thumbOuterWidth&&(G.preventDefault(),k.cords.endX=G.targetTouches[0].pageX,k=E.onThumbTouchMove(k))}),this.$lgThumb.on("touchend.lg",function(){k.isMoved?k=E.onThumbTouchEnd(k):E.thumbClickable=!0})},I.prototype.rebuildThumbnails=function(){var E=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout(function(){E.thumbTotalWidth=E.core.galleryItems.length*(E.settings.thumbWidth+E.settings.thumbMargin),E.$lgThumb.css("width",E.thumbTotalWidth+"px"),E.$lgThumb.empty(),E.setThumbItemHtml(E.core.galleryItems),E.animateThumb(E.core.index)},50),setTimeout(function(){E.$thumbOuter.removeClass("lg-rebuilding-thumbnails")},200)},I.prototype.setTranslate=function(E){this.$lgThumb.css("transform","translate3d(-"+E+"px, 0px, 0px)")},I.prototype.getPossibleTransformX=function(E){return E>this.thumbTotalWidth-this.thumbOuterWidth&&(E=this.thumbTotalWidth-this.thumbOuterWidth),E<0&&(E=0),E},I.prototype.animateThumb=function(E){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var k=0;switch(this.settings.currentPagerPosition){case"left":k=0;break;case"middle":k=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":k=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*E-1-k,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},I.prototype.onThumbTouchMove=function(E){return E.newTranslateX=this.translateX,E.isMoved=!0,E.touchMoveTime=(new Date).valueOf(),E.newTranslateX-=E.cords.endX-E.cords.startX,E.newTranslateX=this.getPossibleTransformX(E.newTranslateX),this.setTranslate(E.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),E},I.prototype.onThumbTouchEnd=function(E){E.isMoved=!1,E.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var k=E.endTime.valueOf()-E.startTime.valueOf(),G=E.cords.endX-E.cords.startX,q=Math.abs(G)/k;return q>.15&&E.endTime.valueOf()-E.touchMoveTime<30?((q+=1)>2&&(q+=1),q+=q*(Math.abs(G)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(q-1,2)+"settings"),this.translateX=this.getPossibleTransformX(this.translateX-(G*=q)),this.setTranslate(this.translateX)):this.translateX=E.newTranslateX,Math.abs(E.cords.endX-E.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),E},I.prototype.getThumbHtml=function(E,k){var q=this.core.galleryItems[k].__slideVideoInfo||{};return'<div data-lg-item-id="'+k+'" class="lg-thumb-item '+(k===this.core.index?" active":"")+'" \n        style="width:'+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+";\n            margin-right: "+this.settings.thumbMargin+'px;">\n            <img data-lg-item-id="'+k+'" src="'+(q.youtube&&this.settings.loadYouTubeThumbnail?"//img.youtube.com/vi/"+q.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":E)+'" />\n        </div>'},I.prototype.getThumbItemHtml=function(E){for(var k="",G=0;G<E.length;G++)k+=this.getThumbHtml(E[G].thumb,G);return k},I.prototype.setThumbItemHtml=function(E){var k=this.getThumbItemHtml(E);this.$lgThumb.html(k)},I.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},I.prototype.manageActiveClassOnSlideChange=function(){var E=this;this.core.LGel.on(p+".thumb",function(k){var G=E.core.outer.find(".lg-thumb-item"),q=k.detail.index;G.removeClass("active"),G.eq(q).addClass("active")})},I.prototype.toggleThumbBar=function(){var E=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",function(){E.core.outer.toggleClass("lg-components-open")}))},I.prototype.thumbKeyPress=function(){var E=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,function(k){E.core.lgOpened&&E.settings.toggleThumb&&(38===k.keyCode?(k.preventDefault(),E.core.outer.addClass("lg-components-open")):40===k.keyCode&&(k.preventDefault(),E.core.outer.removeClass("lg-components-open")))})},I.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))},I}()}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?Q(exports):"function"==typeof define&&define.amd?define(["exports"],Q):Q((M="undefined"!=typeof globalThis?globalThis:M||self).leaflet={})}(this,function(M){"use strict";function Q(t){for(var e,o,l=1,d=arguments.length;l<d;l++)for(e in o=arguments[l])t[e]=o[e];return t}var Ot=Object.create||function(t){return D.prototype=t,new D};function D(){}function y(t,e){var o,l=Array.prototype.slice;return t.bind?t.bind.apply(t,l.call(arguments,1)):(o=l.call(arguments,2),function(){return t.apply(e,o.length?o.concat(l.call(arguments)):arguments)})}var p=0;function I(t){return"_leaflet_id"in t||(t._leaflet_id=++p),t._leaflet_id}function E(t,e,o){var l,d,R=function(){l=!1,d&&(lt.apply(o,d),d=!1)},lt=function(){l?d=arguments:(t.apply(o,arguments),setTimeout(R,e),l=!0)};return lt}function k(t,d,o){var l=d[1],R=l-(d=d[0]);return t===l&&o?t:((t-d)%R+R)%R+d}function G(){return!1}function q(t,e){return!1===e?t:(e=Math.pow(10,void 0===e?6:e),Math.round(t*e)/e)}function ot(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function x(t){return ot(t).split(/\s+/)}function Z(t,e){for(var o in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?Ot(t.options):{}),e)t.options[o]=e[o];return t.options}function et(t,e,o){var l,d=[];for(l in t)d.push(encodeURIComponent(o?l.toUpperCase():l)+"="+encodeURIComponent(t[l]));return(e&&-1!==e.indexOf("?")?"&":"?")+d.join("&")}var gt=/\{ *([\w_ -]+) *\}/g;function at(t,e){return t.replace(gt,function(o,l){if(void 0===(l=e[l]))throw new Error("No value provided for variable "+o);return"function"==typeof l?l(e):l})}var _t=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function Xt(t,e){for(var o=0;o<t.length;o++)if(t[o]===e)return o;return-1}var re="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function le(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var be=0;function yt(t){var e=+new Date,o=Math.max(0,16-(e-be));return be=e+o,window.setTimeout(t,o)}var Ie=window.requestAnimationFrame||le("RequestAnimationFrame")||yt,je=window.cancelAnimationFrame||le("CancelAnimationFrame")||le("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function _e(t,e,o){if(!o||Ie!==yt)return Ie.call(window,y(t,e));t.call(e)}function De(t){t&&je.call(window,t)}var Pe={__proto__:null,extend:Q,create:Ot,bind:y,get lastId(){return p},stamp:I,throttle:E,wrapNum:k,falseFn:G,formatNum:q,trim:ot,splitWords:x,setOptions:Z,getParamString:et,template:at,isArray:_t,indexOf:Xt,emptyImageUrl:re,requestFn:Ie,cancelFn:je,requestAnimFrame:_e,cancelAnimFrame:De};function xn(){}xn.extend=function(t){function e(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var o,l=e.__super__=this.prototype,d=Ot(l);for(o in(d.constructor=e).prototype=d,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(e[o]=this[o]);if(t.statics&&Q(e,t.statics),t.includes){var R=t.includes;if("undefined"!=typeof L&&L&&L.Mixin){R=_t(R)?R:[R];for(var lt=0;lt<R.length;lt++)R[lt]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}Q.apply(null,[d].concat(t.includes))}return Q(d,t),delete d.statics,delete d.includes,d.options&&(d.options=l.options?Ot(l.options):{},Q(d.options,t.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var st=0,qt=d._initHooks.length;st<qt;st++)d._initHooks[st].call(this)}},e},xn.include=function(t){var e=this.prototype.options;return Q(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},xn.mergeOptions=function(t){return Q(this.prototype.options,t),this},xn.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),o="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};var Fn={on:function(t,e,o){if("object"==typeof t)for(var l in t)this._on(l,t[l],e);else for(var d=0,R=(t=x(t)).length;d<R;d++)this._on(t[d],e,o);return this},off:function(t,e,o){if(arguments.length)if("object"==typeof t)for(var l in t)this._off(l,t[l],e);else{t=x(t);for(var d=1===arguments.length,R=0,lt=t.length;R<lt;R++)d?this._off(t[R]):this._off(t[R],e,o)}else delete this._events;return this},_on:function(t,e,o,l){"function"!=typeof e?console.warn("wrong listener type: "+typeof e):!1===this._listens(t,e,o)&&(e={fn:e,ctx:o=o===this?void 0:o},l&&(e.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e))},_off:function(t,e,o){var l,d,R;if(this._events&&(l=this._events[t]))if(1===arguments.length){if(this._firingCount)for(d=0,R=l.length;d<R;d++)l[d].fn=G;delete this._events[t]}else"function"!=typeof e?console.warn("wrong listener type: "+typeof e):!1!==(e=this._listens(t,e,o))&&(o=l[e],this._firingCount&&(o.fn=G,this._events[t]=l=l.slice()),l.splice(e,1))},fire:function(t,e,o){if(this.listens(t,o)){var l=Q({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var R=0,lt=d.length;R<lt;R++){var st=d[R],qt=st.fn;st.once&&this.off(t,qt,st.ctx),qt.call(st.ctx||this,l)}this._firingCount--}}o&&this._propagateEvent(l)}return this},listens:function(t,e,o,l){"string"!=typeof t&&console.warn('"string" type argument expected');var d=e,R=("function"!=typeof e&&(l=!!e,o=d=void 0),this._events&&this._events[t]);if(R&&R.length&&!1!==this._listens(t,d,o))return!0;if(l)for(var lt in this._eventParents)if(this._eventParents[lt].listens(t,e,o,l))return!0;return!1},_listens:function(t,e,o){if(this._events){var l=this._events[t]||[];if(!e)return!!l.length;o===this&&(o=void 0);for(var d=0,R=l.length;d<R;d++)if(l[d].fn===e&&l[d].ctx===o)return d}return!1},once:function(t,e,o){if("object"==typeof t)for(var l in t)this._on(l,t[l],e,!0);else for(var d=0,R=(t=x(t)).length;d<R;d++)this._on(t[d],e,o,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[I(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[I(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,Q({layer:t.target,propagatedFrom:t.target},t),!0)}},Gn=(Fn.addEventListener=Fn.on,Fn.removeEventListener=Fn.clearAllEventListeners=Fn.off,Fn.addOneTimeEventListener=Fn.once,Fn.fireEvent=Fn.fire,Fn.hasEventListeners=Fn.listens,xn.extend(Fn));function Ne(t,e,o){this.x=o?Math.round(t):t,this.y=o?Math.round(e):e}var qn=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function Te(t,e,o){return t instanceof Ne?t:_t(t)?new Ne(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new Ne(t.x,t.y):new Ne(t,e,o)}function jt(t,e){if(t)for(var o=e?[t,e]:t,l=0,d=o.length;l<d;l++)this.extend(o[l])}function ei(t,e){return!t||t instanceof jt?t:new jt(t,e)}function W(t,e){if(t)for(var o=e?[t,e]:t,l=0,d=o.length;l<d;l++)this.extend(o[l])}function Vt(t,e){return t instanceof W?t:new W(t,e)}function X(t,e,o){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==o&&(this.alt=+o)}function m(t,e,o){return t instanceof X?t:_t(t)&&"object"!=typeof t[0]?3===t.length?new X(t[0],t[1],t[2]):2===t.length?new X(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new X(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new X(t,e,o)}Ne.prototype={clone:function(){return new Ne(this.x,this.y)},add:function(t){return this.clone()._add(Te(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Te(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new Ne(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new Ne(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=qn(this.x),this.y=qn(this.y),this},distanceTo:function(o){var e=(o=Te(o)).x-this.x;return o=o.y-this.y,Math.sqrt(e*e+o*o)},equals:function(t){return(t=Te(t)).x===this.x&&t.y===this.y},contains:function(t){return t=Te(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+q(this.x)+", "+q(this.y)+")"}},jt.prototype={extend:function(t){var e,o;if(t){if(t instanceof Ne||"number"==typeof t[0]||"x"in t)e=o=Te(t);else if(e=(t=ei(t)).min,o=t.max,!e||!o)return this;this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)):(this.min=e.clone(),this.max=o.clone())}return this},getCenter:function(t){return Te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Te(this.min.x,this.max.y)},getTopRight:function(){return Te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,o;return(t=("number"==typeof t[0]||t instanceof Ne?Te:ei)(t))instanceof jt?(e=t.min,o=t.max):e=o=t,e.x>=this.min.x&&o.x<=this.max.x&&e.y>=this.min.y&&o.y<=this.max.y},intersects:function(R){R=ei(R);var e=this.min,o=this.max,l=R.min,d=(R=R.max).x>=e.x&&l.x<=o.x;return R=R.y>=e.y&&l.y<=o.y,d&&R},overlaps:function(R){R=ei(R);var e=this.min,o=this.max,l=R.min,d=(R=R.max).x>e.x&&l.x<o.x;return R=R.y>e.y&&l.y<o.y,d&&R},isValid:function(){return!(!this.min||!this.max)},pad:function(d){var e=this.min,o=this.max,l=Math.abs(e.x-o.x)*d;return d=Math.abs(e.y-o.y)*d,ei(Te(e.x-l,e.y-d),Te(o.x+l,o.y+d))},equals:function(t){return!!t&&(t=ei(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},W.prototype={extend:function(t){var e,o,l=this._southWest,d=this._northEast;if(t instanceof X)o=e=t;else{if(!(t instanceof W))return t?this.extend(m(t)||Vt(t)):this;if(o=t._northEast,!(e=t._southWest)||!o)return this}return l||d?(l.lat=Math.min(e.lat,l.lat),l.lng=Math.min(e.lng,l.lng),d.lat=Math.max(o.lat,d.lat),d.lng=Math.max(o.lng,d.lng)):(this._southWest=new X(e.lat,e.lng),this._northEast=new X(o.lat,o.lng)),this},pad:function(d){var e=this._southWest,o=this._northEast,l=Math.abs(e.lat-o.lat)*d;return d=Math.abs(e.lng-o.lng)*d,new W(new X(e.lat-l,e.lng-d),new X(o.lat+l,o.lng+d))},getCenter:function(){return new X((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new X(this.getNorth(),this.getWest())},getSouthEast:function(){return new X(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=("number"==typeof t[0]||t instanceof X||"lat"in t?m:Vt)(t);var e,o,l=this._southWest,d=this._northEast;return t instanceof W?(e=t.getSouthWest(),o=t.getNorthEast()):e=o=t,e.lat>=l.lat&&o.lat<=d.lat&&e.lng>=l.lng&&o.lng<=d.lng},intersects:function(R){R=Vt(R);var e=this._southWest,o=this._northEast,l=R.getSouthWest(),d=(R=R.getNorthEast()).lat>=e.lat&&l.lat<=o.lat;return R=R.lng>=e.lng&&l.lng<=o.lng,d&&R},overlaps:function(R){R=Vt(R);var e=this._southWest,o=this._northEast,l=R.getSouthWest(),d=(R=R.getNorthEast()).lat>e.lat&&l.lat<o.lat;return R=R.lng>e.lng&&l.lng<o.lng,d&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=Vt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var O={latLngToPoint:function(t,e){return t=this.projection.project(t),e=this.scale(e),this.transformation._transform(t,e)},pointToLatLng:function(t,e){return e=this.scale(e),t=this.transformation.untransform(t,e),this.projection.unproject(t)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){var e;return this.infinite?null:(e=this.projection.bounds,t=this.scale(t),new jt(this.transformation.transform(e.min,t),this.transformation.transform(e.max,t)))},infinite:!(X.prototype={equals:function(t,e){return!!t&&(t=m(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+q(this.lat,t)+", "+q(this.lng,t)+")"},distanceTo:function(t){return F.distance(this,m(t))},wrap:function(){return F.wrapLatLng(this)},toBounds:function(e){var o=(e=180*e/40075017)/Math.cos(Math.PI/180*this.lat);return Vt([this.lat-e,this.lng-o],[this.lat+e,this.lng+o])},clone:function(){return new X(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?k(t.lng,this.wrapLng,!0):t.lng;return new X(this.wrapLat?k(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var l=t.getCenter(),e=this.wrapLatLng(l),o=l.lat-e.lat;return l=l.lng-e.lng,0==o&&0==l?t:(e=t.getSouthWest(),t=t.getNorthEast(),new W(new X(e.lat-o,e.lng-l),new X(t.lat-o,t.lng-l)))}},F=Q({},O,{wrapLng:[-180,180],R:6371e3,distance:function(lt,R){var st=Math.PI/180,o=lt.lat*st,l=R.lat*st,d=Math.sin((R.lat-lt.lat)*st/2);return R=Math.sin((R.lng-lt.lng)*st/2),lt=d*d+Math.cos(o)*Math.cos(l)*R*R,st=2*Math.atan2(Math.sqrt(lt),Math.sqrt(1-lt)),this.R*st}}),w={R:w=6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,o=this.MAX_LATITUDE;return o=Math.max(Math.min(o,t.lat),-o),o=Math.sin(o*e),new Ne(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new X((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:new jt([-(w*=Math.PI),-w],[w,w])};function B(t,e,o,l){_t(t)?(this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3]):(this._a=t,this._b=e,this._c=o,this._d=l)}function Y(t,e,o,l){return new B(t,e,o,l)}B.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new Ne((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}};var it=Q({},F,{code:"EPSG:3857",projection:w,transformation:Y(it=.5/(Math.PI*w.R),.5,-it,.5)}),St=Q({},it,{code:"EPSG:900913"});function ut(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ut(t,e){for(var o,l,d,R,lt="",st=0,qt=t.length;st<qt;st++){for(o=0,l=(d=t[st]).length;o<l;o++)lt+=(o?"L":"M")+(R=d[o]).x+" "+R.y;lt+=e?pt.svg?"z":"x":""}return lt||"M0 0"}var go=document.documentElement.style,Ft="ActiveXObject"in window,ri=Ft&&!document.addEventListener,Kn="msLaunchUri"in navigator&&!("documentMode"in document),uo=kt("webkit"),b=kt("android"),Go=kt("android 2")||kt("android 3"),wo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),so=(wo=b&&kt("Google")&&wo<537&&!("AudioNode"in window),!!window.opera),fr=!Kn&&kt("chrome"),c=kt("gecko")&&!uo&&!so&&!Ft,Ko=!fr&&kt("safari"),To=kt("phantom"),$n="OTransition"in go,h=0===navigator.platform.indexOf("Win"),So=Ft&&"transition"in go,Qo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Go,co=(go="MozPerspective"in go,!window.L_DISABLE_3D&&(So||Qo||go)&&!$n&&!To),en=(Ki="undefined"!=typeof orientation||kt("mobile"))&&uo,zo=Ki&&Qo,Do=!window.PointerEvent&&window.MSPointerEvent,vo=!(!window.PointerEvent&&!Do),j="ontouchstart"in window||!!window.TouchEvent,U=!window.L_NO_TOUCH&&(j||vo),$=Ki&&so,K=Ki&&c,ct=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),It=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",G,e),window.removeEventListener("testPassiveEventSupport",G,e)}catch(o){}return t}(),Pt=!!document.createElement("canvas").getContext,tt=!(!document.createElementNS||!ut("svg").createSVGRect),Mt=!!tt&&((Mt=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Mt.firstChild&&Mt.firstChild.namespaceURI));function kt(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var pt={ie:Ft,ielt9:ri,edge:Kn,webkit:uo,android:b,android23:Go,androidStock:wo,opera:so,chrome:fr,gecko:c,safari:Ko,phantom:To,opera12:$n,win:h,ie3d:So,webkit3d:Qo,gecko3d:go,any3d:co,mobile:Ki,mobileWebkit:en,mobileWebkit3d:zo,msPointer:Do,pointer:vo,touch:U,touchNative:j,mobileOpera:$,mobileGecko:K,retina:ct,passiveEvents:It,canvas:Pt,svg:tt,vml:!tt&&function(){try{var t=document.createElement("div"),e=(t.innerHTML='<v:shape adj="1"/>',t.firstChild);return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(o){return!1}}(),inlineSvg:Mt,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Wt=pt.msPointer?"MSPointerDown":"pointerdown",ee=pt.msPointer?"MSPointerMove":"pointermove",Se=pt.msPointer?"MSPointerUp":"pointerup",Ae=pt.msPointer?"MSPointerCancel":"pointercancel",ze={touchstart:Wt,touchmove:ee,touchend:Se,touchcancel:Ae},Me={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ye(e),xe(t,e)},touchmove:xe,touchend:xe,touchcancel:xe},Qt={},Yt=!1;function te(t){Qt[t.pointerId]=t}function In(t){Qt[t.pointerId]&&(Qt[t.pointerId]=t)}function bt(t){delete Qt[t.pointerId]}function xe(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var o in e.touches=[],Qt)e.touches.push(Qt[o]);e.changedTouches=[e],t(e)}}var qe,Qe,yn,dn,Cn,bn,wn=Zn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),En=Zn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hi="webkitTransition"===En||"OTransition"===En?En+"End":"transitionend";function Wn(t){return"string"==typeof t?document.getElementById(t):t}function Fe(t,e){var o=t.style[e]||t.currentStyle&&t.currentStyle[e];return"auto"===(o=o&&"auto"!==o||!document.defaultView?o:(t=document.defaultView.getComputedStyle(t,null))?t[e]:null)?null:o}function ne(t,e,o){return(t=document.createElement(t)).className=e||"",o&&o.appendChild(t),t}function we(t){var e=t.parentNode;e&&e.removeChild(t)}function Re(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function hn(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function mn(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function He(t,e){return void 0!==t.classList?t.classList.contains(e):0<(t=on(t)).length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t)}function ge(t,e){var o;if(void 0!==t.classList)for(var l=x(e),d=0,R=l.length;d<R;d++)t.classList.add(l[d]);else He(t,e)||Rn(t,((o=on(t))?o+" ":"")+e)}function Oe(t,e){void 0!==t.classList?t.classList.remove(e):Rn(t,ot((" "+on(t)+" ").replace(" "+e+" "," ")))}function Rn(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function on(t){return void 0===(t=t.correspondingElement?t.correspondingElement:t).className.baseVal?t.className:t.className.baseVal}function di(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var o=!1,l="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(l)}catch(d){if(1===e)return}e=Math.round(100*e),o?(o.Enabled=100!==e,o.Opacity=e):t.style.filter+=" progid:"+l+"(opacity="+e+")"}}function Zn(t){for(var e=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in e)return t[o];return!1}function Nn(t,e,o){e=e||new Ne(0,0),t.style[wn]=(pt.ie3d?"translate("+e.x+"px,"+e.y+"px)":"translate3d("+e.x+"px,"+e.y+"px,0)")+(o?" scale("+o+")":"")}function Dn(t,e){t._leaflet_pos=e,pt.any3d?Nn(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Hi(t){return t._leaflet_pos||new Ne(0,0)}function zi(){nt(window,"dragstart",Ye)}function Bi(){wt(window,"dragstart",Ye)}function io(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Hn(),bn=(Cn=t).style.outline,t.style.outline="none",nt(window,"keydown",Hn))}function Hn(){Cn&&(Cn.style.outline=bn,bn=Cn=void 0,wt(window,"keydown",Hn))}function Co(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function ht(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function nt(t,e,o,l){if(e&&"object"==typeof e)for(var d in e)gn(t,d,e[d],o);else for(var R=0,lt=(e=x(e)).length;R<lt;R++)gn(t,e[R],o,l);return this}dn="onselectstart"in document?(yn=function(){nt(window,"selectstart",Ye)},function(){wt(window,"selectstart",Ye)}):(Qe=Zn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),yn=function(){var t;Qe&&(t=document.documentElement.style,qe=t[Qe],t[Qe]="none")},function(){Qe&&(document.documentElement.style[Qe]=qe,qe=void 0)}),Ft={__proto__:null,TRANSFORM:wn,TRANSITION:En,TRANSITION_END:hi,get:Wn,getStyle:Fe,create:ne,remove:we,empty:Re,toFront:hn,toBack:mn,hasClass:He,addClass:ge,removeClass:Oe,setClass:Rn,getClass:on,setOpacity:di,testProp:Zn,setTransform:Nn,setPosition:Dn,getPosition:Hi,get disableTextSelection(){return yn},get enableTextSelection(){return dn},disableImageDrag:zi,enableImageDrag:Bi,preventOutline:io,restoreOutline:Hn,getSizedParentNode:Co,getScale:ht};var xt="_leaflet_events";function wt(t,e,o,l){if(1===arguments.length)fe(t),delete t[xt];else if(e&&"object"==typeof e)for(var d in e)he(t,d,e[d],o);else if(e=x(e),2===arguments.length)fe(t,function(st){return-1!==Xt(e,st)});else for(var R=0,lt=e.length;R<lt;R++)he(t,e[R],o,l);return this}function fe(t,e){for(var o in t[xt]){var l=o.split(/\d/)[0];e&&!e(l)||he(t,l,null,null,o)}}var Ee={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function gn(t,e,o,l){var d,R,lt=e+I(o)+(l?"_"+I(l):"");t[xt]&&t[xt][lt]||(R=d=function(st){return o.call(l||t,st||window.event)},!pt.touchNative&&pt.pointer&&0===e.indexOf("touch")?d=function Le(t,e,o){return"touchstart"!==e||Yt||(document.addEventListener(Wt,te,!0),document.addEventListener(ee,In,!0),document.addEventListener(Se,bt,!0),document.addEventListener(Ae,bt,!0),Yt=!0),Me[e]?(o=Me[e].bind(this,o),t.addEventListener(ze[e],o,!1),o):(console.warn("wrong event specified:",e),G)}(t,e,d):pt.touch&&"dblclick"===e?d=function Ke(t,e){t.addEventListener("dblclick",e);var o,l=0;function d(R){var lt;1!==R.detail?o=R.detail:"mouse"===R.pointerType||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents||(lt=Un(R)).some(function(st){return st instanceof HTMLLabelElement&&st.attributes.for})&&!lt.some(function(st){return st instanceof HTMLInputElement||st instanceof HTMLSelectElement})||((lt=Date.now())-l<=200?2==++o&&e(function(st){var qt,ve,Ue={};for(ve in st)Ue[ve]=(qt=st[ve])&&qt.bind?qt.bind(st):qt;return(st=Ue).type="dblclick",Ue.detail=2,Ue.isTrusted=!1,Ue._simulated=!0,Ue}(R)):o=1,l=lt)}return t.addEventListener("click",d),{dblclick:e,simDblclick:d}}(t,d):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Ee[e]||e,d,!!pt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?t.addEventListener(Ee[e],d=function(st){st=st||window.event,ki(t,st)&&R(st)},!1):t.addEventListener(e,R,!1):t.attachEvent("on"+e,d),t[xt]=t[xt]||{},t[xt][lt]=d)}function he(t,e,st,l,d){var R,lt;d=d||e+I(st)+(l?"_"+I(l):""),(st=t[xt]&&t[xt][d])&&(!pt.touchNative&&pt.pointer&&0===e.indexOf("touch")?(l=t,lt=st,ze[R=e]?l.removeEventListener(ze[R],lt,!1):console.warn("wrong event specified:",R)):pt.touch&&"dblclick"===e?((lt=t).removeEventListener("dblclick",(l=st).dblclick),lt.removeEventListener("click",l.simDblclick)):"removeEventListener"in t?t.removeEventListener(Ee[e]||e,st,!1):t.detachEvent("on"+e,st),t[xt][d]=null)}function ce(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Xe(t){return gn(t,"wheel",ce),this}function rn(t){return nt(t,"mousedown touchstart dblclick contextmenu",ce),t._leaflet_disable_click=!0,this}function Ye(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function an(t){return Ye(t),ce(t),this}function Un(t){if(t.composedPath)return t.composedPath();for(var e=[],o=t.target;o;)e.push(o),o=o.parentNode;return e}function bi(t,e){var o,l;return e?(l=(o=ht(e)).boundingClientRect,new Ne((t.clientX-l.left)/o.x-e.clientLeft,(t.clientY-l.top)/o.y-e.clientTop)):new Ne(t.clientX,t.clientY)}var ni=pt.linux&&pt.chrome?window.devicePixelRatio:pt.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;function de(t){return pt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ni:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function ki(t,e){var o=e.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch(l){return!1}return o!==t}ri={__proto__:null,on:nt,off:wt,stopPropagation:ce,disableScrollPropagation:Xe,disableClickPropagation:rn,preventDefault:Ye,stop:an,getPropagationPath:Un,getMousePosition:bi,getWheelDelta:de,isExternalTarget:ki,addListener:nt,removeListener:wt};var Ri=Gn.extend({run:function(t,e,o,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=Hi(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_e(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,o=1e3*this._duration;e<o?this._runFrame(this._easeOut(e/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){t=this._startPos.add(this._offset.multiplyBy(t)),e&&t._round(),Dn(this._el,t),this.fire("step")},_complete:function(){De(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Sn=Gn.extend({options:{crs:it,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=Z(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=y(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(m(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=En&&pt.any3d&&!pt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),nt(this._proxy,hi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,o){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(m(t),e,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&!0!==o&&(void 0!==o.animate&&(o.zoom=Q({animate:o.animate},o.zoom),o.pan=Q({animate:o.animate,duration:o.duration},o.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,o.zoom):this._tryAnimatedPan(t,o.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,o.pan&&o.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t=t||(pt.any3d?this.options.zoomDelta:1)),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t=t||(pt.any3d?this.options.zoomDelta:1)),e)},setZoomAround:function(d,e,o){var R=this.getZoomScale(e),l=this.getSize().divideBy(2);return d=(d instanceof Ne?d:this.latLngToContainerPoint(d)).subtract(l).multiplyBy(1-1/R),R=this.containerPointToLatLng(l.add(d)),this.setView(R,e,{zoom:o})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():Vt(t);var o=Te(e.paddingTopLeft||e.padding||[0,0]),l=Te(e.paddingBottomRight||e.padding||[0,0]),d=this.getBoundsZoom(t,!1,o.add(l));return(d="number"==typeof e.maxZoom?Math.min(e.maxZoom,d):d)===1/0?{center:t.getCenter(),zoom:d}:(e=l.subtract(o).divideBy(2),l=this.project(t.getSouthWest(),d),o=this.project(t.getNorthEast(),d),{center:this.unproject(l.add(o).divideBy(2).add(e),d),zoom:d})},fitBounds:function(t,e){if((t=Vt(t)).isValid())return t=this._getBoundsCenterZoom(t,e),this.setView(t.center,t.zoom,e);throw new Error("Bounds are not valid.")},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){var o;return e=e||{},(t=Te(t).round()).x||t.y?(!0===e.animate||this.getSize().contains(t)?(this._panAnim||(this._panAnim=new Ri,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate?(ge(this._mapPane,"leaflet-pan-anim"),o=this._getMapPanePos().subtract(t).round(),this._panAnim.run(this._mapPane,o,e.duration||.25,e.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this):this.fire("moveend")},flyTo:function(t,e,o){if(!1===(o=o||{}).animate||!pt.any3d)return this.setView(t,e,o);this._stop();var l=this.project(this.getCenter()),d=this.project(t),R=this.getSize(),lt=this._zoom,st=(t=m(t),e=void 0===e?lt:e,Math.max(R.x,R.y)),qt=st*this.getZoomScale(lt,e),ve=d.distanceTo(l)||1,Ue=1.42,An=Ue*Ue;function fi(si){return si=(qt*qt-st*st+(si?-1:1)*An*An*ve*ve)/(2*(si?qt:st)*An*ve),(si=Math.sqrt(si*si+1)-si)<1e-9?-18:Math.log(si)}function Di(si){return(Math.exp(si)-Math.exp(-si))/2}function _o(si){return(Math.exp(si)+Math.exp(-si))/2}var ji=fi(0),Lr=Date.now(),Ho=(fi(1)-ji)/Ue,ur=o.duration?1e3*o.duration:1e3*Ho*.8;return this._moveStart(!0,o.noMoveStart),function si(){var pr=(Date.now()-Lr)/ur,tr=(1-Math.pow(1-pr,1.5))*Ho;pr<=1?(this._flyToFrame=_e(si,this),this._move(this.unproject(l.add(d.subtract(l).multiplyBy(function Ji(si){return st*(_o(ji)*(Di(si=ji+Ue*si)/_o(si))-Di(ji))/An}(tr)/ve)),lt),this.getScaleZoom(st/(pr=tr,st*(_o(ji)/_o(ji+Ue*pr))),lt),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){return t=this._getBoundsCenterZoom(t,e),this.flyTo(t.center,t.zoom,e)},setMaxBounds:function(t){return t=Vt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(l,e){this._enforcingBounds=!0;var o=this.getCenter();return l=this._limitCenter(o,this._zoom,Vt(l)),o.equals(l)||this.panTo(l,e),this._enforcingBounds=!1,this},panInside:function(d,e){var R=Te((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=Te(e.paddingBottomRight||e.padding||[0,0]),l=this.project(this.getCenter()),lt=(d=this.project(d),(R=ei([(lt=this.getPixelBounds()).min.add(R),lt.max.subtract(o)])).getSize());return R.contains(d)||(this._enforcingBounds=!0,o=d.subtract(R.getCenter()),R=R.extend(d).getSize().subtract(lt),l.x+=o.x<0?-R.x:R.x,l.y+=o.y<0?-R.y:R.y,this.panTo(this.unproject(l),e),this._enforcingBounds=!1),this},invalidateSize:function(t){if(!this._loaded)return this;t=Q({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize(),o=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),d=e.divideBy(2).round(),l=o.divideBy(2).round();return(d=d.subtract(l)).x||d.y?(t.animate&&t.pan?this.panBy(d):(t.pan&&this._rawPanBy(d),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(y(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){var e,o;return t=this._locateOptions=Q({timeout:1e4,watch:!1},t),"geolocation"in navigator?(e=y(this._handleGeolocationResponse,this),o=y(this._handleGeolocationError,this),t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,o,t):navigator.geolocation.getCurrentPosition(e,o,t)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e;this._container._leaflet_id&&(e=t.code,t=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+t+"."}))},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e,o,l=new X(t.coords.latitude,t.coords.longitude),d=l.toBounds(2*t.coords.accuracy),R=this._locateOptions,lt=(R.setView&&(e=this.getBoundsZoom(d),this.setView(l,R.maxZoom?Math.min(e,R.maxZoom):e)),{latlng:l,bounds:d,timestamp:t.timestamp});for(o in t.coords)"number"==typeof t.coords[o]&&(lt[o]=t.coords[o]);this.fire("locationfound",lt)}},addHandler:function(t,e){return e&&(e=this[t]=new e(this),this._handlers.push(e),this.options[t]&&e.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}for(var t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),we(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(De(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)we(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){return e=ne("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane),t&&(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new W(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(qt,e,st){qt=Vt(qt),st=Te(st||[0,0]);var ve=this.getZoom()||0,l=this.getMinZoom(),d=this.getMaxZoom(),R=qt.getNorthWest(),lt=(qt=qt.getSouthEast(),st=this.getSize().subtract(st),qt=ei(this.project(qt,ve),this.project(R,ve)).getSize(),R=pt.any3d?this.options.zoomSnap:1,st.x/qt.x);return st=st.y/qt.y,qt=e?Math.max(lt,st):Math.min(lt,st),ve=this.getScaleZoom(qt,ve),R&&(ve=Math.round(ve/(R/100))*(R/100),ve=e?Math.ceil(ve/R)*R:Math.floor(ve/R)*R),Math.max(l,Math.min(d,ve))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new Ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){return new jt(t=this._getTopLeftPoint(t,e),t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var o=this.options.crs;return e=void 0===e?this._zoom:e,o.scale(t)/o.scale(e)},getScaleZoom:function(l,e){var o=this.options.crs;return l=o.zoom(l*o.scale(e=void 0===e?this._zoom:e)),isNaN(l)?1/0:l},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(m(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(Te(t),e)},layerPointToLatLng:function(t){return t=Te(t).add(this.getPixelOrigin()),this.unproject(t)},latLngToLayerPoint:function(t){return this.project(m(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(m(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Vt(t))},distance:function(t,e){return this.options.crs.distance(m(t),m(e))},containerPointToLayerPoint:function(t){return Te(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Te(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){return t=this.containerPointToLayerPoint(Te(t)),this.layerPointToLatLng(t)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(m(t)))},mouseEventToContainerPoint:function(t){return bi(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){if(!(t=this._container=Wn(t)))throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");nt(t,"scroll",this._onScroll,this),this._containerId=I(t)},_initLayout:function(){var t=this._container,e=(this._fadeAnimated=this.options.fadeAnimation&&pt.any3d,ge(t,"leaflet-container"+(pt.touch?" leaflet-touch":"")+(pt.retina?" leaflet-retina":"")+(pt.ielt9?" leaflet-oldie":"")+(pt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),Fe(t,"position"));"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dn(this._mapPane,new Ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ge(t.markerPane,"leaflet-zoom-hide"),ge(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,o){Dn(this._mapPane,new Ne(0,0));var l=!this._loaded,d=(this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset"),this._zoom!==e);this._moveStart(d,o)._move(t,e)._moveEnd(d),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,o,l){void 0===e&&(e=this._zoom);var d=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?o&&o.pinch&&this.fire("zoom",o):((d||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return De(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Dn(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?wt:nt;e((this._targets[I(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),pt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){De(this._resizeRequest),this._resizeRequest=_e(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var o,l=[],d="mouseout"===e||"mouseover"===e,R=t.target||t.srcElement,lt=!1;R;){if((o=this._targets[I(R)])&&("click"===e||"preclick"===e)&&this._draggableMoved(o)){lt=!0;break}if(o&&o.listens(e,!0)&&(d&&!ki(R,t)||(l.push(o),d))||R===this._container)break;R=R.parentNode}return l.length||lt||d||!this.listens(e,!0)?l:[this]},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e,o=t.target||t.srcElement;!this._loaded||o._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(o)||("mousedown"===(e=t.type)&&io(o),this._fireDOMEvent(t,e))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,o){"click"===t.type&&((st=Q({},t)).type="preclick",this._fireDOMEvent(st,st.type,o));var l=this._findEventTargets(t,e);if(o){for(var d=[],R=0;R<o.length;R++)o[R].listens(e,!0)&&d.push(o[R]);l=d.concat(l)}if(l.length){"contextmenu"===e&&Ye(t);var lt,st=l[0],qt={originalEvent:t};for("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type&&(qt.containerPoint=(lt=st.getLatLng&&(!st._radius||st._radius<=10))?this.latLngToContainerPoint(st.getLatLng()):this.mouseEventToContainerPoint(t),qt.layerPoint=this.containerPointToLayerPoint(qt.containerPoint),qt.latlng=lt?st.getLatLng():this.layerPointToLatLng(qt.layerPoint)),R=0;R<l.length;R++)if(l[R].fire(e,qt,!0),qt.originalEvent._stopped||!1===l[R].options.bubblingMouseEvents&&-1!==Xt(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Hi(this._mapPane)||new Ne(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var o=this.getSize()._divideBy(2);return this.project(t,e)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,o){return o=this._getNewPixelOrigin(o,e),this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,o){return o=this._getNewPixelOrigin(o,e),ei([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,o){var l,d;return!o||(l=this.project(t,e),d=this.getSize().divideBy(2),d=new jt(l.subtract(d),l.add(d)),d=this._getBoundsOffset(d,o,e),Math.abs(d.x)<=1&&Math.abs(d.y)<=1)?t:this.unproject(l.add(d),e)},_limitOffset:function(t,e){var o;return e?(o=new jt((o=this.getPixelBounds()).min.add(t),o.max.add(t)),t.add(this._getBoundsOffset(o,e))):t},_getBoundsOffset:function(t,e,o){return o=(e=ei(this.project(e.getNorthEast(),o),this.project(e.getSouthWest(),o))).min.subtract(t.min),e=e.max.subtract(t.max),new Ne(this._rebound(o.x,-e.x),this._rebound(o.y,-e.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),o=this.getMaxZoom(),l=pt.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(e,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){return t=this._getCenterOffset(t)._trunc(),!(!0!==(e&&e.animate)&&!this.getSize().contains(t)||(this.panBy(t,e),0))},_createAnimProxy:function(){var t=this._proxy=ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var o=wn,l=this._proxy.style[o];Nn(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),l===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){we(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Nn(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,o){if(!this._animatingZoom){if(o=o||{},!this._zoomAnimated||!1===o.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(e);if(l=this._getCenterOffset(t)._divideBy(1-1/l),!0!==o.animate&&!this.getSize().contains(l))return!1;_e(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this)}return!0},_animateZoom:function(t,e,o,l){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fi(t){return new Si(t)}var oo,Si=xn.extend({options:{position:"topright"},initialize:function(t){Z(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var e=this._container=this.onAdd(l),o=this.getPosition();return l=l._controlCorners[o],ge(e,"leaflet-control"),-1!==o.indexOf("bottom")?l.insertBefore(e,l.firstChild):l.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(we(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),Xo=(Sn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",o=this._controlContainer=ne("div",e+"control-container",this._container);function l(d,R){t[d+R]=ne("div",e+d+" "+e+R,o)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)we(this._controlCorners[t]);we(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),Si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,o,l){return o<l?-1:l<o?1:0}},initialize:function(t,e,o){for(var l in Z(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[l],l);for(l in e)this._addLayer(e[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Si.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){return t.off("add remove",this._onLayerChange,this),(t=this._getLayer(I(t)))&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ne("div",t),o=this.options.collapsed,l=(e.setAttribute("aria-haspopup",!0),rn(e),Xe(e),this._section=ne("section",t+"-list")),d=(o&&(this._map.on("click",this.collapse,this),nt(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=ne("a",t+"-toggle",e));d.href="#",d.title="Layers",d.setAttribute("role","button"),nt(d,{keydown:function(R){13===R.keyCode&&this._expandSafely()},click:function(R){Ye(R),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=ne("div",t+"-base",l),this._separator=ne("div",t+"-separator",l),this._overlaysList=ne("div",t+"-overlays",l),e.appendChild(l)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&I(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:o}),this.options.sortLayers&&this._layers.sort(y(function(l,d){return this.options.sortFunction(l.layer,d.layer,l.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){Re(this._baseLayersList),Re(this._overlaysList),this._layerControlInputs=[];for(var t,e,o,l=0,d=0;d<this._layers.length;d++)this._addItem(o=this._layers[d]),e=e||o.overlay,t=t||!o.overlay,l+=o.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&1<l)?"":"none"),this._separator.style.display=e&&t?"":"none"}return this},_onLayerChange:function(o){this._handlingClick||this._update();var e=this._getLayer(I(o.target));(o=e.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null)&&this._map.fire(o,e)},_createRadioElement:function(t,e){return t='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",(e=document.createElement("div")).innerHTML=t,e.firstChild},_addItem:function(t){var e,o=document.createElement("label"),l=this._map.hasLayer(t.layer),d=((t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=l):e=this._createRadioElement("leaflet-base-layers_"+I(this),l),this._layerControlInputs.push(e),e.layerId=I(t.layer),nt(e,"click",this._onInputClick,this),l=document.createElement("span")).innerHTML=" "+t.name,document.createElement("span"));return o.appendChild(d),d.appendChild(e),d.appendChild(l),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){var t,e,o=this._layerControlInputs,l=[],d=[];this._handlingClick=!0;for(var R=o.length-1;0<=R;R--)e=this._getLayer((t=o[R]).layerId).layer,t.checked?l.push(e):t.checked||d.push(e);for(R=0;R<d.length;R++)this._map.hasLayer(d[R])&&this._map.removeLayer(d[R]);for(R=0;R<l.length;R++)this._map.hasLayer(l[R])||this._map.addLayer(l[R]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,o=this._layerControlInputs,l=this._map.getZoom(),d=o.length-1;0<=d;d--)e=this._getLayer((t=o[d]).layerId).layer,t.disabled=void 0!==e.options.minZoom&&l<e.options.minZoom||void 0!==e.options.maxZoom&&l>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;nt(t,"click",Ye),this.expand(),setTimeout(function(){wt(t,"click",Ye)})}})),Ai=Si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",o=ne("div",e+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,e+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,e+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,o,l,d){return(o=ne("a",o,l)).innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),rn(o),nt(o,"click",an),nt(o,"click",d,this),nt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Oe(this._zoomInButton,e),Oe(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&t._zoom!==t.getMinZoom()||(ge(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&t._zoom!==t.getMaxZoom()||(ge(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}}),bo=(Sn.mergeOptions({zoomControl:!0}),Sn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ai,this.addControl(this.zoomControl))}),Si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",o=ne("div",e),l=this.options;return this._addScales(l,e+"-line",o),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,o){t.metric&&(this._mScale=ne("div",e,o)),t.imperial&&(this._iScale=ne("div",e,o))},_update:function(){var t=(e=this._map).getSize().y/2,e=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+" m":e/1e3+" km",e/t)},_updateImperial:function(l){var e,o;5280<(l*=3.2808399)?(o=this._getRoundNum(e=l/5280),this._updateScale(this._iScale,o+" mi",o/e)):(o=this._getRoundNum(l),this._updateScale(this._iScale,o+" ft",o/l))},_updateScale:function(t,e,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=e},_getRoundNum:function(o){var e=Math.pow(10,(Math.floor(o)+"").length-1);return e*(10<=(o/=e)?10:5<=o?5:3<=o?3:2<=o?2:1)}})),On=Si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(pt.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){Z(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=ne("div","leaflet-control-attribution"),rn(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t,e=[];for(t in this._attributions)this._attributions[t]&&e.push(t);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}}),Bo=((Sn.mergeOptions({attributionControl:!0}),Sn.addInitHook(function(){this.options.attributionControl&&(new On).addTo(this)}),Si.Layers=Xo,Si.Zoom=Ai,Si.Scale=bo,Si.Attribution=On,Fi.layers=function(t,e,o){return new Xo(t,e,o)},Fi.zoom=function(t){return new Ai(t)},Fi.scale=function(t){return new bo(t)},Fi.attribution=function(t){return new On(t)},Kn=xn.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})).addTo=function(t,e){return t.addHandler(e,this),this},uo={Events:Fn},pt.touch?"touchstart mousedown":"mousedown"),Ei=Gn.extend({options:{clickTolerance:3},initialize:function(t,e,o,l){Z(this,l),this._element=t,this._dragStartTarget=e||t,this._preventOutline=o},enable:function(){this._enabled||(nt(this._dragStartTarget,Bo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),wt(this._dragStartTarget,Bo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){var e,o;this._enabled&&(this._moved=!1,He(this._element,"leaflet-zoom-anim")||(t.touches&&1!==t.touches.length?Ei._dragging===this&&this.finishDrag():Ei._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((Ei._dragging=this)._preventOutline&&io(this._element),zi(),yn(),this._moving||(this.fire("down"),o=t.touches?t.touches[0]:t,e=Co(this._element),this._startPoint=new Ne(o.clientX,o.clientY),this._startPos=Hi(this._element),this._parentScale=ht(e),o="mousedown"===t.type,nt(document,o?"mousemove":"touchmove",this._onMove,this),nt(document,o?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(t){var e;this._enabled&&(t.touches&&1<t.touches.length?this._moved=!0:!(e=new Ne((e=t.touches&&1===t.touches.length?t.touches[0]:t).clientX,e.clientY)._subtract(this._startPoint)).x&&!e.y||Math.abs(e.x)+Math.abs(e.y)<this.options.clickTolerance||(e.x/=this._parentScale.x,e.y/=this._parentScale.y,Ye(t),this._moved||(this.fire("dragstart"),this._moved=!0,ge(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,this._lastEvent=t,this._updatePosition()))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Dn(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wt(document,"mousemove touchmove",this._onMove,this),wt(document,"mouseup touchend touchcancel",this._onUp,this),Bi(),dn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ei._dragging=!1}});function gi(t,e){if(e&&t.length){var o=t=function(st,qt){for(var ve=[st[0]],Ue=1,An=0,fi=st.length;Ue<fi;Ue++)void 0,(ji=(Ji=st[An]).x-(Di=st[Ue]).x)*ji+(Ji=Ji.y-Di.y)*Ji>qt&&(ve.push(st[Ue]),An=Ue);var Di,Ji,ji;return An<fi-1&&ve.push(st[fi-1]),ve}(t,e*=e),l=o.length,d=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(l);d[0]=d[l-1]=1,function st(qt,ve,Ue,An,fi){var Di,_o,ji,Ji=0;for(_o=An+1;_o<=fi-1;_o++)Ji<(ji=Ao(qt[_o],qt[An],qt[fi],!0))&&(Di=_o,Ji=ji);Ue<Ji&&(ve[Di]=1,st(qt,ve,Ue,An,Di),st(qt,ve,Ue,Di,fi))}(o,d,e,0,l-1);var R,lt=[];for(R=0;R<l;R++)d[R]&&lt.push(o[R]);return lt}return t.slice()}function Fo(t,e,o){return Math.sqrt(Ao(t,e,o,!0))}function $o(t,e,o,l,d){var R,lt,st,qt=l?oo:ho(t,o),ve=ho(e,o);for(oo=ve;;){if(!(qt|ve))return[t,e];if(qt&ve)return!1;st=ho(lt=Eo(t,e,R=qt||ve,o,d),o),R===qt?(t=lt,qt=st):(e=lt,ve=st)}}function Eo(t,qt,o,Ue,d){var R,lt,st=qt.x-t.x,ve=(qt=qt.y-t.y,Ue.min);return Ue=Ue.max,8&o?(R=t.x+st*(Ue.y-t.y)/qt,lt=Ue.y):4&o?(R=t.x+st*(ve.y-t.y)/qt,lt=ve.y):2&o?(R=Ue.x,lt=t.y+qt*(Ue.x-t.x)/st):1&o&&(R=ve.x,lt=t.y+qt*(ve.x-t.x)/st),new Ne(R,lt,d)}function ho(t,e){var o=0;return t.x<e.min.x?o|=1:t.x>e.max.x&&(o|=2),t.y<e.min.y?o|=4:t.y>e.max.y&&(o|=8),o}function Ao(t,R,o,l){var d=R.x,lt=o.x-d,st=o.y-(R=R.y),qt=lt*lt+st*st;return 0<qt&&(1<(qt=((t.x-d)*lt+(t.y-R)*st)/qt)?(d=o.x,R=o.y):0<qt&&(d+=lt*qt,R+=st*qt)),lt=t.x-d,st=t.y-R,l?lt*lt+st*st:new Ne(d,R)}function Ui(t){return!_t(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function ro(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ui(t)}function ko(t,e){var o,l,d,R,lt;if(!t||0===t.length)throw new Error("latlngs not passed");Ui(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var st,qt=[];for(st in t)qt.push(e.project(m(t[st])));for(var ve=qt.length,Ue=0,An=0;Ue<ve-1;Ue++)An+=qt[Ue].distanceTo(qt[Ue+1])/2;if(0===An)lt=qt[0];else for(o=Ue=0;Ue<ve-1;Ue++)if(An<(o+=R=(l=qt[Ue]).distanceTo(d=qt[Ue+1]))){lt=[d.x-(R=(o-An)/R)*(d.x-l.x),d.y-R*(d.y-l.y)];break}return e.unproject(Te(lt))}function gr(t,e,o){for(var l,d,R,lt,st,qt,ve,Ue=[1,4,2,8],An=0,fi=t.length;An<fi;An++)t[An]._code=ho(t[An],e);for(R=0;R<4;R++){for(qt=Ue[R],l=[],An=0,d=(fi=t.length)-1;An<fi;d=An++)st=t[d],(lt=t[An])._code&qt?st._code&qt||((ve=Eo(st,lt,qt,e,o))._code=ho(ve,e),l.push(ve)):(st._code&qt&&((ve=Eo(st,lt,qt,e,o))._code=ho(ve,e),l.push(ve)),l.push(lt));t=l}return t}function or(t,e){var o,l,d,R,lt;if(!t||0===t.length)throw new Error("latlngs not passed");Ui(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var qt,ve=[];for(qt in t)ve.push(e.project(m(t[qt])));for(var Ue=ve.length,An=R=lt=0,fi=0,Di=Ue-1;fi<Ue;Di=fi++)R+=((o=ve[fi]).x+(l=ve[Di]).x)*(d=o.y*l.x-l.y*o.x),lt+=(o.y+l.y)*d,An+=3*d;return e.unproject(Te(0===An?ve[0]:[R/An,lt/An]))}b={__proto__:null,simplify:gi,pointToSegmentDistance:Fo,closestPointOnSegment:function(t,e,o){return Ao(t,e,o)},clipSegment:$o,_getEdgeIntersection:Eo,_getBitCode:ho,_sqClosestPointOnSegment:Ao,isFlat:Ui,_flat:ro,polylineCenter:ko},Go={__proto__:null,clipPolygon:gr,polygonCenter:or},fr={__proto__:null,LonLat:wo={project:function(t){return new Ne(t.lng,t.lat)},unproject:function(t){return new X(t.y,t.x)},bounds:new jt([-180,-90],[180,90])},Mercator:so={R:6378137,R_MINOR:6356752.314245179,bounds:new jt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,o=this.R,R=t.lat*e,l=this.R_MINOR/o,d=(l=Math.sqrt(1-l*l))*Math.sin(R);return d=Math.tan(Math.PI/4-R/2)/Math.pow((1-d)/(1+d),l/2),R=-o*Math.log(Math.max(d,1e-10)),new Ne(t.lng*e*o,R)},unproject:function(t){for(var e,o=180/Math.PI,l=this.R,d=this.R_MINOR/l,R=Math.sqrt(1-d*d),lt=Math.exp(-t.y/l),st=Math.PI/2-2*Math.atan(lt),qt=0,ve=.1;qt<15&&1e-7<Math.abs(ve);qt++)e=R*Math.sin(st),e=Math.pow((1-e)/(1+e),R/2),st+=ve=Math.PI/2-2*Math.atan(lt*e)-st;return new X(st*o,t.x*o/l)}},SphericalMercator:w},Ko=Q({},F,{code:"EPSG:3395",projection:so,transformation:Y(c=.5/(Math.PI*so.R),.5,-c,.5)});var jo=Q({},F,{code:"EPSG:4326",projection:wo,transformation:Y(1/180,1,-1/180,.5)}),qi=(To=Q({},O,{projection:wo,transformation:Y(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,l){var o=l.lng-t.lng;return l=l.lat-t.lat,Math.sqrt(o*o+l*l)},infinite:!0}),O.Earth=F,O.EPSG3395=Ko,O.EPSG3857=it,O.EPSG900913=St,O.EPSG4326=jo,O.Simple=To,$n=Gn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[I(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[I(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e,o=t.target;o.hasLayer(this)&&(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents&&(e=this.getEvents(),o.on(e,this),this.once("remove",function(){o.off(e,this)},this)),this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this}))}}),Sn.include({addLayer:function(t){var e;if(t._layerAdd)return e=I(t),this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(t){var e=I(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return I(t)in this._layers},eachLayer:function(t,e){for(var o in this._layers)t.call(e,this._layers[o]);return this},_addLayers:function(t){for(var e=0,o=(t=t?_t(t)?t:[t]:[]).length;e<o;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[I(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){t=I(t),this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var t,e=1/0,o=-1/0,l=this._getZoomSpan();for(t in this._zoomBoundLayers){var d=this._zoomBoundLayers[t].options;e=void 0===d.minZoom?e:Math.min(e,d.minZoom),o=void 0===d.maxZoom?o:Math.max(o,d.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=e===1/0?void 0:e,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),$n.extend({initialize:function(t,e){var o,l;if(Z(this,e),this._layers={},t)for(o=0,l=t.length;o<l;o++)this.addLayer(t[o])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){return t=t in this._layers?t:this.getLayerId(t),this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,o,l=Array.prototype.slice.call(arguments,1);for(e in this._layers)(o=this._layers[e])[t]&&o[t].apply(o,l);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var o in this._layers)t.call(e,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:I})),Xi=qi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),qi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?((t=t in this._layers?this._layers[t]:t).removeEventParent(this),qi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t,e=new W;for(t in this._layers){var o=this._layers[t];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),_i=xn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){Z(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var o=this._getIconUrl(t);if(o)return o=this._createImg(o,e&&"IMG"===e.tagName?e:null),this._setIconStyles(o,t),!this.options.crossOrigin&&""!==this.options.crossOrigin||(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),o;if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(t,e){var o=this.options,l=Te(l="number"==typeof(l=o[e+"Size"])?[l,l]:l),d=Te("shadow"===e&&o.shadowAnchor||o.iconAnchor||l&&l.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(o.className||""),d&&(t.style.marginLeft=-d.x+"px",t.style.marginTop=-d.y+"px"),l&&(t.style.width=l.x+"px",t.style.height=l.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return pt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Jo=_i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof Jo.imagePath&&(Jo.imagePath=this._detectIconPath()),(this.options.imagePath||Jo.imagePath)+_i.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){function e(o,l,d){return(l=l.exec(o))&&l[d]}return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ne("div","leaflet-default-icon-path",document.body),e=Fe(t,"background-image")||Fe(t,"backgroundImage");return document.body.removeChild(t),(e=this._stripUrl(e))?e:(t=document.querySelector('link[href$="leaflet.css"]'))?t.href.substring(0,t.href.length-11-1):""}}),Ti=Kn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ei(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ge(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,o=e._map,l=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,R=Hi(e._icon),lt=o.getPixelBounds(),st=o.getPixelOrigin();(st=ei(lt.min._subtract(st).add(d),lt.max._subtract(st).subtract(d))).contains(R)||(d=Te((Math.max(st.max.x,R.x)-st.max.x)/(lt.max.x-st.max.x)-(Math.min(st.min.x,R.x)-st.min.x)/(lt.min.x-st.min.x),(Math.max(st.max.y,R.y)-st.max.y)/(lt.max.y-st.max.y)-(Math.min(st.min.y,R.y)-st.min.y)/(lt.min.y-st.min.y)).multiplyBy(l),o.panBy(d,{animate:!1}),this._draggable._newPos._add(d),this._draggable._startPos._add(d),Dn(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=_e(this._adjustPan.bind(this,t)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(De(this._panRequest),this._panRequest=_e(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,o=e._shadow,l=Hi(e._icon),d=e._map.layerPointToLatLng(l);o&&Dn(o,l),e._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){De(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),vi=$n.extend({options:{icon:new Jo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){Z(this,e),this._latlng=m(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=m(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var t;return this._icon&&this._map&&(t=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(t)),this},_initIcon:function(){var l,t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=!1,d=!1;(l=t.icon.createIcon(this._icon))!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(l.title=t.title),"IMG"===l.tagName&&(l.alt=t.alt||"")),ge(l,e),t.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nt(l,"focus",this._panOnFocus,this),(l=t.icon.createShadow(this._shadow))!==this._shadow&&(this._removeShadow(),d=!0),l&&(ge(l,e),l.alt=""),this._shadow=l,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&d&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(this._icon,"focus",this._panOnFocus,this),we(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&we(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Dn(this._icon,t),this._shadow&&Dn(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round(),this._setPos(t)},_initInteraction:function(){var t;this.options.interactive&&(ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ti&&(t=this.options.draggable,this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ti(this),t&&this.dragging.enable()))},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&di(this._icon,t),this._shadow&&di(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t,e,o=this._map;o&&(t=(e=this.options.icon.options).iconSize?Te(e.iconSize):Te(0,0),e=e.iconAnchor?Te(e.iconAnchor):Te(0,0),o.panInside(this._latlng,{paddingTopLeft:e,paddingBottomRight:t.subtract(e)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),ao=$n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return Z(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vo=ao.extend({options:{fill:!0,radius:10},initialize:function(t,e){Z(this,e),this._latlng=m(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=m(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ao.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,t=this._radiusY||o,e=this._clickTolerance();this._pxBounds=new jt(this._point.subtract(o=[o+e,t+e]),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),lo=Vo.extend({initialize:function(t,e,o){if(Z(this,e="number"==typeof e?Q({},o,{radius:e}):e),this._latlng=m(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new W(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ao.prototype.setStyle,_project:function(){var t,e,o,l,d,R=this._latlng.lng,lt=this._latlng.lat,st=this._map,qt=st.options.crs;qt.distance===F.distance?(l=Math.PI/180,t=st.project([lt+(d=this._mRadius/F.R/l),R]),e=st.project([lt-d,R]),e=t.add(e).divideBy(2),o=st.unproject(e).lat,l=Math.acos((Math.cos(d*l)-Math.sin(lt*l)*Math.sin(o*l))/(Math.cos(lt*l)*Math.cos(o*l)))/l,!isNaN(l)&&0!==l||(l=d/Math.cos(Math.PI/180*lt)),this._point=e.subtract(st.getPixelOrigin()),this._radius=isNaN(l)?0:e.x-st.project([o,R-l]).x,this._radiusY=e.y-t.y):(d=qt.unproject(qt.project(this._latlng).subtract([this._mRadius,0])),this._point=st.latLngToLayerPoint(this._latlng),this._radius=this._point.x-st.latLngToLayerPoint(d).x),this._updateBounds()}}),Oi=ao.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){Z(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,o=null,l=Ao,d=0,R=this._parts.length;d<R;d++)for(var lt=this._parts[d],st=1,qt=lt.length;st<qt;st++){var ve,Ue,An=l(t,ve=lt[st-1],Ue=lt[st],!0);An<e&&(e=An,o=l(t,ve,Ue))}return o&&(o.distance=Math.sqrt(e)),o},getCenter:function(){if(this._map)return ko(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=m(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new W,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ui(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],o=Ui(t),l=0,d=t.length;l<d;l++)o?(e[l]=m(t[l]),this._bounds.extend(e[l])):e[l]=this._convertLatLngs(t[l]);return e},_project:function(){var t=new jt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=new Ne(t=this._clickTolerance(),t);this._rawPxBounds&&(this._pxBounds=new jt([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(t,e,o){var l,d,lt=t.length;if(t[0]instanceof X){for(d=[],l=0;l<lt;l++)d[l]=this._map.latLngToLayerPoint(t[l]),o.extend(d[l]);e.push(d)}else for(l=0;l<lt;l++)this._projectLatlngs(t[l],e,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var e,o,l,d,R=this._parts,lt=0,st=0,qt=this._rings.length;lt<qt;lt++)for(e=0,o=(d=this._rings[lt]).length;e<o-1;e++)(l=$o(d[e],d[e+1],t,e,!0))&&(R[st]=R[st]||[],R[st].push(l[0]),l[1]===d[e+1]&&e!==o-2||(R[st].push(l[1]),st++))},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,o=0,l=t.length;o<l;o++)t[o]=gi(t[o],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var o,l,d,R,lt,st,qt=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(t))for(o=0,R=this._parts.length;o<R;o++)for(l=0,d=(lt=(st=this._parts[o]).length)-1;l<lt;d=l++)if((e||0!==l)&&Fo(t,st[d],st[l])<=qt)return!0;return!1}});Oi._flat=ro;var rr=Oi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return or(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},_convertLatLngs:function(e){var o=(e=Oi.prototype._convertLatLngs.call(this,e)).length;return 2<=o&&e[0]instanceof X&&e[0].equals(e[o-1])&&e.pop(),e},_setLatLngs:function(t){Oi.prototype._setLatLngs.call(this,t),Ui(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(Ui(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var e=this._renderer._bounds,t=new Ne(t=this.options.weight,t);if(e=new jt(e.min.subtract(t),e.max.add(t)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var o,l=0,d=this._rings.length;l<d;l++)(o=gr(this._rings[l],e,!0)).length&&this._parts.push(o)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,o,l,d,R,lt,st,qt,ve=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(d=0,st=this._parts.length;d<st;d++)for(R=0,lt=(qt=(e=this._parts[d]).length)-1;R<qt;lt=R++)(o=e[R]).y>t.y!=(l=e[lt]).y>t.y&&t.x<(l.x-o.x)*(t.y-o.y)/(l.y-o.y)+o.x&&(ve=!ve);return ve||Oi.prototype._containsPoint.call(this,t,!0)}}),ii=Xi.extend({initialize:function(t,e){Z(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,o,l,d=_t(t)?t:t.features;if(d){for(e=0,o=d.length;e<o;e++)((l=d[e]).geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var R,lt=this.options;return lt.filter&&!lt.filter(t)||!(R=xo(t,lt))?this:(R.feature=sr(t),R.defaultOptions=R.options,this.resetStyle(R),lt.onEachFeature&&lt.onEachFeature(t,R),this.addLayer(R))},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=Q({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function xo(t,e){var o,l,d,R,lt="Feature"===t.type?t.geometry:t,st=lt?lt.coordinates:null,qt=[],ve=e&&e.pointToLayer,Ue=e&&e.coordsToLatLng||Wi;if(!st&&!lt)return null;switch(lt.type){case"Point":return Qi(ve,t,o=Ue(st),e);case"MultiPoint":for(d=0,R=st.length;d<R;d++)o=Ue(st[d]),qt.push(Qi(ve,t,o,e));return new Xi(qt);case"LineString":case"MultiLineString":return l=Pi(st,"LineString"===lt.type?0:1,Ue),new Oi(l,e);case"Polygon":case"MultiPolygon":return l=Pi(st,"Polygon"===lt.type?1:2,Ue),new rr(l,e);case"GeometryCollection":for(d=0,R=lt.geometries.length;d<R;d++){var An=xo({geometry:lt.geometries[d],type:"Feature",properties:t.properties},e);An&&qt.push(An)}return new Xi(qt);case"FeatureCollection":for(d=0,R=lt.features.length;d<R;d++){var fi=xo(lt.features[d],e);fi&&qt.push(fi)}return new Xi(qt);default:throw new Error("Invalid GeoJSON object.")}}function Qi(t,e,o,l){return t?t(e,o):new vi(o,l&&l.markersInheritOptions&&l)}function Wi(t){return new X(t[1],t[0],t[2])}function Pi(t,e,o){for(var l,d=[],R=0,lt=t.length;R<lt;R++)l=e?Pi(t[R],e-1,o):(o||Wi)(t[R]),d.push(l);return d}function Po(t,e){return void 0!==(t=m(t)).alt?[q(t.lng,e),q(t.lat,e),q(t.alt,e)]:[q(t.lng,e),q(t.lat,e)]}function Mo(t,e,o,l){for(var d=[],R=0,lt=t.length;R<lt;R++)d.push(e?Mo(t[R],Ui(t[R])?0:e-1,o,l):Po(t[R],l));return!e&&o&&d.push(d[0].slice()),d}function Io(t,e){return t.feature?Q({},t.feature,{geometry:e}):sr(e)}function sr(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function $i(t,e){return new ii(t,e)}vi.include(h={toGeoJSON:function(t){return Io(this,{type:"Point",coordinates:Po(this.getLatLng(),t)})}}),lo.include(h),Vo.include(h),Oi.include({toGeoJSON:function(t){var e=!Ui(this._latlngs);return Io(this,{type:(e?"Multi":"")+"LineString",coordinates:Mo(this._latlngs,e?1:0,!1,t)})}}),rr.include({toGeoJSON:function(l){var e=!Ui(this._latlngs),o=e&&!Ui(this._latlngs[0]);return l=Mo(this._latlngs,o?2:e?1:0,!0,l),Io(this,{type:(o?"Multi":"")+"Polygon",coordinates:l=e?l:[l]})}}),qi.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(o){e.push(o.toGeoJSON(t).geometry.coordinates)}),Io(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e,o,l=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===l?this.toMultiPoint(t):(e="GeometryCollection"===l,o=[],this.eachLayer(function(d){d.toGeoJSON&&(d=d.toGeoJSON(t),e?o.push(d.geometry):"FeatureCollection"===(d=sr(d)).type?o.push.apply(o,d.features):o.push(d))}),e?Io(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o})}}),So=$i;var fo=$n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,o){this._url=t,this._bounds=Vt(e),Z(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){we(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&hn(this._image),this},bringToBack:function(){return this._map&&mn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Vt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ne("img");ge(e,"leaflet-image-layer"),this._zoomAnimated&&ge(e,"leaflet-zoom-animated"),this.options.className&&ge(e,this.options.className),e.onselectstart=G,e.onmousemove=G,e.onload=y(this.fire,this,"load"),e.onerror=y(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(o){var e=this._map.getZoomScale(o.zoom);o=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min,Nn(this._image,o,e)},_reset:function(){var t=this._image,e=new jt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=e.getSize();Dn(t,e.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){di(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Ro=fo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ne("video");if(ge(e,"leaflet-image-layer"),this._zoomAnimated&&ge(e,"leaflet-zoom-animated"),this.options.className&&ge(e,this.options.className),e.onselectstart=G,e.onmousemove=G,e.onloadeddata=y(this.fire,this,"load"),t){for(var o=e.getElementsByTagName("source"),l=[],d=0;d<o.length;d++)l.push(o[d].src);this._url=0<o.length?l:[e.src]}else{_t(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var lt=ne("source");lt.src=this._url[R],e.appendChild(lt)}}}}),Er=fo.extend({_initImage:function(){var t=this._image=this._url;ge(t,"leaflet-image-layer"),this._zoomAnimated&&ge(t,"leaflet-zoom-animated"),this.options.className&&ge(t,this.options.className),t.onselectstart=G,t.onmousemove=G}}),Yn=$n.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof X||_t(t))?(this._latlng=m(t),Z(this,e)):(Z(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&di(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&di(this._container,1),this.bringToFront(),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(di(this._container,0),this._removeTimeout=setTimeout(y(we,void 0,this._container),200)):we(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=m(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hn(this._container),this},bringToBack:function(){return this._map&&mn(this._container),this},_prepareOpen:function(t){if(!(o=this._source)._map)return!1;if(o instanceof Xi){var e,o=null,l=this._source._layers;for(e in l)if(l[e]._map){o=l[e];break}if(!o)return!1;this._source=o}if(!t)if(o.getCenter)t=o.getCenter();else if(o.getLatLng)t=o.getLatLng();else{if(!o.getBounds)throw new Error("Unable to get source layer LatLng.");t=o.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){var t,e,o;this._map&&(e=this._map.latLngToLayerPoint(this._latlng),t=Te(this.options.offset),o=this._getAnchor(),this._zoomAnimated?Dn(this._container,e.add(o)):t=t.add(e).add(o),e=this._containerBottom=-t.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+t.x,this._container.style.bottom=e+"px",this._container.style.left=o+"px")},_getAnchor:function(){return[0,0]}}),ar=(Sn.include({_initOverlay:function(t,e,o,l){var d=e;return d instanceof t||(d=new t(l).setContent(e)),o&&d.setLatLng(o),d}}),$n.include({_initOverlay:function(t,e,o,l){var d=o;return d instanceof t?(Z(d,l),d._source=this):(d=e&&!l?e:new t(l,this)).setContent(o),d}}),Yn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Yn.prototype.openOn.call(this,t)},onAdd:function(t){Yn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ao||this._source.on("preclick",ce))},onRemove:function(t){Yn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ao||this._source.off("preclick",ce))},getEvents:function(){var t=Yn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=ne("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=ne("div",t+"-content-wrapper",e);this._contentNode=ne("div",t+"-content",o),rn(e),Xe(this._contentNode),nt(e,"contextmenu",ce),this._tipContainer=ne("div",t+"-tip-container",e),this._tip=ne("div",t+"-tip",this._tipContainer),this.options.closeButton&&((o=this._closeButton=ne("a",t+"-close-button",e)).setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',nt(o,"click",function(l){Ye(l),this.close()},this))},_updateLayout:function(){var t=this._contentNode,e=t.style,o=(e.width="",e.whiteSpace="nowrap",t.offsetWidth),l=(o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),e.width=o+1+"px",e.whiteSpace="",e.height="",o=t.offsetHeight,this.options.maxHeight);(l&&l<o?(e.height=l+"px",ge):Oe)(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){e=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);var o=this._getAnchor();Dn(this._container,e.add(o))},_adjustPan:function(){var t,e,o,l,d,R,lt,st;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(t=this._map,e=parseInt(Fe(this._container,"marginBottom"),10)||0,st=this._containerWidth,(o=new Ne(this._containerLeft,-(e=this._container.offsetHeight+e)-this._containerBottom))._add(Hi(this._container)),o=t.layerPointToContainerPoint(o),d=Te(this.options.autoPanPadding),l=Te(this.options.autoPanPaddingTopLeft||d),d=Te(this.options.autoPanPaddingBottomRight||d),R=t.getSize(),lt=0,o.x+st+d.x>R.x&&(lt=o.x+st-R.x+d.x),o.x-lt-l.x<(st=0)&&(lt=o.x-l.x),o.y+e+d.y>R.y&&(st=o.y+e-R.y+d.y),o.y-st-l.y<0&&(st=o.y-l.y),(lt||st)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([lt,st]))))},_getAnchor:function(){return Te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),Uo=(Sn.mergeOptions({closePopupOnClick:!0}),Sn.include({openPopup:function(t,e,o){return this._initOverlay(ar,t,e,o).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),$n.include({bindPopup:function(t,e){return this._popup=this._initOverlay(ar,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Xi||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e;this._popup&&this._map&&(an(t),this._popup._source!==(e=t.layer||t.target)||e instanceof ao?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}}),Yn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Yn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Yn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Yn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){this._contentNode=this._container=ne("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+I(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,o=this._container,l=(ve=this._map).latLngToContainerPoint(ve.getCenter()),ve=ve.layerPointToContainerPoint(t),d=this.options.direction,R=o.offsetWidth,lt=o.offsetHeight,st=Te(this.options.offset),qt=this._getAnchor();ve="top"===d?(e=R/2,lt):"bottom"===d?(e=R/2,0):(e="center"===d?R/2:"right"===d?0:"left"===d?R:ve.x<l.x?(d="right",0):(d="left",R+2*(st.x+qt.x)),lt/2),t=t.subtract(Te(e,ve,!0)).add(st).add(qt),Oe(o,"leaflet-tooltip-right"),Oe(o,"leaflet-tooltip-left"),Oe(o,"leaflet-tooltip-top"),Oe(o,"leaflet-tooltip-bottom"),ge(o,"leaflet-tooltip-"+d),Dn(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&di(this._container,t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),this._setPosition(t)},_getAnchor:function(){return Te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),lr=(Sn.include({openTooltip:function(t,e,o){return this._initOverlay(Uo,t,e,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),$n.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Uo,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){var e,o;!t&&this._tooltipHandlersAdded||(e=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[e](o),this._tooltipHandlersAdded=!t)},openTooltip:function(t){return this._tooltip&&(this instanceof Xi||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(nt(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),nt(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){(t=t.getElement())&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(t=this._map.mouseEventToContainerPoint(t.originalEvent),t=this._map.containerPointToLayerPoint(t),e=this._map.layerPointToLatLng(t)),this._tooltip.setLatLng(e)}}),_i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){e=e&&"DIV"===e.tagName?e:document.createElement("div");var o=this.options;return o.html instanceof Element?(Re(e),e.appendChild(o.html)):e.innerHTML=!1!==o.html?o.html:"",o.bgPos&&(o=Te(o.bgPos),e.style.backgroundPosition=-o.x+"px "+-o.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}));_i.Default=Jo;var Gi=$n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){Z(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),we(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var t;return this._map&&(this._removeAllTiles(),(t=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof Ne?t:new Ne(t,t)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,o=this.getPane().children,l=-t(-1/0,1/0),d=0,R=o.length;d<R;d++)e=o[d].style.zIndex,o[d]!==this._container&&e&&(l=t(l,+e));isFinite(l)&&(this.options.zIndex=l+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pt.ielt9){di(this._container,this.options.opacity);var t,e=+new Date,o=!1,l=!1;for(t in this._tiles){var d,R=this._tiles[t];R.current&&R.loaded&&(d=Math.min(1,(e-R.loaded)/200),di(R.el,d),d<1?o=!0:(R.active?l=!0:this._onOpaqueTile(R),R.active=!0))}l&&!this._noPrune&&this._pruneTiles(),o&&(De(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this))}},_onOpaqueTile:G,_initContainer:function(){this._container||(this._container=ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=e-Math.abs(t-o),this._onUpdateLevel(o)):(we(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var l=this._levels[t],d=this._map;return l||((l=this._levels[t]={}).el=ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=e,l.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,d.getCenter(),d.getZoom()),this._onCreateLevel(l)),this._level=l}},_onUpdateLevel:G,_onRemoveLevel:G,_onCreateLevel:G,_pruneTiles:function(){if(this._map){var t,e,o,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(o=this._tiles[t]).retain=o.current;for(t in this._tiles)(o=this._tiles[t]).current&&!o.active&&(this._retainParent((e=o.coords).x,e.y,e.z,e.z-5)||this._retainChildren(e.x,e.y,e.z,e.z+2));for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)we(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,R,lt,l){lt-=1;var st=((st=new Ne(+(d=Math.floor(d/2)),+(R=Math.floor(R/2)))).z=lt,this._tileCoordsToKey(st));return(st=this._tiles[st])&&st.active?st.retain=!0:(st&&st.loaded&&(st.retain=!0),l<lt&&this._retainParent(d,R,lt,l))},_retainChildren:function(t,e,o,l){for(var d=2*t;d<2*t+2;d++)for(var R=2*e;R<2*e+2;R++){var lt=((lt=new Ne(d,R)).z=o+1,this._tileCoordsToKey(lt));(lt=this._tiles[lt])&&lt.active?lt.retain=!0:(lt&&lt.loaded&&(lt.retain=!0),o+1<l&&this._retainChildren(d,R,o+1,l))}},_resetView:function(t){t=t&&(t.pinch||t.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,o,l){var d=Math.round(e);d=void 0!==this.options.maxZoom&&d>this.options.maxZoom||void 0!==this.options.minZoom&&d<this.options.minZoom?void 0:this._clampZoom(d),l&&!(this.options.updateWhenZooming&&d!==this._tileZoom)||(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==d&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,e)},_setZoomTransform:function(t,d,o){var l=this._map.getZoomScale(o,t.zoom);d=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(d,o)).round(),pt.any3d?Nn(t.el,d,l):Dn(t.el,d)},_resetGrid:function(){var t=this._map,e=t.options.crs,o=this._tileSize=this.getTileSize(),l=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],l).x/o.x),Math.ceil(t.project([0,e.wrapLng[1]],l).x/o.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],l).y/o.x),Math.ceil(t.project([e.wrapLat[1],0],l).y/o.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(o){var e=(l=this._map)._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),l=(e=l.getZoomScale(e,this._tileZoom),o=l.project(o,this._tileZoom).floor(),l.getSize().divideBy(2*e));return new jt(o.subtract(l),o.add(l))},_update:function(t){if(e=this._map){var o=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var l,e=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(e),R=d.getCenter(),lt=[],st=(e=this.options.keepBuffer,new jt(d.getBottomLeft().subtract([e,-e]),d.getTopRight().add([e,-e])));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(l in this._tiles){var qt=this._tiles[l].coords;qt.z===this._tileZoom&&st.contains(new Ne(qt.x,qt.y))||(this._tiles[l].current=!1)}if(1<Math.abs(o-this._tileZoom))this._setView(t,o);else{for(var ve=d.min.y;ve<=d.max.y;ve++)for(var Ue=d.min.x;Ue<=d.max.x;Ue++){var An,fi=new Ne(Ue,ve);fi.z=this._tileZoom,this._isValidTile(fi)&&((An=this._tiles[this._tileCoordsToKey(fi)])?An.current=!0:lt.push(fi))}if(lt.sort(function(ji,Ji){return ji.distanceTo(R)-Ji.distanceTo(R)}),0!==lt.length){this._loading||(this._loading=!0,this.fire("loading"));var Di=document.createDocumentFragment();for(Ue=0;Ue<lt.length;Ue++)this._addTile(lt[Ue],Di);this._level.el.appendChild(Di)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var o=this._globalTileRange;if(!e.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!e.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}return!this.options.bounds||(e=this._tileCoordsToBounds(t),Vt(this.options.bounds).overlaps(e))},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,l=this.getTileSize(),o=t.scaleBy(l);return l=o.add(l),[e.unproject(o,t.z),e.unproject(l,t.z)]},_tileCoordsToBounds:function(t){return t=new W((t=this._tileCoordsToNwSe(t))[0],t[1]),this.options.noWrap?t:this._map.wrapLatLngBounds(t)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(e){var o=new Ne(+(e=e.split(":"))[0],+e[1]);return o.z=+e[2],o},_removeTile:function(t){var e=this._tiles[t];e&&(we(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ge(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=G,t.onmousemove=G,pt.ielt9&&this.options.opacity<1&&di(t,this.options.opacity)},_addTile:function(t,e){var o=this._getTilePos(t),l=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),y(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&_e(y(this._tileReady,this,t,null,d)),Dn(d,o),this._tiles[l]={el:d,coords:t,current:!0},e.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,e,o){e&&this.fire("tileerror",{error:e,tile:o,coords:t});var l=this._tileCoordsToKey(t);(o=this._tiles[l])&&(o.loaded=+new Date,this._map._fadeAnimated?(di(o.el,0),De(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),e||(ge(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pt.ielt9||!this._map._fadeAnimated?_e(this._pruneTiles,this):setTimeout(y(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new Ne(this._wrapX?k(t.x,this._wrapX):t.x,this._wrapY?k(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new jt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),yi=Gi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=Z(this,e)).detectRetina&&pt.retina&&0<e.maxZoom?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var o=document.createElement("img");return nt(o,"load",y(this._tileOnLoad,this,e,o)),nt(o,"error",y(this._tileOnError,this,e,o)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(t),o},getTileUrl:function(t){var e={r:pt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(t=this._globalTileRange.max.y-t.y,this.options.tms&&(e.y=t),e["-y"]=t),at(this._url,Q(e,this.options))},_tileOnLoad:function(t,e){pt.ielt9?setTimeout(y(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,o){var l=this.options.errorTileUrl;l&&e.getAttribute("src")!==l&&(e.src=l),t(o,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom;return(t=this.options.zoomReverse?this.options.maxZoom-t:t)+this.options.zoomOffset},_getSubdomain:function(t){return t=Math.abs(t.x+t.y)%this.options.subdomains.length,this.options.subdomains[t]},_abortLoading:function(){var t,e,o;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((o=this._tiles[t].el).onload=G,o.onerror=G,o.complete||(o.src=re,e=this._tiles[t].coords,we(o),delete this._tiles[t],this.fire("tileabort",{tile:o,coords:e})))},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",re),Gi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,o){if(this._map&&(!o||o.getAttribute("src")!==re))return Gi.prototype._tileReady.call(this,t,e,o)}});function to(t,e){return new yi(t,e)}var qo=yi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,e){this._url=d;var o,l=Q({},this.defaultWmsParams);for(o in e)o in this.options||(l[o]=e[o]);d=(e=Z(this,e)).detectRetina&&pt.retina?2:1;var R=this.getTileSize();l.width=R.x*d,l.height=R.y*d,this.wmsParams=l},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code,yi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),o=(e=(o=ei((o=this._crs).project(e[0]),o.project(e[1]))).min,o.max);return e=(1.3<=this._wmsVersion&&this._crs===jo?[e.y,e.x,o.y,o.x]:[e.x,e.y,o.x,o.y]).join(","),(o=yi.prototype.getTileUrl.call(this,t))+et(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+e},setParams:function(t,e){return Q(this.wmsParams,t),e||this.redraw(),this}});yi.WMS=qo,to.wms=function(t,e){return new qo(t,e)};var po=$n.extend({options:{padding:.1},initialize:function(t){Z(this,t),I(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var o=this._map.getZoomScale(e,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,e);d=d.multiplyBy(-o).add(l).subtract(this._map._getNewPixelOrigin(t,e)),pt.any3d?Nn(this._container,d,o):Dn(this._container,d)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),o=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new jt(o,o.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mo=po.extend({options:{tolerance:0},getEvents:function(){var t=po.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){po.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");nt(t,"mousemove",this._onMouseMove,this),nt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),nt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){De(this._redrawRequest),delete this._ctx,we(this._container),wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){var t,e,o,l;this._map._animatingZoom&&this._bounds||(po.prototype._update.call(this),e=this._container,o=(t=this._bounds).getSize(),l=pt.retina?2:1,Dn(e,t.min),e.width=l*o.x,e.height=l*o.y,e.style.width=o.x+"px",e.style.height=o.y+"px",pt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update"))},_reset:function(){po.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),t=(this._layers[I(t)]=t)._order={layer:t,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=(o=t._order).next,o=o.prev;e?e.prev=o:this._drawLast=o,o?o.next=e:this._drawFirst=e,delete t._order,delete this._layers[I(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){for(var e,o=t.options.dashArray.split(/[, ]+/),l=[],d=0;d<o.length;d++){if(e=Number(o[d]),isNaN(e))return;l.push(e)}t.options._dashArray=l}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||_e(this._redraw,this))},_extendRedrawBounds:function(t){var e;t._pxBounds&&(e=(t.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new jt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t,e=this._redrawBounds;e?(t=e.getSize(),this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var t,e,o=this._redrawBounds;this._ctx.save(),o&&(e=o.getSize(),this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,e.x,e.y),this._ctx.clip()),this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!o||t._pxBounds&&t._pxBounds.intersects(o))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var o,l,d,R,lt=t._parts,st=lt.length,qt=this._ctx;if(st){for(qt.beginPath(),o=0;o<st;o++){for(l=0,d=lt[o].length;l<d;l++)qt[l?"lineTo":"moveTo"]((R=lt[o][l]).x,R.y);e&&qt.closePath()}this._fillStroke(qt,t)}}},_updateCircle:function(t){var e,o,l,d;this._drawing&&!t._empty()&&(e=t._point,o=this._ctx,l=Math.max(Math.round(t._radius),1),1!=(d=(Math.max(Math.round(t._radiusY),1)||l)/l)&&(o.save(),o.scale(1,d)),o.beginPath(),o.arc(e.x,e.y/d,l,0,2*Math.PI,!1),1!=d&&o.restore(),this._fillStroke(o,t))},_fillStroke:function(t,e){var o=e.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&0!==o.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var e,o,l=this._map.mouseEventToLayerPoint(t),d=this._drawFirst;d;d=d.next)(e=d.layer).options.interactive&&e._containsPoint(l)&&(("click"===t.type||"preclick"===t.type)&&this._map._draggableMoved(e)||(o=e));this._fireEvent(!!o&&[o],t)},_onMouseMove:function(t){var e;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(e=this._map.mouseEventToLayerPoint(t),this._handleMouseHover(t,e))},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var o,l,d=this._drawFirst;d;d=d.next)(o=d.layer).options.interactive&&o._containsPoint(e)&&(l=o);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(ge(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,o){this._map._fireDOMEvent(e,o||e.type,t)},_bringToFront:function(t){var e,o,l=t._order;l&&(o=l.prev,(e=l.next)&&((e.prev=o)?o.next=e:e&&(this._drawFirst=e),l.prev=this._drawLast,(this._drawLast.next=l).next=null,this._drawLast=l,this._requestRedraw(t)))},_bringToBack:function(t){var e,o,l=t._order;l&&(e=l.next,(o=l.prev)&&((o.next=e)?e.prev=o:o&&(this._drawLast=o),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(t)))}});function wr(t){return pt.canvas?new mo(t):null}var No=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Wo=(Qo={_initContainer:function(){this._container=ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(po.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=No("shape");ge(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=No("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[I(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;we(e),t.removeInteractiveTarget(e),delete this._layers[I(t)]},_updateStyle:function(t){var e=t._stroke,o=t._fill,l=t.options,d=t._container;d.stroked=!!l.stroke,d.filled=!!l.fill,l.stroke?(e=e||(t._stroke=No("stroke")),d.appendChild(e),e.weight=l.weight+"px",e.color=l.color,e.opacity=l.opacity,e.dashStyle=l.dashArray?_t(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):"",e.endcap=l.lineCap.replace("butt","flat"),e.joinstyle=l.lineJoin):e&&(d.removeChild(e),t._stroke=null),l.fill?(o=o||(t._fill=No("fill")),d.appendChild(o),o.color=l.fillColor||l.color,o.opacity=l.fillOpacity):o&&(d.removeChild(o),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),o=Math.round(t._radius),l=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+o+","+l+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){hn(t._container)},_bringToBack:function(t){mn(t._container)}},pt.vml?No:ut),Zo=po.extend({_initContainer:function(){this._container=Wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){we(this._container),wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var t,e,o;this._map._animatingZoom&&this._bounds||(po.prototype._update.call(this),e=(t=this._bounds).getSize(),o=this._container,this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,o.setAttribute("width",e.x),o.setAttribute("height",e.y)),Dn(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update"))},_initPath:function(t){var e=t._path=Wo("path");t.options.className&&ge(e,t.options.className),t.options.interactive&&ge(e,"leaflet-interactive"),this._updateStyle(t),this._layers[I(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){we(t._path),t.removeInteractiveTarget(t._path),delete this._layers[I(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(o){var e=o._path;o=o.options,e&&(o.stroke?(e.setAttribute("stroke",o.color),e.setAttribute("stroke-opacity",o.opacity),e.setAttribute("stroke-width",o.weight),e.setAttribute("stroke-linecap",o.lineCap),e.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?e.setAttribute("stroke-dasharray",o.dashArray):e.removeAttribute("stroke-dasharray"),o.dashOffset?e.setAttribute("stroke-dashoffset",o.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),o.fill?(e.setAttribute("fill",o.fillColor||o.color),e.setAttribute("fill-opacity",o.fillOpacity),e.setAttribute("fill-rule",o.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Ut(t._parts,e))},_updateCircle:function(t){var l=t._point,e=Math.max(Math.round(t._radius),1),o="a"+e+","+(Math.max(Math.round(t._radiusY),1)||e)+" 0 1,0 ";l=t._empty()?"M0 0":"M"+(l.x-e)+","+l.y+o+2*e+",0 "+o+2*-e+",0 ",this._setPath(t,l)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){hn(t._path)},_bringToBack:function(t){mn(t._path)}});function Tr(t){return pt.svg||pt.vml?new Zo(t):null}pt.vml&&Zo.include(Qo),Sn.include({getRenderer:function(t){return t=(t=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(t){var e;return"overlayPane"!==t&&void 0!==t&&(void 0===(e=this._paneRenderers[t])&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e)},_createRenderer:function(t){return this.options.preferCanvas&&wr(t)||Tr(t)}});var vr=rr.extend({initialize:function(t,e){rr.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=Vt(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Zo.create=Wo,Zo.pointsToPath=Ut,ii.geometryToLayer=xo,ii.coordsToLatLng=Wi,ii.coordsToLatLngs=Pi,ii.latLngToCoords=Po,ii.latLngsToCoords=Mo,ii.getFeature=Io,ii.asFeature=sr,Sn.mergeOptions({boxZoom:!0}),go=Kn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){we(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),yn(),zi(),this._startPoint=this._map.mouseEventToContainerPoint(t),nt(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ne("div","leaflet-zoom-box",this._container),ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var o=(e=new jt(this._point,this._startPoint)).getSize();Dn(this._box,e.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(we(this._box),Oe(this._container,"leaflet-crosshair")),dn(),Bi(),wt(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){1!==t.which&&1!==t.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(y(this._resetState,this),0),t=new W(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})))},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),Sn.addInitHook("addHandler","boxZoom",go),Sn.mergeOptions({doubleClickZoom:!0}),co=Kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,l=e.getZoom(),o=e.options.zoomDelta;l=t.originalEvent.shiftKey?l-o:l+o,"center"===e.options.doubleClickZoom?e.setZoom(l):e.setZoomAround(t.containerPoint,l)}});var Ki=(Sn.addInitHook("addHandler","doubleClickZoom",co),Sn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),Kn.extend({addHooks:function(){var t;this._draggable||(this._draggable=new Ei((t=this._map)._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))),ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t,e=this._map;e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(t=Vt(this._map.options.maxBounds),this._offsetLimit=ei(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){var e,o;this._map.options.inertia&&(e=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(o),this._times.push(e),this._prunePositions(e)),this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){var t,e;this._viscosity&&this._offsetLimit&&((t=this._draggable._newPos.subtract(this._draggable._startPos)).x<(e=this._offsetLimit).min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t))},_onPreDragWrap:function(){var d=this._worldWidth,t=Math.round(d/2),e=this._initialWorldOffset,o=((l=this._draggable._newPos.x)-t+e)%d+t-e,l=(l+t+e)%d-t-e;d=Math.abs(o+e)<Math.abs(l+e)?o:l,this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=d},_onDragEnd:function(t){var e,o,l,d,R=this._map,lt=R.options,st=!lt.inertia||t.noInertia||this._times.length<2;R.fire("dragend",t),!st&&(this._prunePositions(+new Date),st=(t=(t=this._lastPos.subtract(this._positions[0])).multiplyBy((e=lt.easeLinearity)/(st=(this._lastTime-this._times[0])/1e3))).distanceTo([0,0]),o=Math.min(lt.inertiaMaxSpeed,st),t=t.multiplyBy(o/st),(d=t.multiplyBy(-(l=o/(lt.inertiaDeceleration*e))/2).round()).x||d.y)?(d=R._limitOffset(d,R.options.maxBounds),_e(function(){R.panBy(d,{duration:l,easeLinearity:e,noMoveStart:!0,animate:!0})})):R.fire("moveend")}})),cr=(Sn.addInitHook("addHandler","dragging",Ki),Sn.mergeOptions({keyboard:!0,keyboardPanDelta:80}),en=Kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),nt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var t,e,o;this._focused||(o=document.body,t=document.documentElement,e=o.scrollTop||t.scrollTop,o=o.scrollLeft||t.scrollLeft,this._map._container.focus(),window.scrollTo(o,e))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){for(var e=this._panKeys={},o=this.keyCodes,l=0,d=o.left.length;l<d;l++)e[o.left[l]]=[-1*t,0];for(l=0,d=o.right.length;l<d;l++)e[o.right[l]]=[t,0];for(l=0,d=o.down.length;l<d;l++)e[o.down[l]]=[0,t];for(l=0,d=o.up.length;l<d;l++)e[o.up[l]]=[0,-1*t]},_setZoomDelta:function(t){for(var e=this._zoomKeys={},o=this.keyCodes,l=0,d=o.zoomIn.length;l<d;l++)e[o.zoomIn[l]]=t;for(l=0,d=o.zoomOut.length;l<d;l++)e[o.zoomOut[l]]=-t},_addHooks:function(){nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,o,l=t.keyCode,d=this._map;if(l in this._panKeys)d._panAnim&&d._panAnim._inProgress||(o=this._panKeys[l],t.shiftKey&&(o=Te(o).multiplyBy(3)),d.options.maxBounds&&(o=d._limitOffset(Te(o),d.options.maxBounds)),d.options.worldCopyJump?(e=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(o))),d.panTo(e)):d.panBy(o));else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[l]);else{if(27!==l||!d._popup||!d._popup.options.closeOnEscapeKey)return;d.closePopup()}an(t)}}}),Sn.addInitHook("addHandler","keyboard",en),Sn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),zo=Kn.extend({addHooks:function(){nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var o=de(t),e=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date),o=Math.max(e-(+new Date-this._startTime),0),clearTimeout(this._timer),this._timer=setTimeout(y(this._performZoom,this),o),an(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),o=this._map.options.zoomSnap||0,l=(t._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel));l=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,o=o?Math.ceil(l/o)*o:l,l=t._limitZoom(e+(0<this._delta?o:-o))-e,this._delta=0,this._startTime=null,l&&("center"===t.options.scrollWheelZoom?t.setZoom(e+l):t.setZoomAround(this._lastMousePos,e+l))}}),Sn.addInitHook("addHandler","scrollWheelZoom",zo),Sn.mergeOptions({tapHold:pt.touchNative&&pt.safari&&pt.mobile,tapTolerance:15}),Do=Kn.extend({addHooks:function(){nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){var e;clearTimeout(this._holdTimeout),1===t.touches.length&&(this._startPos=this._newPos=new Ne((e=t.touches[0]).clientX,e.clientY),this._holdTimeout=setTimeout(y(function(){this._cancel(),this._isTapValid()&&(nt(document,"touchend",Ye),nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),600),nt(document,"touchend touchcancel contextmenu",this._cancel,this),nt(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function t(){wt(document,"touchend",Ye),wt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)},_onMove:function(t){this._newPos=new Ne((t=t.touches[0]).clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){(t=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY}))._simulated=!0,e.target.dispatchEvent(t)}}),Sn.addInitHook("addHandler","tapHold",Do),Sn.mergeOptions({touchZoom:pt.touch,bounceAtZoomLimits:!0}),vo=Kn.extend({addHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e,o,l=this._map;!t.touches||2!==t.touches.length||l._animatingZoom||this._zooming||(e=l.mouseEventToContainerPoint(t.touches[0]),o=l.mouseEventToContainerPoint(t.touches[1]),this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),"center"!==l.options.touchZoom&&(this._pinchStartLatLng=l.containerPointToLatLng(e.add(o)._divideBy(2))),this._startDist=e.distanceTo(o),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),nt(document,"touchmove",this._onTouchMove,this),nt(document,"touchend touchcancel",this._onTouchEnd,this),Ye(t))},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,o=e.mouseEventToContainerPoint(t.touches[0]),l=e.mouseEventToContainerPoint(t.touches[1]),d=o.distanceTo(l)/this._startDist;if(this._zoom=e.getScaleZoom(d,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&d<1||this._zoom>e.getMaxZoom()&&1<d)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==d)return}else{if(o=o._add(l)._divideBy(2)._subtract(this._centerPoint),1==d&&0===o.x&&0===o.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),De(this._animRequest),l=y(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0),this._animRequest=_e(l,this,!0),Ye(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,De(this._animRequest),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}),Sn.addInitHook("addHandler","touchZoom",vo),Sn.BoxZoom=go,Sn.DoubleClickZoom=co,Sn.Drag=Ki,Sn.Keyboard=en,Sn.ScrollWheelZoom=zo,Sn.TapHold=Do,Sn.TouchZoom=vo,M.Bounds=jt,M.Browser=pt,M.CRS=O,M.Canvas=mo,M.Circle=lo,M.CircleMarker=Vo,M.Class=xn,M.Control=Si,M.DivIcon=lr,M.DivOverlay=Yn,M.DomEvent=ri,M.DomUtil=Ft,M.Draggable=Ei,M.Evented=Gn,M.FeatureGroup=Xi,M.GeoJSON=ii,M.GridLayer=Gi,M.Handler=Kn,M.Icon=_i,M.ImageOverlay=fo,M.LatLng=X,M.LatLngBounds=W,M.Layer=$n,M.LayerGroup=qi,M.LineUtil=b,M.Map=Sn,M.Marker=vi,M.Mixin=uo,M.Path=ao,M.Point=Ne,M.PolyUtil=Go,M.Polygon=rr,M.Polyline=Oi,M.Popup=ar,M.PosAnimation=Ri,M.Projection=fr,M.Rectangle=vr,M.Renderer=po,M.SVG=Zo,M.SVGOverlay=Er,M.TileLayer=yi,M.Tooltip=Uo,M.Transformation=B,M.Util=Pe,M.VideoOverlay=Ro,M.bind=y,M.bounds=ei,M.canvas=wr,M.circle=function(t,e,o){return new lo(t,e,o)},M.circleMarker=function(t,e){return new Vo(t,e)},M.control=Fi,M.divIcon=function(t){return new lr(t)},M.extend=Q,M.featureGroup=function(t,e){return new Xi(t,e)},M.geoJSON=$i,M.geoJson=So,M.gridLayer=function(t){return new Gi(t)},M.icon=function(t){return new _i(t)},M.imageOverlay=function(t,e,o){return new fo(t,e,o)},M.latLng=m,M.latLngBounds=Vt,M.layerGroup=function(t,e){return new qi(t,e)},M.map=function(t,e){return new Sn(t,e)},M.marker=function(t,e){return new vi(t,e)},M.point=Te,M.polygon=function(t,e){return new rr(t,e)},M.polyline=function(t,e){return new Oi(t,e)},M.popup=function(t,e){return new ar(t,e)},M.rectangle=function(t,e){return new vr(t,e)},M.setOptions=Z,M.stamp=I,M.svg=Tr,M.svgOverlay=function(t,e,o){return new Er(t,e,o)},M.tileLayer=to,M.tooltip=function(t,e){return new Uo(t,e)},M.transformation=Y,M.version="1.9.3",M.videoOverlay=function(t,e,o){return new Ro(t,e,o)},window.L);M.noConflict=function(){return window.L=cr,this},window.L=M}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M=M||self).FilePondPluginFileValidateType=Q()}(this,function(){"use strict";var M=function(Q){var Ot=Q.addFilter,D=Q.utils,y=D.Type,p=D.isString,I=D.replaceInString,E=D.guesstimateMimeType,k=D.getExtensionFromFilename,G=D.getFilenameFromURL,q=function(x,Z){return x.some(function(et){return/\*$/.test(et)?(gt=et,(/^[^/]+/.exec(Z)||[]).pop()===gt.slice(0,-2)):et===Z;var gt})},ot=function(x,Z,et){if(0===Z.length)return!0;var gt=function(at){var _t="";if(p(at)){var Xt=G(at),re=k(Xt);re&&(_t=E(re))}else _t=at.type;return _t}(x);return et?new Promise(function(at,_t){et(x,gt).then(function(Xt){q(Z,Xt)?at():_t()}).catch(_t)}):q(Z,gt)};return Ot("SET_ATTRIBUTE_TO_OPTION_MAP",function(x){return Object.assign(x,{accept:"acceptedFileTypes"})}),Ot("ALLOW_HOPPER_ITEM",function(x,Z){var et=Z.query;return!et("GET_ALLOW_FILE_TYPE_VALIDATION")||ot(x,et("GET_ACCEPTED_FILE_TYPES"))}),Ot("LOAD_FILE",function(x,Z){var et=Z.query;return new Promise(function(gt,at){if(et("GET_ALLOW_FILE_TYPE_VALIDATION")){var _t=et("GET_ACCEPTED_FILE_TYPES"),Xt=et("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),re=ot(x,_t,Xt),le=function(){var be,yt=_t.map((be=et("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"),function(je){return null!==be[je]&&(be[je]||je)})).filter(function(je){return!1!==je}),Ie=yt.filter(function(je,_e){return yt.indexOf(je)===_e});at({status:{main:et("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:I(et("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:Ie.join(", "),allButLastType:Ie.slice(0,-1).join(", "),lastType:Ie[yt.length-1]})}})};if("boolean"==typeof re)return re?gt(x):le();re.then(function(){gt(x)}).catch(le)}else gt(x)})}),{options:{allowFileTypeValidation:[!0,y.BOOLEAN],acceptedFileTypes:[[],y.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",y.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",y.STRING],fileValidateTypeLabelExpectedTypesMap:[{},y.OBJECT],fileValidateTypeDetectType:[null,y.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:M})),M}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M=M||self).FilePondPluginFileValidateSize=Q()}(this,function(){"use strict";var M=function(Q){var Ot=Q.addFilter,D=Q.utils,y=D.Type,p=D.replaceInString,I=D.toNaturalFileSize;return Ot("ALLOW_HOPPER_ITEM",function(E,k){var G=k.query;if(!G("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var q=G("GET_MAX_FILE_SIZE");if(null!==q&&E.size>q)return!1;var ot=G("GET_MIN_FILE_SIZE");return!(null!==ot&&E.size<ot)}),Ot("LOAD_FILE",function(E,k){var G=k.query;return new Promise(function(q,ot){if(!G("GET_ALLOW_FILE_SIZE_VALIDATION"))return q(E);var x=G("GET_FILE_VALIDATE_SIZE_FILTER");if(x&&!x(E))return q(E);var Z=G("GET_MAX_FILE_SIZE");if(null!==Z&&E.size>Z)ot({status:{main:G("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:p(G("GET_LABEL_MAX_FILE_SIZE"),{filesize:I(Z,".",G("GET_FILE_SIZE_BASE"),G("GET_FILE_SIZE_LABELS",G))})}});else{var et=G("GET_MIN_FILE_SIZE");if(null!==et&&E.size<et)ot({status:{main:G("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:p(G("GET_LABEL_MIN_FILE_SIZE"),{filesize:I(et,".",G("GET_FILE_SIZE_BASE"),G("GET_FILE_SIZE_LABELS",G))})}});else{var gt=G("GET_MAX_TOTAL_FILE_SIZE");if(null!==gt&&G("GET_ACTIVE_ITEMS").reduce(function(at,_t){return at+_t.fileSize},0)>gt)return void ot({status:{main:G("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:p(G("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:I(gt,".",G("GET_FILE_SIZE_BASE"),G("GET_FILE_SIZE_LABELS",G))})}});q(E)}}})}),{options:{allowFileSizeValidation:[!0,y.BOOLEAN],maxFileSize:[null,y.INT],minFileSize:[null,y.INT],maxTotalFileSize:[null,y.INT],fileValidateSizeFilter:[null,y.FUNCTION],labelMinFileSizeExceeded:["File is too small",y.STRING],labelMinFileSize:["Minimum file size is {filesize}",y.STRING],labelMaxFileSizeExceeded:["File is too large",y.STRING],labelMaxFileSize:["Maximum file size is {filesize}",y.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",y.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",y.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:M})),M}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M=M||self).FilePondPluginImagePreview=Q()}(this,function(){"use strict";function M(w){this.wrapped=w}function Q(w){var B,Y;function it(ut,Ut){try{var Ft=w[ut](Ut),b=Ft.value,c=b instanceof M;Promise.resolve(c?b.wrapped:b).then(function(h){c?it("next",h):St(Ft.done?"return":"normal",h)},function(h){it("throw",h)})}catch(h){St("throw",h)}}function St(ut,Ut){switch(ut){case"return":B.resolve({value:Ut,done:!0});break;case"throw":B.reject(Ut);break;default:B.resolve({value:Ut,done:!1})}(B=B.next)?it(B.key,B.arg):Y=null}this._invoke=function(ut,Ut){return new Promise(function(Ft,b){var c={key:ut,arg:Ut,resolve:Ft,reject:b,next:null};Y?Y=Y.next=c:(B=Y=c,it(ut,Ut))})},"function"!=typeof w.return&&(this.return=void 0)}function Ot(w,B){return function D(w){if(Array.isArray(w))return w}(w)||function(Y,it){var St=[],ut=!0,Ut=!1,Ft=void 0;try{for(var b,c=Y[Symbol.iterator]();!(ut=(b=c.next()).done)&&(St.push(b.value),!it||St.length!==it);ut=!0);}catch(h){Ut=!0,Ft=h}finally{try{ut||null==c.return||c.return()}finally{if(Ut)throw Ft}}return St}(w,B)||function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(Q.prototype[Symbol.asyncIterator]=function(){return this}),Q.prototype.next=function(w){return this._invoke("next",w)},Q.prototype.throw=function(w){return this._invoke("throw",w)},Q.prototype.return=function(w){return this._invoke("return",w)};var p=function(w,B){return k(w.x*B,w.y*B)},I=function(w,B){return k(w.x+B.x,w.y+B.y)},E=function(w,B,Y){var it=Math.cos(B),St=Math.sin(B),ut=k(w.x-Y.x,w.y-Y.y);return k(Y.x+it*ut.x-St*ut.y,Y.y+St*ut.x+it*ut.y)},k=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},G=function(w,B){var Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,it=arguments.length>3?arguments[3]:void 0;return"string"==typeof w?parseFloat(w)*Y:"number"==typeof w?w*(it?B[it]:Math.min(B.width,B.height)):void 0},q=function(w){return null!=w},ot=function(w,B){return Object.keys(B).forEach(function(Y){return w.setAttribute(Y,B[Y])})},x=function(w,B){var Y=document.createElementNS("http://www.w3.org/2000/svg",w);return B&&ot(Y,B),Y},Z={contain:"xMidYMid meet",cover:"xMidYMid slice"},et={left:"start",center:"middle",right:"end"},gt=function(w){return function(B){return x(w,{id:B.id})}},at={image:function(w){var B=x("image",{id:w.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return B.onload=function(){B.setAttribute("opacity",w.opacity||1)},B.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w.src),B},rect:gt("rect"),ellipse:gt("ellipse"),text:gt("text"),path:gt("path"),line:function(w){var B=x("g",{id:w.id,"stroke-linecap":"round","stroke-linejoin":"round"}),Y=x("line");B.appendChild(Y);var it=x("path");B.appendChild(it);var St=x("path");return B.appendChild(St),B}},_t={rect:function(w){return ot(w,Object.assign({},w.rect,w.styles))},ellipse:function(w){return ot(w,Object.assign({cx:w.rect.x+.5*w.rect.width,cy:w.rect.y+.5*w.rect.height,rx:.5*w.rect.width,ry:.5*w.rect.height},w.styles))},image:function(w,B){ot(w,Object.assign({},w.rect,w.styles,{preserveAspectRatio:Z[B.fit]||"none"}))},text:function(w,B,Y,it){var St=G(B.fontSize,Y,it);ot(w,Object.assign({},w.rect,w.styles,{"stroke-width":0,"font-weight":B.fontWeight||"normal","font-size":St,"font-family":B.fontFamily||"sans-serif","text-anchor":et[B.textAlign]||"start"})),w.text!==B.text&&(w.text=B.text,w.textContent=B.text.length?B.text:" ")},path:function(w,B,Y,it){var St;ot(w,Object.assign({},w.styles,{fill:"none",d:(St=B.points.map(function(ut){return{x:G(ut.x,Y,it,"width"),y:G(ut.y,Y,it,"height")}}),St.map(function(ut,Ut){return"".concat(0===Ut?"M":"L"," ").concat(ut.x," ").concat(ut.y)}).join(" "))}))},line:function(w,B,Y,it){ot(w,Object.assign({},w.rect,w.styles,{fill:"none"}));var Mt,kt,ut=w.childNodes[1],Ut=w.childNodes[2],Ft=w.rect,b={x:w.rect.x+w.rect.width,y:w.rect.y+w.rect.height};if(ot(w.childNodes[0],{x1:Ft.x,y1:Ft.y,x2:b.x,y2:b.y}),B.lineDecoration){ut.style.display="none",Ut.style.display="none";var c=(Mt={x:b.x-Ft.x,y:b.y-Ft.y},0===(kt=Math.sqrt(Mt.x*Mt.x+Mt.y*Mt.y))?{x:0,y:0}:k(Mt.x/kt,Mt.y/kt)),h=G(.05,Y,it);if(-1!==B.lineDecoration.indexOf("arrow-begin")){var j=p(c,h),U=I(Ft,j),$=E(Ft,2,U),K=E(Ft,-2,U);ot(ut,{style:"display:block;",d:"M".concat($.x,",").concat($.y," L").concat(Ft.x,",").concat(Ft.y," L").concat(K.x,",").concat(K.y)})}if(-1!==B.lineDecoration.indexOf("arrow-end")){var ct=p(c,-h),It=I(b,ct),Pt=E(b,2,It),tt=E(b,-2,It);ot(Ut,{style:"display:block;",d:"M".concat(Pt.x,",").concat(Pt.y," L").concat(b.x,",").concat(b.y," L").concat(tt.x,",").concat(tt.y)})}}}},re=["x","y","left","top","right","bottom","width","height"],le=function(w){var B=Ot(w,2),Y=B[0],it=B[1],St=it.points?{}:re.reduce(function(ut,Ut){var Ft;return ut[Ut]="string"==typeof(Ft=it[Ut])&&/%/.test(Ft)?parseFloat(Ft)/100:Ft,ut},{});return[Y,Object.assign({zIndex:0},it,St)]},be=function(w,B){return w[1].zIndex>B[1].zIndex?1:w[1].zIndex<B[1].zIndex?-1:0},Ie=function(w,B){return{x:w,y:B}},je=function(w,B){return Ie(w.x-B.x,w.y-B.y)},_e=function(w,B){return Math.sqrt((St=je(Y=w,it=B),ut=je(Y,it),St.x*ut.x+St.y*ut.y));var Y,it,St,ut},De=function(w,B){var Y=w,it=B,St=1.5707963267948966-B,ut=Math.sin(1.5707963267948966),Ut=Math.sin(it),Ft=Math.sin(St),b=Math.cos(St),c=Y/ut;return Ie(b*(c*Ut),b*(c*Ft))},Pe=function(w,B,Y,it){var c,h,U,$,K,ct,It,Pt,Ut=2*(it.x>.5?1-it.x:it.x)*w.width,Ft=2*(it.y>.5?1-it.y:it.y)*w.height,b=(U=(c=B).height,$=De(c.width,h=Y),K=De(U,h),ct=Ie(c.x+Math.abs($.x),c.y-Math.abs($.y)),It=Ie(c.x+c.width+Math.abs(K.y),c.y+Math.abs(K.x)),Pt=Ie(c.x-Math.abs(K.y),c.y+c.height-Math.abs(K.x)),{width:_e(ct,It),height:_e(ct,Pt)});return Math.max(b.width/Ut,b.height/Ft)},xn=function(w,B){var Y=w.width,it=Y*B;return it>w.height&&(Y=(it=w.height)/B),{x:.5*(w.width-Y),y:.5*(w.height-it),width:Y,height:it}},Gn={type:"spring",stiffness:.5,damping:.45,mass:10},Ne=function(w){return w.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(B){var it=B.props;it.background&&(B.root.element.style.backgroundColor=it.background)},create:function(B){var ut,Y=B.root,it=B.props;Y.ref.image=Y.appendChildView(Y.createChildView((ut=w).utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Gn,originY:Gn,scaleX:Gn,scaleY:Gn,translateX:Gn,translateY:Gn,rotateZ:Gn}},create:function(Ut){var Ft=Ut.root,b=Ut.props;b.width=b.image.width,b.height=b.image.height,Ft.ref.bitmap=Ft.appendChildView(Ft.createChildView(ut.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(h){h.root.appendChild(h.props.image)}}),{image:b.image}))},write:function(Ut){var b=Ut.props.crop.flip,c=Ut.root.ref.bitmap;c.scaleX=b.horizontal?-1:1,c.scaleY=b.vertical?-1:1}}),Object.assign({},it))),Y.ref.createMarkup=function(){Y.ref.markup||(Y.ref.markup=Y.appendChildView(Y.createChildView(function(w){return w.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(B){var Y=B.root,it=B.props;if(it.dirty){var St=it.crop,ut=it.resize,Ut=it.markup,Ft=it.width,b=it.height,c=St.width,h=St.height;if(ut){var j=ut.size,U=j&&j.width,$=j&&j.height,K=ut.mode;U&&!$&&($=U),$&&!U&&(U=$);var It=c<U&&h<$;if(!It||It&&ut.upscale){var Pt,tt=U/c,Mt=$/h;"force"===K?(c=U,h=$):("cover"===K?Pt=Math.max(tt,Mt):"contain"===K&&(Pt=Math.min(tt,Mt)),c*=Pt,h*=Pt)}}var kt={width:Ft,height:b};Y.element.setAttribute("width",kt.width),Y.element.setAttribute("height",kt.height);var pt=Math.min(Ft/c,b/h);Y.element.innerHTML="";var Wt=Y.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");Ut.filter(Wt).map(le).sort(be).forEach(function(ee){var Se=Ot(ee,2),Ae=Se[0],ze=Se[1],Me=at[Ae](ze);(function(w,B,Y,it,St){var ut,Ut,Ft,b,c,h,j;"path"!==B&&(w.rect=function(ut,Ut){var Ft=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,b=G(ut.x,Ut,Ft,"width")||G(ut.left,Ut,Ft,"width"),c=G(ut.y,Ut,Ft,"height")||G(ut.top,Ut,Ft,"height"),h=G(ut.width,Ut,Ft,"width"),j=G(ut.height,Ut,Ft,"height"),U=G(ut.right,Ut,Ft,"width"),$=G(ut.bottom,Ut,Ft,"height");return q(c)||(c=q(j)&&q($)?Ut.height-j-$:$),q(b)||(b=q(h)&&q(U)?Ut.width-h-U:U),q(h)||(h=q(b)&&q(U)?Ut.width-b-U:0),q(j)||(j=q(c)&&q($)?Ut.height-c-$:0),{x:b||0,y:c||0,width:h||0,height:j||0}}(Y,it,St)),w.styles=(b=(ut=Y).borderStyle||ut.lineStyle||"solid",c=ut.backgroundColor||ut.fontColor||"transparent",h=ut.borderColor||ut.lineColor||"transparent",j=G(ut.borderWidth||ut.lineWidth,Ut=it,Ft=St),{"stroke-linecap":ut.lineCap||"round","stroke-linejoin":ut.lineJoin||"round","stroke-width":j||0,"stroke-dasharray":"string"==typeof b?"":b.map(function(U){return G(U,Ut,Ft)}).join(","),stroke:h,fill:c,opacity:ut.opacity||1}),_t[B](w,Y,it,St)})(Me,Ae,ze,kt,pt),Y.element.appendChild(Me)})}}})}(w),Object.assign({},it))))},Y.ref.destroyMarkup=function(){Y.ref.markup&&(Y.removeChildView(Y.ref.markup),Y.ref.markup=null)};var St=Y.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==St&&(Y.element.dataset.transparencyIndicator="grid"===St?St:"color")},write:function(B){var Y=B.root,it=B.props,St=B.shouldOptimize,ut=it.crop,Ut=it.markup,Ft=it.resize,b=it.dirty,c=it.width,h=it.height;Y.ref.image.crop=ut;var j={x:0,y:0,width:c,height:h,center:{x:.5*c,y:.5*h}},U={width:Y.ref.image.width,height:Y.ref.image.height},$={x:ut.center.x*U.width,y:ut.center.y*U.height},K={x:j.center.x-U.width*ut.center.x,y:j.center.y-U.height*ut.center.y},ct=2*Math.PI+ut.rotation%(2*Math.PI),Pt=void 0===ut.scaleToFit||ut.scaleToFit,tt=Pe(U,xn(j,ut.aspectRatio||U.height/U.width),ct,Pt?ut.center:{x:.5,y:.5}),Mt=ut.zoom*tt;Ut&&Ut.length?(Y.ref.createMarkup(),Y.ref.markup.width=c,Y.ref.markup.height=h,Y.ref.markup.resize=Ft,Y.ref.markup.dirty=b,Y.ref.markup.markup=Ut,Y.ref.markup.crop=function(w){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Y=B.zoom,it=B.rotation,St=B.center,ut=B.aspectRatio;ut||(ut=w.height/w.width);var Ut=function(j,U){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,K=j.height/j.width,It=1,Pt=K;Pt>U&&(It=(Pt=U)/K);var tt=Math.max(1/It,U/Pt),Mt=j.width/($*tt*It);return{width:Mt,height:Mt*U}}(w,ut,Y),c=void 0===B.scaleToFit||B.scaleToFit,h=Y*Pe(w,xn({x:0,y:0,width:Ut.width,height:Ut.height,center:{x:.5*Ut.width,y:.5*Ut.height}},ut),it,c?St:{x:.5,y:.5});return{widthFloat:Ut.width/h,heightFloat:Ut.height/h,width:Math.round(Ut.width/h),height:Math.round(Ut.height/h)}}(U,ut)):Y.ref.markup&&Y.ref.destroyMarkup();var kt=Y.ref.image;if(St)return kt.originX=null,kt.originY=null,kt.translateX=null,kt.translateY=null,kt.rotateZ=null,kt.scaleX=null,void(kt.scaleY=null);kt.originX=$.x,kt.originY=$.y,kt.translateX=K.x,kt.translateY=K.y,kt.rotateZ=ct,kt.scaleX=Mt,kt.scaleY=Mt}})},qn=0,Te=function(){self.onmessage=function(w){createImageBitmap(w.data.message.file).then(function(B){self.postMessage({id:w.data.id,message:B},[B])})}},jt=function(){self.onmessage=function(w){for(var B=w.data.message.imageData,Y=w.data.message.colorMatrix,it=B.data,St=it.length,ut=Y[0],Ut=Y[1],Ft=Y[2],b=Y[3],c=Y[4],h=Y[5],j=Y[6],U=Y[7],$=Y[8],K=Y[9],ct=Y[10],It=Y[11],Pt=Y[12],tt=Y[13],Mt=Y[14],kt=Y[15],pt=Y[16],Wt=Y[17],ee=Y[18],Se=Y[19],Ae=0,ze=0,Me=0,Qt=0,Yt=0;Ae<St;Ae+=4)ze=it[Ae]/255,Me=it[Ae+1]/255,Qt=it[Ae+2]/255,Yt=it[Ae+3]/255,it[Ae]=Math.max(0,Math.min(255*(ze*ut+Me*Ut+Qt*Ft+Yt*b+c),255)),it[Ae+1]=Math.max(0,Math.min(255*(ze*h+Me*j+Qt*U+Yt*$+K),255)),it[Ae+2]=Math.max(0,Math.min(255*(ze*ct+Me*It+Qt*Pt+Yt*tt+Mt),255)),it[Ae+3]=Math.max(0,Math.min(255*(ze*kt+Me*pt+Qt*Wt+Yt*ee+Se),255));self.postMessage({id:w.data.id,message:B},[B.data.buffer])}},ei={1:function(){return[1,0,0,1,0,0]},2:function(w){return[-1,0,0,1,w,0]},3:function(w,B){return[-1,0,0,-1,w,B]},4:function(w,B){return[1,0,0,-1,0,B]},5:function(){return[0,1,1,0,0,0]},6:function(w,B){return[0,1,-1,0,B,0]},7:function(w,B){return[0,-1,-1,0,B,w]},8:function(w){return[0,-1,1,0,0,w]}},Vt=function(w){return/^image/.test(w.type)&&!/svg/.test(w.type)},m=function(w,B){return Math.floor(Math.sqrt(w/(B/4)))},F=function(w){var B=w.addFilter,Y=w.utils,it=Y.Type,St=Y.createRoute,ut=Y.isFile,Ut=function(w){var b,B=w.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(b){var c=b.root,h=b.props,j='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>';if(document.querySelector("base")){var U=new URL(window.location.href.replace(window.location.hash,"")).href;j=j.replace(/url\(\#/g,"url("+U+"#")}qn++,c.element.classList.add("filepond--image-preview-overlay-".concat(h.status)),c.element.innerHTML=j.replace(/__UID__/g,qn)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Y=(b=w).utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Gn,scaleY:Gn,translateY:Gn,opacity:{type:"tween",duration:400}}},create:function(c){var h=c.root,j=c.props;h.ref.clip=h.appendChildView(h.createChildView(Ne(b),{id:j.id,image:j.image,crop:j.crop,markup:j.markup,resize:j.resize,dirty:j.dirty,background:j.background}))},write:function(c){var h=c.root,j=c.props,U=c.shouldOptimize,$=h.ref.clip,K=j.image,ct=j.crop,It=j.markup,Pt=j.resize,tt=j.dirty;if($.crop=ct,$.markup=It,$.resize=Pt,$.dirty=tt,$.opacity=U?0:1,!U&&!h.rect.element.hidden){var kt=ct.aspectRatio||K.height/K.width,pt=h.rect.inner.width,Wt=h.rect.inner.height,ee=h.query("GET_IMAGE_PREVIEW_HEIGHT"),Se=h.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),Ae=h.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),ze=h.query("GET_PANEL_ASPECT_RATIO"),Me=h.query("GET_ALLOW_MULTIPLE");ze&&!Me&&(ee=pt*ze,kt=ze);var Qt=null!==ee?ee:Math.max(Se,Math.min(pt*kt,Ae)),Yt=Qt/kt;Yt>pt&&(Qt=(Yt=pt)*kt),Qt>Wt&&(Qt=Wt,Yt=Wt/kt),$.width=Yt,$.height=Qt}}}),it=w.utils.createWorker,St=function(b,c,h){return new Promise(function(j){b.ref.imageData||(b.ref.imageData=h.getContext("2d").getImageData(0,0,h.width,h.height));var U=function(K){var ct;try{ct=new ImageData(K.width,K.height)}catch(It){ct=document.createElement("canvas").getContext("2d").createImageData(K.width,K.height)}return ct.data.set(new Uint8ClampedArray(K.data)),ct}(b.ref.imageData);if(!c||20!==c.length)return h.getContext("2d").putImageData(U,0,0),j();var $=it(jt);$.post({imageData:U,colorMatrix:c},function(K){h.getContext("2d").putImageData(K,0,0),$.terminate(),j()},[U.data.buffer])})},ut=function(b){var c=b.root,j=b.image,U=b.props.id,$=c.query("GET_ITEM",{id:U});if($){var K,ct,It=$.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},Pt=c.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),tt=!1;c.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(K=$.getMetadata("markup")||[],ct=$.getMetadata("resize"),tt=!0);var Mt=c.appendChildView(c.createChildView(Y,{id:U,image:j,crop:It,resize:ct,markup:K,dirty:tt,background:Pt,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),c.childViews.length);c.ref.images.push(Mt),Mt.opacity=1,Mt.scaleX=1,Mt.scaleY=1,Mt.translateY=0,setTimeout(function(){c.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:U})},250)}},Ut=function(b){var c=b.root;c.ref.overlayShadow.opacity=1,c.ref.overlayError.opacity=0,c.ref.overlaySuccess.opacity=0},Ft=function(b){var c=b.root;c.ref.overlayShadow.opacity=.25,c.ref.overlayError.opacity=1};return w.utils.createView({name:"image-preview-wrapper",create:function(b){var c=b.root;c.ref.images=[],c.ref.imageData=null,c.ref.imageViewBin=[],c.ref.overlayShadow=c.appendChildView(c.createChildView(B,{opacity:0,status:"idle"})),c.ref.overlaySuccess=c.appendChildView(c.createChildView(B,{opacity:0,status:"success"})),c.ref.overlayError=c.appendChildView(c.createChildView(B,{opacity:0,status:"failure"}))},styles:["height"],apis:["height"],destroy:function(b){b.root.ref.images.forEach(function(c){c.image.width=1,c.image.height=1})},didWriteView:function(b){b.root.ref.images.forEach(function(c){c.dirty=!1})},write:w.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:function(b){var c=b.root,h=c.ref.images[c.ref.images.length-1];h.translateY=0,h.scaleX=1,h.scaleY=1,h.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:function(b){var U,$,K,c=b.root,h=b.props.id,j=c.query("GET_ITEM",h);j&&(U=URL.createObjectURL(j.file),$=function(It,Pt){c.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:h,width:It,height:Pt})},(K=new Image).onload=function(){var It=K.naturalWidth,Pt=K.naturalHeight;K=null,$(It,Pt)},K.src=U)},DID_FINISH_CALCULATE_PREVIEWSIZE:function(b){var c=b.root,h=b.props,U=c.query("GET_ITEM",h.id);if(U){var $,K,ct=URL.createObjectURL(U.file),It=function(){var Mt;(Mt=ct,new Promise(function(kt,pt){var Wt=new Image;Wt.crossOrigin="Anonymous",Wt.onload=function(){kt(Wt)},Wt.onerror=function(ee){pt(ee)},Wt.src=Mt})).then(Pt)},Pt=function(Mt){URL.revokeObjectURL(ct);var kt=(U.getMetadata("exif")||{}).orientation||-1,pt=Mt.width,Wt=Mt.height;if(pt&&Wt){if(kt>=5&&kt<=8){var ee=[Wt,pt];pt=ee[0],Wt=ee[1]}var Se=Math.max(1,.75*window.devicePixelRatio),Ae=c.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*Se,ze=Wt/pt,Me=c.rect.element.width,Qt=c.rect.element.height,Yt=Me,Le=Yt*ze;ze>1?Le=(Yt=Math.min(pt,Me*Ae))*ze:Yt=(Le=Math.min(Wt,Qt*Ae))/ze;var te=function(w,B,Y,it){B=Math.round(B),Y=Math.round(Y);var St=document.createElement("canvas");St.width=B,St.height=Y;var Ft,h,ut=St.getContext("2d");if(it>=5&&it<=8){var Ut=[Y,B];B=Ut[0],Y=Ut[1]}return Ft=ut,-1!==(h=it)&&Ft.transform.apply(Ft,ei[h](B,Y)),ut.drawImage(w,0,0,B,Y),St}(Mt,Yt,Le,kt),In=function(){var xe=c.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?function(w){var B=Math.min(10/w.width,10/w.height),Y=document.createElement("canvas"),it=Y.getContext("2d"),St=Y.width=Math.ceil(w.width*B),ut=Y.height=Math.ceil(w.height*B);it.drawImage(w,0,0,St,ut);var Ut=null;try{Ut=it.getImageData(0,0,St,ut).data}catch(U){return null}for(var Ft=Ut.length,b=0,c=0,h=0,j=0;j<Ft;j+=4)b+=Ut[j]*Ut[j],c+=Ut[j+1]*Ut[j+1],h+=Ut[j+2]*Ut[j+2];return{r:b=m(b,Ft),g:c=m(c,Ft),b:h=m(h,Ft)}}(data):null;U.setMetadata("color",xe,!0),"close"in Mt&&Mt.close(),c.ref.overlayShadow.opacity=1,ut({root:c,props:h,image:te})},bt=U.getMetadata("filter");bt?St(c,bt,te).then(In):In()}};if($=U.file,((K=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./))?parseInt(K[1]):null)<=58||!("createImageBitmap"in window)||!Vt($))It();else{var tt=it(Te);tt.post({file:U.file},function(Mt){tt.terminate(),Mt?Pt(Mt):It()})}}},DID_UPDATE_ITEM_METADATA:function(b){var kt,pt,c=b.root,h=b.props,j=b.action;if(/crop|filter|markup|resize/.test(j.change.key)&&c.ref.images.length){var U=c.query("GET_ITEM",{id:h.id});if(U)if(/filter/.test(j.change.key))St(c,j.change.value,c.ref.images[c.ref.images.length-1].image);else{if(/crop|markup|resize/.test(j.change.key)){var K=U.getMetadata("crop"),ct=c.ref.images[c.ref.images.length-1];if(K&&K.aspectRatio&&ct.crop&&ct.crop.aspectRatio&&Math.abs(K.aspectRatio-ct.crop.aspectRatio)>1e-5){var It=((pt=(kt={root:c}.root).ref.images.shift()).opacity=0,pt.translateY=-15,kt.ref.imageViewBin.push(pt),pt);ut({root:c,props:h,image:(Pt=It.image,(tt=tt||document.createElement("canvas")).width=Pt.width,tt.height=Pt.height,tt.getContext("2d").drawImage(Pt,0,0),tt)})}else!function(Mt){var kt=Mt.root,Wt=kt.query("GET_ITEM",{id:Mt.props.id});if(Wt){var ee=kt.ref.images[kt.ref.images.length-1];ee.crop=Wt.getMetadata("crop"),ee.background=kt.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),kt.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(ee.dirty=!0,ee.resize=Wt.getMetadata("resize"),ee.markup=Wt.getMetadata("markup"))}}({root:c,props:h})}var Pt,tt}}},DID_THROW_ITEM_LOAD_ERROR:Ft,DID_THROW_ITEM_PROCESSING_ERROR:Ft,DID_THROW_ITEM_INVALID:Ft,DID_COMPLETE_ITEM_PROCESSING:function(b){var c=b.root;c.ref.overlayShadow.opacity=.25,c.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:Ut,DID_REVERT_ITEM_PROCESSING:Ut},function(b){var c=b.root,h=c.ref.imageViewBin.filter(function(j){return 0===j.opacity});c.ref.imageViewBin=c.ref.imageViewBin.filter(function(j){return j.opacity>0}),h.forEach(function(j){return c.removeChildView($=j),$.image.width=1,$.image.height=1,void $._destroy();var $}),h.length=0})})}(w);return B("CREATE_VIEW",function(Ft){var c=Ft.view,h=Ft.query;if((0,Ft.is)("file")&&h("GET_ALLOW_IMAGE_PREVIEW")){var j=function(U){U.root.ref.shouldRescale=!0};c.registerWriter(St({DID_RESIZE_ROOT:j,DID_STOP_RESIZE:j,DID_LOAD_ITEM:function(U){var $=U.root,K=U.props.id,ct=h("GET_ITEM",K);if(ct&&ut(ct.file)&&!ct.archived){var It=ct.file;if(/^image/.test(It.type)&&h("GET_IMAGE_PREVIEW_FILTER_ITEM")(ct)){var Pt="createImageBitmap"in(window||{}),tt=h("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!Pt&&tt&&It.size>tt)){$.ref.imagePreview=c.appendChildView(c.createChildView(Ut,{id:K}));var Mt=$.query("GET_IMAGE_PREVIEW_HEIGHT");Mt&&$.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:ct.id,height:Mt});var kt=!Pt&&It.size>h("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");$.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:K},kt)}}}},DID_IMAGE_PREVIEW_CALCULATE_SIZE:function(U){var $=U.root,K=U.action;$.ref.imageWidth=K.width,$.ref.imageHeight=K.height,$.ref.shouldRescale=!0,$.ref.shouldDrawPreview=!0,$.dispatch("KICK")},DID_UPDATE_ITEM_METADATA:function(U){"crop"===U.action.change.key&&(U.root.ref.shouldRescale=!0)}},function(U){var $=U.root,K=U.props;$.ref.imagePreview&&($.rect.element.hidden||($.ref.shouldRescale&&(function(ct,It){if(ct.ref.imagePreview){var tt=ct.query("GET_ITEM",{id:It.id});if(tt){var Mt=ct.query("GET_PANEL_ASPECT_RATIO"),kt=ct.query("GET_ITEM_PANEL_ASPECT_RATIO"),pt=ct.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(Mt||kt||pt)){var Wt=ct.ref,ee=Wt.imageWidth,Se=Wt.imageHeight;if(ee&&Se){var Ae=ct.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),ze=ct.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),Me=(tt.getMetadata("exif")||{}).orientation||-1;if(Me>=5&&Me<=8){var Qt=[Se,ee];ee=Qt[0],Se=Qt[1]}if(!Vt(tt.file)||ct.query("GET_IMAGE_PREVIEW_UPSCALE")){var Yt=2048/ee;ee*=Yt,Se*=Yt}var Le=Se/ee,te=(tt.getMetadata("crop")||{}).aspectRatio||Le,In=Math.max(Ae,Math.min(Se,ze)),xe=Math.min(ct.rect.element.width*te,In);ct.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:tt.id,height:xe})}}}}}($,K),$.ref.shouldRescale=!1),$.ref.shouldDrawPreview&&(requestAnimationFrame(function(){requestAnimationFrame(function(){$.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:K.id})})}),$.ref.shouldDrawPreview=!1)))}))}}),{options:{allowImagePreview:[!0,it.BOOLEAN],imagePreviewFilterItem:[function(){return!0},it.FUNCTION],imagePreviewHeight:[null,it.INT],imagePreviewMinHeight:[44,it.INT],imagePreviewMaxHeight:[256,it.INT],imagePreviewMaxFileSize:[null,it.INT],imagePreviewZoomFactor:[2,it.INT],imagePreviewUpscale:[!1,it.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,it.INT],imagePreviewTransparencyIndicator:[null,it.STRING],imagePreviewCalculateAverageImageColor:[!1,it.BOOLEAN],imagePreviewMarkupShow:[!0,it.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},it.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:F})),F}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M=M||self).FilePondPluginImageCrop=Q()}(this,function(){"use strict";var M=function(Ot){return/^image/.test(Ot.type)},Q=function(Ot){var D=Ot.addFilter,y=Ot.utils,p=y.Type,I=y.isFile,E=y.getNumericAspectRatioFromString,k=function(x,Z){return!(!M(x.file)||!Z("GET_ALLOW_IMAGE_CROP"))},G=function(x){return"object"==typeof x},q=function(x){return"number"==typeof x},ot=function(x,Z){return x.setMetadata("crop",Object.assign({},x.getMetadata("crop"),Z))};return D("DID_CREATE_ITEM",function(x,Z){var et=Z.query;x.extend("setImageCrop",function(gt){if(k(x,et)&&G(center))return x.setMetadata("crop",gt),gt}),x.extend("setImageCropCenter",function(gt){if(k(x,et)&&G(gt))return ot(x,{center:gt})}),x.extend("setImageCropZoom",function(gt){if(k(x,et)&&q(gt))return ot(x,{zoom:Math.max(1,gt)})}),x.extend("setImageCropRotation",function(gt){if(k(x,et)&&q(gt))return ot(x,{rotation:gt})}),x.extend("setImageCropFlip",function(gt){if(k(x,et)&&G(gt))return ot(x,{flip:gt})}),x.extend("setImageCropAspectRatio",function(gt){if(k(x,et)&&void 0!==gt){var at=x.getMetadata("crop"),_t=E(gt),Xt={center:{x:.5,y:.5},flip:at?Object.assign({},at.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:_t};return x.setMetadata("crop",Xt),Xt}})}),D("DID_LOAD_ITEM",function(x,Z){var et=Z.query;return new Promise(function(gt,at){var _t=x.file;if(!I(_t)||!M(_t)||!et("GET_ALLOW_IMAGE_CROP")||x.getMetadata("crop"))return gt(x);var Xt=et("GET_IMAGE_CROP_ASPECT_RATIO");x.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:Xt?E(Xt):null}),gt(x)})}),{options:{allowImageCrop:[!0,p.BOOLEAN],imageCropAspectRatio:[null,p.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Q})),Q}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M=M||self).FilePondPluginImageResize=Q()}(this,function(){"use strict";var M=function(Q){var D=Q.utils.Type;return(0,Q.addFilter)("DID_LOAD_ITEM",function(y,p){var I=p.query;return new Promise(function(E,k){var G=y.file;if(!/^image/.test(G.type)||!I("GET_ALLOW_IMAGE_RESIZE"))return E(y);var q=I("GET_IMAGE_RESIZE_MODE"),ot=I("GET_IMAGE_RESIZE_TARGET_WIDTH"),x=I("GET_IMAGE_RESIZE_TARGET_HEIGHT"),Z=I("GET_IMAGE_RESIZE_UPSCALE");if(null===ot&&null===x)return E(y);var et,gt,at,_t=null===ot?x:ot,Xt=null===x?_t:x,re=URL.createObjectURL(G);et=re,gt=function(le){if(URL.revokeObjectURL(re),!le)return E(y);var be=le.width,yt=le.height,Ie=(y.getMetadata("exif")||{}).orientation||-1;if(Ie>=5&&Ie<=8){var je=[yt,be];be=je[0],yt=je[1]}if(be===_t&&yt===Xt)return E(y);if(!Z)if("cover"===q){if(be<=_t||yt<=Xt)return E(y)}else if(be<=_t&&yt<=_t)return E(y);y.setMetadata("resize",{mode:q,upscale:Z,size:{width:_t,height:Xt}}),E(y)},(at=new Image).onload=function(){var le=at.naturalWidth,be=at.naturalHeight;at=null,gt({width:le,height:be})},at.onerror=function(){return gt(null)},at.src=et})}),{options:{allowImageResize:[!0,D.BOOLEAN],imageResizeMode:["cover",D.STRING],imageResizeUpscale:[!0,D.BOOLEAN],imageResizeTargetWidth:[null,D.INT],imageResizeTargetHeight:[null,D.INT]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:M})),M}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Q():"function"==typeof define&&define.amd?define(Q):(M=M||self).FilePondPluginImageTransform=Q()}(this,function(){"use strict";var M={jpeg:"jpg","svg+xml":"svg"},Q={1:function(){return[1,0,0,1,0,0]},2:function(b){return[-1,0,0,1,b,0]},3:function(b,c){return[-1,0,0,-1,b,c]},4:function(b,c){return[1,0,0,-1,0,c]},5:function(){return[0,1,1,0,0,0]},6:function(b,c){return[0,1,-1,0,c,0]},7:function(b,c){return[0,-1,-1,0,c,b]},8:function(b){return[0,-1,1,0,0,b]}},Ot=function(b,c){return{x:b,y:c}},D=function(b,c){return Ot(b.x-c.x,b.y-c.y)},y=function(b,c){return Math.sqrt((U=D(h=b,j=c),$=D(h,j),U.x*$.x+U.y*$.y));var h,j,U,$},p=function(b,c){var h=b,j=c,U=1.5707963267948966-c,$=Math.sin(1.5707963267948966),K=Math.sin(j),ct=Math.sin(U),It=Math.cos(U),Pt=h/$;return Ot(It*(Pt*K),It*(Pt*ct))},I=function(b,c){var Pt,tt,kt,pt,Wt,ee,Se,Ae,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},U=j.x>.5?1-j.x:j.x,$=j.y>.5?1-j.y:j.y,K=2*U*b.width,ct=2*$*b.height,It=(kt=(Pt=c).height,pt=p(Pt.width,tt=h),Wt=p(kt,tt),ee=Ot(Pt.x+Math.abs(pt.x),Pt.y-Math.abs(pt.y)),Se=Ot(Pt.x+Pt.width+Math.abs(Wt.y),Pt.y+Math.abs(Wt.x)),Ae=Ot(Pt.x-Math.abs(Wt.y),Pt.y+Pt.height-Math.abs(Wt.x)),{width:y(ee,Se),height:y(ee,Ae)});return Math.max(It.width/K,It.height/ct)},E=function(b,c){var h=b.width,j=h*c;return j>b.height&&(h=(j=b.height)/c),{x:.5*(b.width-h),y:.5*(b.height-j),width:h,height:j}},k=function(b,c){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,j=b.height/b.width,U=c,$=1,K=j;K>U&&($=(K=U)/j);var ct=Math.max(1/$,U/K),It=b.width/(h*ct*$);return{width:It,height:It*c}},G=function(b){b.width=1,b.height=1,b.getContext("2d").clearRect(0,0,1,1)},q=function(b){return b&&(b.horizontal||b.vertical)},ot=function(b,c,h){if(c<=1&&!q(h))return b.width=b.naturalWidth,b.height=b.naturalHeight,b;var j=document.createElement("canvas"),U=b.naturalWidth,$=b.naturalHeight,K=c>=5&&c<=8;K?(j.width=$,j.height=U):(j.width=U,j.height=$);var Mt,ct=j.getContext("2d");if(c&&ct.transform.apply(ct,(-1===(Mt=c)&&(Mt=1),Q[Mt](U,$))),q(h)){var It=[1,0,0,1,0,0];(!K&&h.horizontal||K&h.vertical)&&(It[0]=-1,It[4]=U),(!K&&h.vertical||K&&h.horizontal)&&(It[3]=-1,It[5]=$),ct.transform.apply(ct,It)}return ct.drawImage(b,0,0,U,$),j};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(b,c,h){var j=this.toDataURL(c,h).split(",")[1];setTimeout(function(){for(var U=atob(j),$=U.length,K=new Uint8Array($),ct=0;ct<$;ct++)K[ct]=U.charCodeAt(ct);b(new Blob([K],{type:c||"image/png"}))})}}));var x=function(b,c){return at(b.x*c,b.y*c)},Z=function(b,c){return at(b.x+c.x,b.y+c.y)},et=function(b){var c=Math.sqrt(b.x*b.x+b.y*b.y);return 0===c?{x:0,y:0}:at(b.x/c,b.y/c)},gt=function(b,c,h){var j=Math.cos(c),U=Math.sin(c),$=at(b.x-h.x,b.y-h.y);return at(h.x+j*$.x-U*$.y,h.y+U*$.x+j*$.y)},at=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},_t=function(b,c){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,j=arguments.length>3?arguments[3]:void 0;return"string"==typeof b?parseFloat(b)*h:"number"==typeof b?b*(j?c[j]:Math.min(c.width,c.height)):void 0},Xt=function(b,c,h){var j=b.borderStyle||b.lineStyle||"solid",U=b.backgroundColor||b.fontColor||"transparent",$=b.borderColor||b.lineColor||"transparent",K=_t(b.borderWidth||b.lineWidth,c,h);return{"stroke-linecap":b.lineCap||"round","stroke-linejoin":b.lineJoin||"round","stroke-width":K||0,"stroke-dasharray":"string"==typeof j?"":j.map(function(ct){return _t(ct,c,h)}).join(","),stroke:$,fill:U,opacity:b.opacity||1}},re=function(b){return null!=b},le=function(b,c){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,j=_t(b.x,c,h,"width")||_t(b.left,c,h,"width"),U=_t(b.y,c,h,"height")||_t(b.top,c,h,"height"),$=_t(b.width,c,h,"width"),K=_t(b.height,c,h,"height"),ct=_t(b.right,c,h,"width"),It=_t(b.bottom,c,h,"height");return re(U)||(U=re(K)&&re(It)?c.height-K-It:It),re(j)||(j=re($)&&re(ct)?c.width-$-ct:ct),re($)||($=re(j)&&re(ct)?c.width-j-ct:0),re(K)||(K=re(U)&&re(It)?c.height-U-It:0),{x:j||0,y:U||0,width:$||0,height:K||0}},be=function(b,c){return Object.keys(c).forEach(function(h){return b.setAttribute(h,c[h])})},yt=function(b,c){var h=document.createElementNS("http://www.w3.org/2000/svg",b);return c&&be(h,c),h},Ie={contain:"xMidYMid meet",cover:"xMidYMid slice"},je={left:"start",center:"middle",right:"end"},_e=function(b){return function(c){return yt(b,{id:c.id})}},De={image:function(b){var c=yt("image",{id:b.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return c.onload=function(){c.setAttribute("opacity",b.opacity||1)},c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b.src),c},rect:_e("rect"),ellipse:_e("ellipse"),text:_e("text"),path:_e("path"),line:function(b){var c=yt("g",{id:b.id,"stroke-linecap":"round","stroke-linejoin":"round"}),h=yt("line");c.appendChild(h);var j=yt("path");c.appendChild(j);var U=yt("path");return c.appendChild(U),c}},Pe={rect:function(b){return be(b,Object.assign({},b.rect,b.styles))},ellipse:function(b){return be(b,Object.assign({cx:b.rect.x+.5*b.rect.width,cy:b.rect.y+.5*b.rect.height,rx:.5*b.rect.width,ry:.5*b.rect.height},b.styles))},image:function(b,c){be(b,Object.assign({},b.rect,b.styles,{preserveAspectRatio:Ie[c.fit]||"none"}))},text:function(b,c,h,j){var U=_t(c.fontSize,h,j);be(b,Object.assign({},b.rect,b.styles,{"stroke-width":0,"font-weight":c.fontWeight||"normal","font-size":U,"font-family":c.fontFamily||"sans-serif","text-anchor":je[c.textAlign]||"start"})),b.text!==c.text&&(b.text=c.text,b.textContent=c.text.length?c.text:" ")},path:function(b,c,h,j){var U;be(b,Object.assign({},b.styles,{fill:"none",d:(U=c.points.map(function($){return{x:_t($.x,h,j,"width"),y:_t($.y,h,j,"height")}}),U.map(function($,K){return"".concat(0===K?"M":"L"," ").concat($.x," ").concat($.y)}).join(" "))}))},line:function(b,c,h,j){be(b,Object.assign({},b.rect,b.styles,{fill:"none"}));var $=b.childNodes[1],K=b.childNodes[2],ct=b.rect,It={x:b.rect.x+b.rect.width,y:b.rect.y+b.rect.height};if(be(b.childNodes[0],{x1:ct.x,y1:ct.y,x2:It.x,y2:It.y}),c.lineDecoration){$.style.display="none",K.style.display="none";var Pt=et({x:It.x-ct.x,y:It.y-ct.y}),tt=_t(.05,h,j);if(-1!==c.lineDecoration.indexOf("arrow-begin")){var Mt=x(Pt,tt),kt=Z(ct,Mt),pt=gt(ct,2,kt),Wt=gt(ct,-2,kt);be($,{style:"display:block;",d:"M".concat(pt.x,",").concat(pt.y," L").concat(ct.x,",").concat(ct.y," L").concat(Wt.x,",").concat(Wt.y)})}if(-1!==c.lineDecoration.indexOf("arrow-end")){var ee=x(Pt,-tt),Se=Z(It,ee),Ae=gt(It,2,Se),ze=gt(It,-2,Se);be(K,{style:"display:block;",d:"M".concat(Ae.x,",").concat(Ae.y," L").concat(It.x,",").concat(It.y," L").concat(ze.x,",").concat(ze.y)})}}}},xn=function(b,c){return b[1].zIndex>c[1].zIndex?1:b[1].zIndex<c[1].zIndex?-1:0},Fn=function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2?arguments[2]:void 0,j=arguments.length>3?arguments[3]:void 0;return new Promise(function(U){var $=j.background,K=void 0===$?null:$,ct=new FileReader;ct.onloadend=function(){var It=ct.result,Pt=document.createElement("div");Pt.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",Pt.innerHTML=It;var tt=Pt.querySelector("svg");document.body.appendChild(Pt);var Mt=tt.getBBox();Pt.parentNode.removeChild(Pt);var kt=Pt.querySelector("title"),pt=tt.getAttribute("viewBox")||"",Wt=tt.getAttribute("width")||"",ee=tt.getAttribute("height")||"",Se=parseFloat(Wt)||null,Ae=parseFloat(ee)||null,ze=(Wt.match(/[a-z]+/)||[])[0]||"",Me=(ee.match(/[a-z]+/)||[])[0]||"",Qt=pt.split(" ").map(parseFloat),Yt=Qt.length?{x:Qt[0],y:Qt[1],width:Qt[2],height:Qt[3]}:Mt,Le=null!=Se?Se:Yt.width,te=null!=Ae?Ae:Yt.height;tt.style.overflow="visible",tt.setAttribute("width",Le),tt.setAttribute("height",te);var In="";if(h&&h.length){var bt={width:Le,height:te};In=h.sort(xn).reduce(function(Re,hn){var Oe,Rn,on,di,Zn,ge=De[hn[0]](hn[1]);return Oe=ge,on=hn[1],di=bt,"path"!==(Rn=hn[0])&&(Oe.rect=le(on,di,Zn)),Oe.styles=Xt(on,di,Zn),Pe[Rn](Oe,on,di,Zn),ge.removeAttribute("id"),1===ge.getAttribute("opacity")&&ge.removeAttribute("opacity"),Re+"\n"+ge.outerHTML+"\n"},""),In="\n\n<g>".concat(In.replace(/&nbsp;/g," "),"</g>\n\n")}var xe=c.aspectRatio||te/Le,ie=Le,Ke=ie*xe,qe=void 0===c.scaleToFit||c.scaleToFit,Qe=c.center?c.center.x:.5,yn=c.center?c.center.y:.5,dn=I({width:Le,height:te},E({width:ie,height:Ke},xe),c.rotation,qe?{x:Qe,y:yn}:{x:.5,y:.5}),Cn=c.zoom*dn,bn=c.rotation*(180/Math.PI),wn={x:.5*ie,y:.5*Ke},En={x:wn.x-Le*Qe,y:wn.y-te*yn},hi=["rotate(".concat(bn," ").concat(wn.x," ").concat(wn.y,")"),"translate(".concat(wn.x," ").concat(wn.y,")"),"scale(".concat(Cn,")"),"translate(".concat(-wn.x," ").concat(-wn.y,")"),"translate(".concat(En.x," ").concat(En.y,")")],Wn=c.flip&&c.flip.horizontal,Fe=c.flip&&c.flip.vertical,ne=["scale(".concat(Wn?-1:1," ").concat(Fe?-1:1,")"),"translate(".concat(Wn?-Le:0," ").concat(Fe?-te:0,")")],we='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(ie).concat(ze,'" height="').concat(Ke).concat(Me,'" \nviewBox="0 0 ').concat(ie," ").concat(Ke,'" ').concat(K?'style="background:'+K+'" ':"",'\npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(kt?kt.textContent:"",'</title>\n<g transform="').concat(hi.join(" "),'">\n<g transform="').concat(ne.join(" "),'">\n').concat(tt.outerHTML).concat(In,"\n</g>\n</g>\n</svg>");U(we)},ct.readAsText(b)})},Gn=function(){var b={resize:function(Pt,tt){var Mt=tt.mode,kt=void 0===Mt?"contain":Mt,pt=tt.upscale,Wt=void 0!==pt&&pt,ee=tt.width,Se=tt.height,Ae=tt.matrix;if(Ae=!Ae||ct(Ae)?null:Ae,!ee&&!Se)return It(Pt,Ae);if(null===ee?ee=Se:null===Se&&(Se=ee),"force"!==kt){var ze=ee/Pt.width,Me=Se/Pt.height,Qt=1;if("cover"===kt?Qt=Math.max(ze,Me):"contain"===kt&&(Qt=Math.min(ze,Me)),Qt>1&&!1===Wt)return It(Pt,Ae);ee=Pt.width*Qt,Se=Pt.height*Qt}for(var Yt=Pt.width,Le=Pt.height,te=Math.round(ee),In=Math.round(Se),bt=Pt.data,xe=new Uint8ClampedArray(te*In*4),ie=Yt/te,Ke=Le/In,qe=Math.ceil(.5*ie),Qe=Math.ceil(.5*Ke),yn=0;yn<In;yn++)for(var dn=0;dn<te;dn++){for(var Cn=4*(dn+yn*te),bn=0,wn=0,En=0,hi=0,Wn=0,Fe=0,ne=0,we=(yn+.5)*Ke,Re=Math.floor(yn*Ke);Re<(yn+1)*Ke;Re++)for(var hn=Math.abs(we-(Re+.5))/Qe,mn=(dn+.5)*ie,He=hn*hn,ge=Math.floor(dn*ie);ge<(dn+1)*ie;ge++){var Oe=Math.abs(mn-(ge+.5))/qe,Rn=Math.sqrt(He+Oe*Oe);if(Rn>=-1&&Rn<=1&&(bn=2*Rn*Rn*Rn-3*Rn*Rn+1)>0){var on=bt[3+(Oe=4*(ge+Re*Yt))];ne+=bn*on,En+=bn,on<255&&(bn=bn*on/250),hi+=bn*bt[Oe],Wn+=bn*bt[Oe+1],Fe+=bn*bt[Oe+2],wn+=bn}}xe[Cn]=hi/wn,xe[Cn+1]=Wn/wn,xe[Cn+2]=Fe/wn,xe[Cn+3]=ne/En,Ae&&$(Cn,xe,Ae)}return{data:xe,width:te,height:In}},filter:It};function $(Pt,tt,Mt){var kt=tt[Pt]/255,pt=tt[Pt+1]/255,Wt=tt[Pt+2]/255,ee=tt[Pt+3]/255,Ae=kt*Mt[5]+pt*Mt[6]+Wt*Mt[7]+ee*Mt[8]+Mt[9],ze=kt*Mt[10]+pt*Mt[11]+Wt*Mt[12]+ee*Mt[13]+Mt[14],Me=kt*Mt[15]+pt*Mt[16]+Wt*Mt[17]+ee*Mt[18]+Mt[19],Qt=Math.max(0,(kt*Mt[0]+pt*Mt[1]+Wt*Mt[2]+ee*Mt[3]+Mt[4])*Me)+1*(1-Me),Yt=Math.max(0,Ae*Me)+1*(1-Me),Le=Math.max(0,ze*Me)+1*(1-Me);tt[Pt]=255*Math.max(0,Math.min(1,Qt)),tt[Pt+1]=255*Math.max(0,Math.min(1,Yt)),tt[Pt+2]=255*Math.max(0,Math.min(1,Le))}self.onmessage=function(Pt){!function(Pt,tt){var ee,Mt=Pt.transforms,kt=null;if(Mt.forEach(function(Wt){"filter"===Wt.type&&(kt=Wt)}),kt){var pt=null;Mt.forEach(function(Wt){"resize"===Wt.type&&(pt=Wt)}),pt&&(pt.data.matrix=kt.data,Mt=Mt.filter(function(Wt){return"filter"!==Wt.type}))}tt((ee=Pt.imageData,Mt.forEach(function(Se){ee=b[Se.type](ee,Se.data)}),ee))}(Pt.data.message,function(tt){self.postMessage({id:Pt.data.id,message:tt},[tt.data.buffer])})};var K=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function ct(Pt){return self.JSON.stringify(Pt||[])===K}function It(Pt,tt){if(!tt||ct(tt))return Pt;for(var Mt=Pt.data,kt=Mt.length,pt=tt[0],Wt=tt[1],ee=tt[2],Se=tt[3],Ae=tt[4],ze=tt[5],Me=tt[6],Qt=tt[7],Yt=tt[8],Le=tt[9],te=tt[10],In=tt[11],bt=tt[12],xe=tt[13],ie=tt[14],Ke=tt[15],qe=tt[16],Qe=tt[17],yn=tt[18],dn=tt[19],Cn=0,bn=0,wn=0,En=0,hi=0,Wn=0,Fe=0,ne=0,we=0,Re=0,hn=0,mn=0;Cn<kt;Cn+=4)Wn=(bn=Mt[Cn]/255)*pt+(wn=Mt[Cn+1]/255)*Wt+(En=Mt[Cn+2]/255)*ee+(hi=Mt[Cn+3]/255)*Se+Ae,Fe=bn*ze+wn*Me+En*Qt+hi*Yt+Le,ne=bn*te+wn*In+En*bt+hi*xe+ie,we=bn*Ke+wn*qe+En*Qe+hi*yn+dn,Re=Math.max(0,Wn*we)+1*(1-we),hn=Math.max(0,Fe*we)+1*(1-we),mn=Math.max(0,ne*we)+1*(1-we),Mt[Cn]=255*Math.max(0,Math.min(1,Re)),Mt[Cn+1]=255*Math.max(0,Math.min(1,hn)),Mt[Cn+2]=255*Math.max(0,Math.min(1,mn));return Pt}},Ne=function(b,c){if(1165519206===b.getUint32(c+4,!1)){c+=4;var h=18761===b.getUint16(c+=6,!1);c+=b.getUint32(c+4,h);var j=b.getUint16(c,h);c+=2;for(var U=0;U<j;U++)if(274===b.getUint16(c+12*U,h))return b.setUint16(c+12*U+8,1,h),!0;return!1}},qn=function(b){return new Promise(function(c){var h=new FileReader;h.onload=function(){return c(function(j){var U=new DataView(j);if(65496!==U.getUint16(0))return null;for(var $,K,ct=2,It=!1;ct<U.byteLength&&($=U.getUint16(ct,!1),K=U.getUint16(ct+2,!1)+2,$>=65504&&$<=65519||65534===$)&&(It||(It=Ne(U,ct)),!(ct+K>U.byteLength));)ct+=K;return j.slice(0,ct)}(h.result)||null)},h.readAsArrayBuffer(b.slice(0,262144))})},Te=function(b,c){var h=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(h){var j=new h;return j.append(b),j.getBlob(c)}return new Blob([b],{type:c})},jt=function(b){var c=new Blob(["(",b.toString(),")()"],{type:"application/javascript"}),h=URL.createObjectURL(c),j=new Worker(h),U=[];return{transfer:function(){},post:function($,K,ct){var It=Math.random().toString(36).substr(2,9);U[It]=K,j.onmessage=function(Pt){var tt=U[Pt.data.id];tt&&(tt(Pt.data.message),delete U[Pt.data.id])},j.postMessage({id:It,message:$},ct)},terminate:function(){j.terminate(),URL.revokeObjectURL(h)}}},ei=function(b,c){return new Promise(function(h){var j,U={width:b.width,height:b.height},$=b.getContext("2d");(j=c.sort(xn).map(function(ct){return function(){return new Promise(function(It){X[ct[0]]($,U,ct[1],It)&&It()})}}),j.reduce(function(ct,It){return ct.then(function(Pt){return It().then(Array.prototype.concat.bind(Pt))})},Promise.resolve([]))).then(function(){return h(b)})})},W=function(b,c){b.beginPath(),b.lineCap=c["stroke-linecap"],b.lineJoin=c["stroke-linejoin"],b.lineWidth=c["stroke-width"],c["stroke-dasharray"].length&&b.setLineDash(c["stroke-dasharray"].split(",")),b.fillStyle=c.fill,b.strokeStyle=c.stroke,b.globalAlpha=c.opacity||1},Vt=function(b){b.fill(),b.stroke(),b.globalAlpha=1},X={rect:function(b,c,h){var j=le(h,c),U=Xt(h,c);return W(b,U),b.rect(j.x,j.y,j.width,j.height),Vt(b),!0},ellipse:function(b,c,h){var j=le(h,c),U=Xt(h,c);W(b,U);var $=j.x,K=j.y,ct=j.width,It=j.height,Pt=ct/2*.5522848,tt=It/2*.5522848,Mt=$+ct,kt=K+It,pt=$+ct/2,Wt=K+It/2;return b.moveTo($,Wt),b.bezierCurveTo($,Wt-tt,pt-Pt,K,pt,K),b.bezierCurveTo(pt+Pt,K,Mt,Wt-tt,Mt,Wt),b.bezierCurveTo(Mt,Wt+tt,pt+Pt,kt,pt,kt),b.bezierCurveTo(pt-Pt,kt,$,Wt+tt,$,Wt),Vt(b),!0},image:function(b,c,h,j){var U=le(h,c),$=Xt(h,c);W(b,$);var K=new Image;new URL(h.src,window.location.href).origin!==window.location.origin&&(K.crossOrigin=""),K.onload=function(){if("cover"===h.fit){var ct=U.width/U.height,It=ct>1?K.width:K.height*ct,Pt=ct>1?K.width/ct:K.height;b.drawImage(K,.5*K.width-.5*It,.5*K.height-.5*Pt,It,Pt,U.x,U.y,U.width,U.height)}else if("contain"===h.fit){var kt=Math.min(U.width/K.width,U.height/K.height),pt=kt*K.width,Wt=kt*K.height;b.drawImage(K,0,0,K.width,K.height,U.x+.5*U.width-.5*pt,U.y+.5*U.height-.5*Wt,pt,Wt)}else b.drawImage(K,0,0,K.width,K.height,U.x,U.y,U.width,U.height);Vt(b),j()},K.src=h.src},text:function(b,c,h){var j=le(h,c),U=Xt(h,c);W(b,U);var $=_t(h.fontSize,c),K=h.fontFamily||"sans-serif",It=h.textAlign||"left";return b.font="".concat(h.fontWeight||"normal"," ").concat($,"px ").concat(K),b.textAlign=It,b.fillText(h.text,j.x,j.y),Vt(b),!0},line:function(b,c,h){var j=le(h,c),U=Xt(h,c);W(b,U),b.beginPath();var $={x:j.x,y:j.y},K={x:j.x+j.width,y:j.y+j.height};b.moveTo($.x,$.y),b.lineTo(K.x,K.y);var ct=et({x:K.x-$.x,y:K.y-$.y}),It=.04*Math.min(c.width,c.height);if(-1!==h.lineDecoration.indexOf("arrow-begin")){var Pt=x(ct,It),tt=Z($,Pt),Mt=gt($,2,tt),kt=gt($,-2,tt);b.moveTo(Mt.x,Mt.y),b.lineTo($.x,$.y),b.lineTo(kt.x,kt.y)}if(-1!==h.lineDecoration.indexOf("arrow-end")){var pt=x(ct,-It),Wt=Z(K,pt),ee=gt(K,2,Wt),Se=gt(K,-2,Wt);b.moveTo(ee.x,ee.y),b.lineTo(K.x,K.y),b.lineTo(Se.x,Se.y)}return Vt(b),!0},path:function(b,c,h){var j=Xt(h,c);W(b,j),b.beginPath();var U=h.points.map(function(ct){return{x:_t(ct.x,c,1,"width"),y:_t(ct.y,c,1,"height")}});b.moveTo(U[0].x,U[0].y);for(var $=U.length,K=1;K<$;K++)b.lineTo(U[K].x,U[K].y);return Vt(b),!0}};function O(b){this.wrapped=b}function F(b){var c,h;function j($,K){try{var ct=b[$](K),It=ct.value,Pt=It instanceof O;Promise.resolve(Pt?It.wrapped:It).then(function(tt){Pt?j("next",tt):U(ct.done?"return":"normal",tt)},function(tt){j("throw",tt)})}catch(tt){U("throw",tt)}}function U($,K){switch($){case"return":c.resolve({value:K,done:!0});break;case"throw":c.reject(K);break;default:c.resolve({value:K,done:!1})}(c=c.next)?j(c.key,c.arg):h=null}this._invoke=function($,K){return new Promise(function(ct,It){var Pt={key:$,arg:K,resolve:ct,reject:It,next:null};h?h=h.next=Pt:(c=h=Pt,j($,K))})},"function"!=typeof b.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(F.prototype[Symbol.asyncIterator]=function(){return this}),F.prototype.next=function(b){return this._invoke("next",b)},F.prototype.throw=function(b){return this._invoke("throw",b)},F.prototype.return=function(b){return this._invoke("return",b)};var it=["x","y","left","top","right","bottom","width","height"],St=function(b){var c=function w(b,c){return function B(b){if(Array.isArray(b))return b}(b)||function(h,j){var U=[],$=!0,K=!1,ct=void 0;try{for(var It,Pt=h[Symbol.iterator]();!($=(It=Pt.next()).done)&&(U.push(It.value),!j||U.length!==j);$=!0);}catch(tt){K=!0,ct=tt}finally{try{$||null==Pt.return||Pt.return()}finally{if(K)throw ct}}return U}(b,c)||function Y(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(b,2),h=c[0],j=c[1],U=j.points?{}:it.reduce(function($,K){var ct;return $[K]="string"==typeof(ct=j[K])&&/%/.test(ct)?parseFloat(ct)/100:ct,$},{});return[h,Object.assign({zIndex:0},j,U)]};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(b,c,h){var j=this;setTimeout(function(){for(var U=j.toDataURL(c,h).split(",")[1],$=atob(U),K=$.length,ct=new Uint8Array(K);K--;)ct[K]=$.charCodeAt(K);b(new Blob([ct],{type:c||"image/png"}))})}}));var ut="undefined"!=typeof window&&void 0!==window.document,Ut=ut&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ft=function(b){var c=b.addFilter,h=b.utils,j=h.Type,U=h.forin,$=h.getFileFromBlob,K=h.isFile,ct=["crop","resize","filter","markup","output"],It=function(tt){return null===tt.aspectRatio&&0===tt.rotation&&1===tt.zoom&&tt.center&&.5===tt.center.x&&.5===tt.center.y&&tt.flip&&!1===tt.flip.horizontal&&!1===tt.flip.vertical};return c("SHOULD_PREPARE_OUTPUT",function(tt,Mt){var kt=Mt.query;return new Promise(function(pt){pt(!kt("IS_ASYNC"))})}),c("DID_CREATE_ITEM",function(tt,Mt){var pt=Mt.dispatch;(0,Mt.query)("GET_ALLOW_IMAGE_TRANSFORM")&&tt.extend("requestPrepare",function(){return new Promise(function(Wt,ee){pt("REQUEST_PREPARE_OUTPUT",{query:tt.id,item:tt,success:Wt,failure:ee},!0)})})}),c("PREPARE_OUTPUT",function(tt,Mt){var kt=Mt.query,pt=Mt.item;return new Promise(function(Wt){(function(tt,Mt,kt){return new Promise(function(pt){if(!tt("GET_ALLOW_IMAGE_TRANSFORM")||kt.archived||!K(Mt)||!/^image/.test(Mt.type))return pt(!1);(function(Wt){return new Promise(function(ee,Se){var Ae=new Image;Ae.src=URL.createObjectURL(Wt);var ze=function(){var Qt=Ae.naturalWidth,Yt=Ae.naturalHeight;Qt&&Yt&&(URL.revokeObjectURL(Ae.src),clearInterval(Me),ee({width:Qt,height:Yt}))};Ae.onerror=function(Qt){URL.revokeObjectURL(Ae.src),clearInterval(Me),Se(Qt)};var Me=setInterval(ze,1);ze()})})(Mt).then(function(){var Wt=tt("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(Wt){var ee=Wt(Mt);if(null==ee)return handleRevert(!0);if("boolean"==typeof ee)return pt(ee);if("function"==typeof ee.then)return ee.then(pt)}pt(!0)}).catch(function(Wt){pt(!1)})})})(kt,tt,pt).then(function(ee){if(!ee)return Wt(tt);var Se=[];kt("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&Se.push(function(){return new Promise(function(bt){bt({name:kt("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:tt})})}),kt("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&Se.push(function(bt,xe,ie){return new Promise(function(Ke){bt(xe,ie).then(function(qe){return Ke({name:kt("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:qe})})})});var Ae=kt("GET_IMAGE_TRANSFORM_VARIANTS")||{};U(Ae,function(bt,xe){var ie,Ke=(ie=xe,function(qe,Qe,yn){return qe(Qe,ie?ie(yn):yn)});Se.push(function(qe,Qe,yn){return new Promise(function(dn){Ke(qe,Qe,yn).then(function(Cn){return dn({name:bt,file:Cn})})})})});var ze=kt("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),Me=kt("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),Qt=null===ze?null:ze/100,Yt=kt("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),Le=kt("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||ct;pt.setMetadata("output",{type:Yt,quality:Qt,client:Le},!0);var te=function(bt,xe){return new Promise(function(ie,Ke){var qe=Object.assign({},xe);Object.keys(qe).filter(function(we){return"exif"!==we}).forEach(function(we){-1===Le.indexOf(we)&&delete qe[we]});var Qe=qe.resize,yn=qe.exif,dn=qe.output,Cn=qe.crop,bn=qe.filter,wn=qe.markup,En={image:{orientation:yn?yn.orientation:null},output:dn&&(dn.type||"number"==typeof dn.quality||dn.background)?{type:dn.type,quality:"number"==typeof dn.quality?100*dn.quality:null,background:dn.background||kt("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:Qe&&(Qe.size.width||Qe.size.height)?Object.assign({mode:Qe.mode,upscale:Qe.upscale},Qe.size):void 0,crop:Cn&&!It(Cn)?Object.assign({},Cn):void 0,markup:wn&&wn.length?wn.map(St):[],filter:bn};if(En.output){var hi=!!dn.type&&dn.type!==bt.type,Wn=/\/jpe?g$/.test(bt.type);if(!(En.size||En.crop||En.filter||hi||null!==dn.quality&&Wn&&"always"===Me))return ie(bt)}var ne={beforeCreateBlob:kt("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:kt("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:kt("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:kt("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};(function(b,c){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(j,U){if(!b||!/^image/.test(b.type))return U({status:"not an image file",file:b});var $=h.stripImageHead,K=h.beforeCreateBlob,ct=h.afterCreateBlob,It=h.canvasMemoryLimit,Pt=c.crop,tt=c.size,Mt=c.filter,kt=c.markup,pt=c.output,Wt=c.image&&c.image.orientation?Math.max(1,Math.min(8,c.image.orientation)):null,ee=pt&&pt.quality,Se=null===ee?null:ee/100,Ae=pt&&pt.type||null,ze=pt&&pt.background||null,Me=[];!tt||"number"!=typeof tt.width&&"number"!=typeof tt.height||Me.push({type:"resize",data:tt}),Mt&&20===Mt.length&&Me.push({type:"filter",data:Mt});var Qt=function(te){var In=ct?ct(te):te;Promise.resolve(In).then(j)},Yt=function(te,In){var ie,Ke,bt=(ie=te,(Ke=document.createElement("canvas")).width=ie.width,Ke.height=ie.height,Ke.getContext("2d").putImageData(ie,0,0),Ke),xe=kt.length?ei(bt,kt):bt;Promise.resolve(xe).then(function(ie){(function(Ke,qe){var Qe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(yn){var dn=Qe?Qe(Ke):Ke;Promise.resolve(dn).then(function(Cn){Cn.toBlob(yn,qe.type,qe.quality)})})})(ie,In,K).then(function(Ke){if(G(ie),$)return Qt(Ke);qn(b).then(function(qe){null!==qe&&(Ke=new Blob([qe,Ke.slice(20)],{type:Ke.type})),Qt(Ke)})}).catch(U)})};if(/svg/.test(b.type)&&null===Ae)return Fn(b,Pt,kt,{background:ze}).then(function(te){j(Te(te,"image/svg+xml"))});var Le=URL.createObjectURL(b);(function(te){return new Promise(function(In,bt){var xe=new Image;xe.onload=function(){In(xe)},xe.onerror=function(ie){bt(ie)},xe.src=te})})(Le).then(function(te){URL.revokeObjectURL(Le);var In=function(ie,Ke){var qe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Qe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},yn=Qe.canvasMemoryLimit,dn=Qe.background,Cn=void 0===dn?null:dn,bn=qe.zoom||1,wn=ot(ie,Ke,qe.flip),En={width:wn.width,height:wn.height},hi=qe.aspectRatio||En.height/En.width,Wn=k(En,hi,bn);if(yn){var Fe=Wn.width*Wn.height;if(Fe>yn){var ne=Math.sqrt(yn)/Math.sqrt(Fe);En.width=Math.floor(En.width*ne),En.height=Math.floor(En.height*ne),Wn=k(En,hi,bn)}}var we=document.createElement("canvas"),Re={x:.5*Wn.width,y:.5*Wn.height},mn=void 0===qe.scaleToFit||qe.scaleToFit,He=bn*I(En,E({x:0,y:0,width:Wn.width,height:Wn.height,center:Re},hi),qe.rotation,mn?qe.center:{x:.5,y:.5});we.width=Math.round(Wn.width/He),we.height=Math.round(Wn.height/He),Re.x/=He,Re.y/=He;var ge=Re.x-En.width*(qe.center?qe.center.x:.5),Oe=Re.y-En.height*(qe.center?qe.center.y:.5),Rn=we.getContext("2d");Cn&&(Rn.fillStyle=Cn,Rn.fillRect(0,0,we.width,we.height)),Rn.translate(Re.x,Re.y),Rn.rotate(qe.rotation||0),Rn.drawImage(wn,ge-Re.x,Oe-Re.y,En.width,En.height);var on=Rn.getImageData(0,0,we.width,we.height);return G(we),on}(te,Wt,Pt,{canvasMemoryLimit:It,background:ze}),bt={quality:Se,type:Ae||b.type};if(!Me.length)return Yt(In,bt);var xe=jt(Gn);xe.post({transforms:Me,imageData:In},function(ie){Yt(function(Ke){var qe;try{qe=new ImageData(Ke.width,Ke.height)}catch(Qe){qe=document.createElement("canvas").getContext("2d").createImageData(Ke.width,Ke.height)}return qe.data.set(Ke.data),qe}(ie),bt),xe.terminate()},[In.data.buffer])}).catch(U)})})(bt,En,ne).then(function(we){var Re,mn,He,on,ge,Oe,Rn,hn=$(we,(mn=bt.name,He=/jpeg|png|svg\+xml/.test(Re=we.type)?Re:"image/jpeg",ge=(on=mn).substr(0,on.lastIndexOf("."))||on,Oe=He.split("/")[1],Rn=M[Oe]||Oe,"".concat(ge,".").concat(Rn)));ie(hn)}).catch(Ke)})},In=Se.map(function(bt){return bt(te,tt,pt.getMetadata())});Promise.all(In).then(function(bt){Wt(1===bt.length&&null===bt[0].name?bt[0].file:bt)})})})}),{options:{allowImageTransform:[!0,j.BOOLEAN],imageTransformImageFilter:[null,j.FUNCTION],imageTransformOutputMimeType:[null,j.STRING],imageTransformOutputQuality:[null,j.INT],imageTransformOutputStripImageHead:[!0,j.BOOLEAN],imageTransformClientTransforms:[null,j.ARRAY],imageTransformOutputQualityMode:["always",j.STRING],imageTransformVariants:[null,j.OBJECT],imageTransformVariantsIncludeDefault:[!0,j.BOOLEAN],imageTransformVariantsDefaultName:[null,j.STRING],imageTransformVariantsIncludeOriginal:[!1,j.BOOLEAN],imageTransformVariantsOriginalName:["original_",j.STRING],imageTransformBeforeCreateBlob:[null,j.FUNCTION],imageTransformAfterCreateBlob:[null,j.FUNCTION],imageTransformCanvasMemoryLimit:[ut&&Ut?16777216:null,j.INT],imageTransformCanvasBackgroundColor:[null,j.STRING]}}};return ut&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Ft})),Ft}),function(M,Q){"object"==typeof exports&&"undefined"!=typeof module?Q(exports):"function"==typeof define&&define.amd?define(["exports"],Q):Q((M=M||self).FilePond={})}(this,function(M){"use strict";var Q=function(n,i){for(var s in n)n.hasOwnProperty(s)&&i(s,n[s])},Ot=function(n){var i={};return Q(n,function(s){var u,v,P;u=i,v=s,"function"!=typeof(P=n[s])?Object.defineProperty(u,v,Object.assign({},P)):u[v]=P}),i},D=function(n,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===s)return n.getAttribute(i)||n.hasAttribute(i);n.setAttribute(i,s)},y=["svg","path"],p=function(n){return y.includes(n)},I=function(n,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof i&&(s=i,i=null);var u=p(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);return i&&(p(n)?D(u,"class",i):u.className=i),Q(s,function(v,P){D(u,v,P)}),u},E=function(n,i){return function(s,u){return void 0!==u?i.splice(u,0,s):i.push(s),s}},k=function(n,i){return function(s){return i.splice(i.indexOf(s),1),s.element.parentNode&&n.removeChild(s.element),s}},G="undefined"!=typeof window&&void 0!==window.document,q=function(){return G},ot="children"in(q()?I("svg"):{})?function(n){return n.children.length}:function(n){return n.childNodes.length},x=function(n,i,s,u){var v=s[0]||n.left,P=s[1]||n.top,S=v+n.width,V=P+n.height*(u[1]||1),H={element:Object.assign({},n),inner:{left:n.left,top:n.top,right:n.right,bottom:n.bottom},outer:{left:v,top:P,right:S,bottom:V}};return i.filter(function(rt){return!rt.isRectIgnored()}).map(function(rt){return rt.rect}).forEach(function(rt){Z(H.inner,Object.assign({},rt.inner)),Z(H.outer,Object.assign({},rt.outer))}),et(H.inner),H.outer.bottom+=H.element.marginBottom,H.outer.right+=H.element.marginRight,et(H.outer),H},Z=function(n,i){i.top+=n.top,i.right+=n.left,i.bottom+=n.top,i.left+=n.left,i.bottom>n.bottom&&(n.bottom=i.bottom),i.right>n.right&&(n.right=i.right)},et=function(n){n.width=n.right-n.left,n.height=n.bottom-n.top},gt=function(n){return"number"==typeof n},at=function(n){return n<.5?2*n*n:(4-2*n)*n-1},_t={spring:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.stiffness,s=void 0===i?.5:i,u=n.damping,v=void 0===u?.75:u,P=n.mass,S=void 0===P?10:P,V=null,H=null,rt=0,Ct=!1,Rt=Ot({interpolate:function(Lt,Nt){if(!Ct){if(!gt(V)||!gt(H))return Ct=!0,void(rt=0);(function(se,Gt,Jt){var Ce=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(se-Gt)<Ce&&Math.abs(Jt)<Ce})(H+=rt+=-(H-V)*s/S,V,rt*=v)||Nt?(rt=0,Ct=!0,Rt.onupdate(H=V),Rt.oncomplete(H)):Rt.onupdate(H)}},target:{set:function(Lt){if(gt(Lt)&&!gt(H)&&(H=Lt),null===V&&(V=Lt,H=Lt),H===(V=Lt)||void 0===V)return Ct=!0,rt=0,Rt.onupdate(H),void Rt.oncomplete(H);Ct=!1},get:function(){return V}},resting:{get:function(){return Ct}},onupdate:function(Lt){},oncomplete:function(Lt){}});return Rt},tween:function(){var n,i,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=s.duration,v=void 0===u?500:u,P=s.easing,S=void 0===P?at:P,V=s.delay,H=void 0===V?0:V,rt=null,Ct=!0,Rt=!1,Lt=null,Nt=Ot({interpolate:function(se,Gt){Ct||null===Lt||(null===rt&&(rt=se),se-rt<H||((n=se-rt-H)>=v||Gt?(n=1,Nt.onupdate((i=Rt?0:1)*Lt),Nt.oncomplete(i*Lt),Ct=!0):(i=n/v,Nt.onupdate((n>=0?S(Rt?1-i:i):0)*Lt))))},target:{get:function(){return Rt?0:Lt},set:function(se){if(null===Lt)return Lt=se,Nt.onupdate(se),void Nt.oncomplete(se);se<Lt?(Lt=1,Rt=!0):(Rt=!1,Lt=se),Ct=!1,rt=null}},resting:{get:function(){return Ct}},onupdate:function(se){},oncomplete:function(se){}});return Nt}},re=function(n,i,s){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(i=Array.isArray(i)?i:[i]).forEach(function(v){n.forEach(function(P){var S=P,V=function(){return s[P]},H=function(rt){return s[P]=rt};"object"==typeof P&&(S=P.key,V=P.getter||V,H=P.setter||H),v[S]&&!u||(v[S]={get:V,set:H})})})},le=function(n){return null!=n},be={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},je={styles:function(n){var i=n.mixinConfig,s=n.viewProps,u=n.viewInternalAPI,v=n.viewExternalAPI,P=n.view,S=Object.assign({},s),V={};re(i,[u,v],s);var H=function(){return P.rect?x(P.rect,P.childViews,[s.translateX||0,s.translateY||0],[s.scaleX||0,s.scaleY||0]):null};return u.rect={get:H},v.rect={get:H},i.forEach(function(rt){s[rt]=void 0===S[rt]?be[rt]:S[rt]}),{write:function(){if(function(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!0;for(var s in i)if(i[s]!==n[s])return!0;return!1}(V,s))return function(n,i){var s=i.opacity,u=i.perspective,v=i.translateX,P=i.translateY,S=i.scaleX,V=i.scaleY,H=i.rotateX,rt=i.rotateY,Ct=i.rotateZ,Rt=i.originX,Lt=i.originY,Nt=i.width,se=i.height,Gt="",Jt="";(le(Rt)||le(Lt))&&(Jt+="transform-origin: "+(Rt||0)+"px "+(Lt||0)+"px;"),le(u)&&(Gt+="perspective("+u+"px) "),(le(v)||le(P))&&(Gt+="translate3d("+(v||0)+"px, "+(P||0)+"px, 0) "),(le(S)||le(V))&&(Gt+="scale3d("+(le(S)?S:1)+", "+(le(V)?V:1)+", 1) "),le(Ct)&&(Gt+="rotateZ("+Ct+"rad) "),le(H)&&(Gt+="rotateX("+H+"rad) "),le(rt)&&(Gt+="rotateY("+rt+"rad) "),Gt.length&&(Jt+="transform:"+Gt+";"),le(s)&&(Jt+="opacity:"+s+";",0===s&&(Jt+="visibility:hidden;"),s<1&&(Jt+="pointer-events:none;")),le(se)&&(Jt+="height:"+se+"px;"),le(Nt)&&(Jt+="width:"+Nt+"px;");var Ce=n.elementCurrentStyle||"";Jt.length===Ce.length&&Jt===Ce||(n.style.cssText=Jt,n.elementCurrentStyle=Jt)}(P.element,s),Object.assign(V,Object.assign({},s)),!0},destroy:function(){}}},listeners:function(n){var i,V,s=n.viewExternalAPI,u=n.view,v=[],P=(i=u.element,function(V,H){i.addEventListener(V,H)}),S=(V=u.element,function(H,rt){V.removeEventListener(H,rt)});return s.on=function(V,H){v.push({type:V,fn:H}),P(V,H)},s.off=function(V,H){v.splice(v.findIndex(function(rt){return rt.type===V&&rt.fn===H}),1),S(V,H)},{write:function(){return!0},destroy:function(){v.forEach(function(V){S(V.type,V.fn)})}}},animations:function(n){var i=n.mixinConfig,s=n.viewProps,u=n.viewInternalAPI,v=n.viewExternalAPI,P=Object.assign({},s),S=[];return Q(i,function(V,H){var rt=function(n,i,s){var u=n[i]&&"object"==typeof n[i][s]?n[i][s]:n[i]||n,v="string"==typeof u?u:u.type,P="object"==typeof u?Object.assign({},u):{};return _t[v]?_t[v](P):null}(H);rt&&(rt.onupdate=function(Ct){s[V]=Ct},rt.target=P[V],re([{key:V,setter:function(Ct){rt.target!==Ct&&(rt.target=Ct)},getter:function(){return s[V]}}],[u,v],s,!0),S.push(rt))}),{write:function(V){var H=document.hidden,rt=!0;return S.forEach(function(Ct){Ct.resting||(rt=!1),Ct.interpolate(V,H)}),rt},destroy:function(){}}},apis:function(n){re(n.mixinConfig,n.viewExternalAPI,n.viewProps)}},_e=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.layoutCalculated||(n.paddingTop=parseInt(s.paddingTop,10)||0,n.marginTop=parseInt(s.marginTop,10)||0,n.marginRight=parseInt(s.marginRight,10)||0,n.marginBottom=parseInt(s.marginBottom,10)||0,n.marginLeft=parseInt(s.marginLeft,10)||0,i.layoutCalculated=!0),n.left=i.offsetLeft||0,n.top=i.offsetTop||0,n.width=i.offsetWidth||0,n.height=i.offsetHeight||0,n.right=n.left+n.width,n.bottom=n.top+n.height,n.scrollTop=i.scrollTop,n.hidden=null===i.offsetParent,n},De=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.tag,s=void 0===i?"div":i,u=n.name,v=void 0===u?null:u,P=n.attributes,S=void 0===P?{}:P,V=n.read,H=void 0===V?function(){}:V,rt=n.write,Ct=void 0===rt?function(){}:rt,Rt=n.create,Lt=void 0===Rt?function(){}:Rt,Nt=n.destroy,se=void 0===Nt?function(){}:Nt,Gt=n.filterFrameActionsForChild,Jt=void 0===Gt?function(ae,ke){return ke}:Gt,Ce=n.didCreateView,me=void 0===Ce?function(){}:Ce,Je=n.didWriteView,tn=void 0===Je?function(){}:Je,Qn=n.ignoreRect,li=void 0!==Qn&&Qn,Vn=n.ignoreRectUpdate,sn=void 0!==Vn&&Vn,Zt=n.mixins,Dt=void 0===Zt?[]:Zt;return function(ae){var ke,oi,fn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},cn=I(s,"filepond--"+v,S),ti=window.getComputedStyle(cn,null),no=_e(),We=null,Ni=!1,Ci=[],Ii=[],Vi={},Yi={},Zi=[Ct],br=[H],Yr=[se],ts=function(){return cn},es=function(){return Ci.concat()},ns=function(){return We||(We=x(no,Ci,[0,0],[1,1]))},is={element:{get:ts},style:{get:function(){return ti}},childViews:{get:es}},os=Object.assign({},is,{rect:{get:ns},ref:{get:function(){return Vi}},is:function(oi){return v===oi},appendChild:(ke=cn,function(oi,eo){void 0!==eo&&ke.children[eo]?ke.insertBefore(oi,ke.children[eo]):ke.appendChild(oi)}),createChildView:(oi=ae,function(eo,Fr){return eo(oi,Fr)}),linkView:function(oi){return Ci.push(oi),oi},unlinkView:function(oi){Ci.splice(Ci.indexOf(oi),1)},appendChildView:E(0,Ci),removeChildView:k(cn,Ci),registerWriter:function(oi){return Zi.push(oi)},registerReader:function(oi){return br.push(oi)},registerDestroyer:function(oi){return Yr.push(oi)},invalidateLayout:function(){return cn.layoutCalculated=!1},dispatch:ae.dispatch,query:ae.query}),Wr={element:{get:ts},childViews:{get:es},rect:{get:ns},resting:{get:function(){return Ni}},isRectIgnored:function(){return li},_read:function(){We=null,Ci.forEach(function(eo){return eo._read()}),!(sn&&no.width&&no.height)&&_e(no,cn,ti);var oi={root:Ar,props:fn,rect:no};br.forEach(function(eo){return eo(oi)})},_write:function(oi,eo,Fr){var Nr=0===eo.length;return Zi.forEach(function(nr){!1===nr({props:fn,root:Ar,actions:eo,timestamp:oi,shouldOptimize:Fr})&&(Nr=!1)}),Ii.forEach(function(nr){!1===nr.write(oi)&&(Nr=!1)}),Ci.filter(function(nr){return!!nr.element.parentNode}).forEach(function(nr){nr._write(oi,Jt(nr,eo),Fr)||(Nr=!1)}),Ci.forEach(function(nr,gs){nr.element.parentNode||(Ar.appendChild(nr.element,gs),nr._read(),nr._write(oi,Jt(nr,eo),Fr),Nr=!1)}),Ni=Nr,tn({props:fn,root:Ar,actions:eo,timestamp:oi}),Nr},_destroy:function(){Ii.forEach(function(oi){return oi.destroy()}),Yr.forEach(function(oi){oi({root:Ar,props:fn})}),Ci.forEach(function(oi){return oi._destroy()})}},Xr=Object.assign({},is,{rect:{get:function(){return no}}});Object.keys(Dt).sort(function(oi,eo){return"styles"===oi?1:"styles"===eo?-1:0}).forEach(function(oi){var eo=je[oi]({mixinConfig:Dt[oi],viewProps:fn,viewState:Yi,viewInternalAPI:os,viewExternalAPI:Wr,view:Ot(Xr)});eo&&Ii.push(eo)});var Ar=Ot(os);Lt({root:Ar,props:fn});var rs=ot(cn);return Ci.forEach(function(oi,eo){Ar.appendChild(oi.element,rs+eo)}),me(Ar),Ot(Wr)}},Pe=function(n,i){return function(s){var u=s.root,v=s.props,P=s.actions,S=void 0===P?[]:P,V=s.timestamp,H=s.shouldOptimize;S.filter(function(rt){return n[rt.type]}).forEach(function(rt){return n[rt.type]({root:u,props:v,action:rt.data,timestamp:V,shouldOptimize:H})}),i&&i({root:u,props:v,actions:S,timestamp:V,shouldOptimize:H})}},xn=function(n,i){return i.parentNode.insertBefore(n,i)},Fn=function(n,i){return i.parentNode.insertBefore(n,i.nextSibling)},Gn=function(n){return Array.isArray(n)},Ne=function(n){return null==n},qn=function(n){return n.trim()},Te=function(n){return""+n},jt=function(n){return"boolean"==typeof n},ei=function(n){return jt(n)?n:"true"===n},W=function(n){return"string"==typeof n},Vt=function(n){return gt(n)?n:W(n)?Te(n).replace(/[a-z]+/gi,""):0},X=function(n){return parseInt(Vt(n),10)},m=function(n){return parseFloat(Vt(n))},O=function(n){return gt(n)&&isFinite(n)&&Math.floor(n)===n},F=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(O(n))return n;var s=Te(n).trim();return/MB$/i.test(s)?(s=s.replace(/MB$i/,"").trim(),X(s)*i*i):/KB/i.test(s)?(s=s.replace(/KB$i/,"").trim(),X(s)*i):X(s)},w=function(n){return"function"==typeof n},B={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},it=function(n){return"object"==typeof n&&null!==n},St=function(n){return Gn(n)?"array":null===n?"null":O(n)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(n)?"bytes":it(i=n)&&W(i.url)&&it(i.process)&&it(i.revert)&&it(i.restore)&&it(i.fetch)?"api":typeof n;var i},ut={array:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return Ne(n)?[]:Gn(n)?n:Te(n).split(i).map(qn).filter(function(s){return s.length})},boolean:ei,int:function(n){return"bytes"===St(n)?F(n):X(n)},number:m,float:m,bytes:F,string:function(n){return w(n)?n:Te(n)},function:function(n){return function(i){for(var s=self,u=i.split("."),v=null;v=u.shift();)if(!(s=s[v]))return null;return s}(n)},serverapi:function(n){return(s={}).url=W(i=n)?i:i.url||"",s.timeout=i.timeout?parseInt(i.timeout,10):0,s.headers=i.headers?i.headers:{},Q(B,function(u){s[u]=function(n,i,s,u,v){if(null===i)return null;if("function"==typeof i)return i;var P={url:"GET"===s||"PATCH"===s?"?"+n+"=":"",method:s,headers:v,withCredentials:!1,timeout:u,onload:null,ondata:null,onerror:null};if(W(i))return P.url=i,P;if(Object.assign(P,i),W(P.headers)){var S=P.headers.split(/:(.+)/);P.headers={header:S[0],value:S[1]}}return P.withCredentials=ei(P.withCredentials),P}(u,i[u],B[u],s.timeout,s.headers)}),s.process=i.process||W(i)||i.url?s.process:null,s.remove=i.remove||null,delete s.headers,s;var i,s},object:function(n){try{return JSON.parse(n.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(i){return null}}},Ut=function(n,i,s){if(n===i)return n;var v=St(n);if(v!==s){var P=ut[s](n);if(v=St(P),null===P)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+s+'"';n=P}return n},Ft=function(n){var i={};return Q(n,function(s){var u,v,P,S=n[s];i[s]=(v=S[1],P=u=S[0],{enumerable:!0,get:function(){return P},set:function(V){P=Ut(V,u,v)}})}),Ot(i)},b=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return n.split(/(?=[A-Z])/).map(function(s){return s.toLowerCase()}).join(i)},c=function(n){return function(i,s,u){var v={};return Q(n,function(P){var S=b(P,"_").toUpperCase();v["SET_"+S]=function(V){try{u.options[P]=V.value}catch(H){}i("DID_SET_"+S,{value:u.options[P]})}}),v}},h=function(n){return function(i){var s={};return Q(n,function(u){s["GET_"+b(u,"_").toUpperCase()]=function(v){return i.options[u]}}),s}},It=function(){return Math.random().toString(36).substring(2,11)};function Pt(n){this.wrapped=n}function tt(n){var i,s;function u(P,S){try{var V=n[P](S),H=V.value,rt=H instanceof Pt;Promise.resolve(rt?H.wrapped:H).then(function(Ct){rt?u("next",Ct):v(V.done?"return":"normal",Ct)},function(Ct){u("throw",Ct)})}catch(Ct){v("throw",Ct)}}function v(P,S){switch(P){case"return":i.resolve({value:S,done:!0});break;case"throw":i.reject(S);break;default:i.resolve({value:S,done:!1})}(i=i.next)?u(i.key,i.arg):s=null}this._invoke=function(P,S){return new Promise(function(V,H){var rt={key:P,arg:S,resolve:V,reject:H,next:null};s?s=s.next=rt:(i=s=rt,u(P,S))})},"function"!=typeof n.return&&(this.return=void 0)}function Mt(n,i){if(null==n)return{};var s,u,v=function(S,V){if(null==S)return{};var H,rt,Ct={},Rt=Object.keys(S);for(rt=0;rt<Rt.length;rt++)V.indexOf(H=Rt[rt])>=0||(Ct[H]=S[H]);return Ct}(n,i);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(n);for(u=0;u<P.length;u++)i.indexOf(s=P[u])>=0||Object.prototype.propertyIsEnumerable.call(n,s)&&(v[s]=n[s])}return v}function kt(n){return function(i){if(Array.isArray(i)){for(var s=0,u=new Array(i.length);s<i.length;s++)u[s]=i[s];return u}}(n)||function pt(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(tt.prototype[Symbol.asyncIterator]=function(){return this}),tt.prototype.next=function(n){return this._invoke("next",n)},tt.prototype.throw=function(n){return this._invoke("throw",n)},tt.prototype.return=function(n){return this._invoke("return",n)};var Wt,ee,Se=function(n,i){return n.splice(i,1)},Ae=function(){var n=[],i=function(u,v){Se(n,n.findIndex(function(P){return P.event===u&&(P.cb===v||!v)}))},s=function(u,v,P){n.filter(function(S){return S.event===u}).map(function(S){return S.cb}).forEach(function(S){return V=function(){return S.apply(void 0,kt(v))},void(P?V():document.hidden?Promise.resolve(1).then(V):setTimeout(V,0));var V})};return{fireSync:function(u){for(var v=arguments.length,P=new Array(v>1?v-1:0),S=1;S<v;S++)P[S-1]=arguments[S];s(u,P,!0)},fire:function(u){for(var v=arguments.length,P=new Array(v>1?v-1:0),S=1;S<v;S++)P[S-1]=arguments[S];s(u,P,!1)},on:function(u,v){n.push({event:u,cb:v})},onOnce:function(u,v){n.push({event:u,cb:function(){i(u,v),v.apply(void 0,arguments)}})},off:i}},ze=function(n,i,s){Object.getOwnPropertyNames(n).filter(function(u){return!s.includes(u)}).forEach(function(u){return Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(n,u))})},Me=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Qt=function(n){var i={};return ze(n,i,Me),i},Yt={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Le={INPUT:1,LIMBO:2,LOCAL:3},te=function(n){return/[^0-9]+/.exec(n)},In=function(){return te(1.1.toLocaleString())[0]},bt={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},xe=[],ie=function(n,i,s){return new Promise(function(u,v){var P=xe.filter(function(V){return V.key===n}).map(function(V){return V.cb});if(0!==P.length){var S=P.shift();P.reduce(function(V,H){return V.then(function(rt){return H(rt,s)})},S(i,s)).then(function(V){return u(V)}).catch(function(V){return v(V)})}else u(i)})},Ke=function(n,i,s){return xe.filter(function(u){return u.key===n}).map(function(u){return u.cb(i,s)})},qe=function(n,i){return xe.push({key:n,cb:i})},Qe=function(){return Object.assign({},yn)},yn={id:[null,bt.STRING],name:["filepond",bt.STRING],disabled:[!1,bt.BOOLEAN],className:[null,bt.STRING],required:[!1,bt.BOOLEAN],captureMethod:[null,bt.STRING],allowSyncAcceptAttribute:[!0,bt.BOOLEAN],allowDrop:[!0,bt.BOOLEAN],allowBrowse:[!0,bt.BOOLEAN],allowPaste:[!0,bt.BOOLEAN],allowMultiple:[!1,bt.BOOLEAN],allowReplace:[!0,bt.BOOLEAN],allowRevert:[!0,bt.BOOLEAN],allowRemove:[!0,bt.BOOLEAN],allowProcess:[!0,bt.BOOLEAN],allowReorder:[!1,bt.BOOLEAN],allowDirectoriesOnly:[!1,bt.BOOLEAN],storeAsFile:[!1,bt.BOOLEAN],forceRevert:[!1,bt.BOOLEAN],maxFiles:[null,bt.INT],checkValidity:[!1,bt.BOOLEAN],itemInsertLocationFreedom:[!0,bt.BOOLEAN],itemInsertLocation:["before",bt.STRING],itemInsertInterval:[75,bt.INT],dropOnPage:[!1,bt.BOOLEAN],dropOnElement:[!0,bt.BOOLEAN],dropValidation:[!1,bt.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],bt.ARRAY],instantUpload:[!0,bt.BOOLEAN],maxParallelUploads:[2,bt.INT],allowMinimumUploadDuration:[!0,bt.BOOLEAN],chunkUploads:[!1,bt.BOOLEAN],chunkForce:[!1,bt.BOOLEAN],chunkSize:[5e6,bt.INT],chunkRetryDelays:[[500,1e3,3e3],bt.ARRAY],server:[null,bt.SERVER_API],fileSizeBase:[1e3,bt.INT],labelFileSizeBytes:["bytes",bt.STRING],labelFileSizeKilobytes:["KB",bt.STRING],labelFileSizeMegabytes:["MB",bt.STRING],labelFileSizeGigabytes:["GB",bt.STRING],labelDecimalSeparator:[In(),bt.STRING],labelThousandsSeparator:[(Wt=In(),ee=1e3.toLocaleString(),ee!==1e3.toString()?te(ee)[0]:"."===Wt?",":"."),bt.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',bt.STRING],labelInvalidField:["Field contains invalid files",bt.STRING],labelFileWaitingForSize:["Waiting for size",bt.STRING],labelFileSizeNotAvailable:["Size not available",bt.STRING],labelFileCountSingular:["file in list",bt.STRING],labelFileCountPlural:["files in list",bt.STRING],labelFileLoading:["Loading",bt.STRING],labelFileAdded:["Added",bt.STRING],labelFileLoadError:["Error during load",bt.STRING],labelFileRemoved:["Removed",bt.STRING],labelFileRemoveError:["Error during remove",bt.STRING],labelFileProcessing:["Uploading",bt.STRING],labelFileProcessingComplete:["Upload complete",bt.STRING],labelFileProcessingAborted:["Upload cancelled",bt.STRING],labelFileProcessingError:["Error during upload",bt.STRING],labelFileProcessingRevertError:["Error during revert",bt.STRING],labelTapToCancel:["tap to cancel",bt.STRING],labelTapToRetry:["tap to retry",bt.STRING],labelTapToUndo:["tap to undo",bt.STRING],labelButtonRemoveItem:["Remove",bt.STRING],labelButtonAbortItemLoad:["Abort",bt.STRING],labelButtonRetryItemLoad:["Retry",bt.STRING],labelButtonAbortItemProcessing:["Cancel",bt.STRING],labelButtonUndoItemProcessing:["Undo",bt.STRING],labelButtonRetryItemProcessing:["Retry",bt.STRING],labelButtonProcessItem:["Upload",bt.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',bt.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',bt.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',bt.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',bt.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',bt.STRING],oninit:[null,bt.FUNCTION],onwarning:[null,bt.FUNCTION],onerror:[null,bt.FUNCTION],onactivatefile:[null,bt.FUNCTION],oninitfile:[null,bt.FUNCTION],onaddfilestart:[null,bt.FUNCTION],onaddfileprogress:[null,bt.FUNCTION],onaddfile:[null,bt.FUNCTION],onprocessfilestart:[null,bt.FUNCTION],onprocessfileprogress:[null,bt.FUNCTION],onprocessfileabort:[null,bt.FUNCTION],onprocessfilerevert:[null,bt.FUNCTION],onprocessfile:[null,bt.FUNCTION],onprocessfiles:[null,bt.FUNCTION],onremovefile:[null,bt.FUNCTION],onpreparefile:[null,bt.FUNCTION],onupdatefiles:[null,bt.FUNCTION],onreorderfiles:[null,bt.FUNCTION],beforeDropFile:[null,bt.FUNCTION],beforeAddFile:[null,bt.FUNCTION],beforeRemoveFile:[null,bt.FUNCTION],beforePrepareFile:[null,bt.FUNCTION],stylePanelLayout:[null,bt.STRING],stylePanelAspectRatio:[null,bt.STRING],styleItemPanelAspectRatio:[null,bt.STRING],styleButtonRemoveItemPosition:["left",bt.STRING],styleButtonProcessItemPosition:["right",bt.STRING],styleLoadIndicatorPosition:["right",bt.STRING],styleProgressIndicatorPosition:["right",bt.STRING],styleButtonRemoveItemAlign:[!1,bt.BOOLEAN],files:[[],bt.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],bt.ARRAY]},dn=function(n,i){return Ne(i)?n[0]||null:O(i)?n[i]||null:("object"==typeof i&&(i=i.id),n.find(function(s){return s.id===i})||null)},Cn=function(n){if(Ne(n))return n;if(/:/.test(n)){var i=n.split(":");return i[1]/i[0]}return parseFloat(n)},bn=function(n){return n.filter(function(i){return!i.archived})},wn={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},En=null,hi=[Yt.LOAD_ERROR,Yt.PROCESSING_ERROR,Yt.PROCESSING_REVERT_ERROR],Wn=[Yt.LOADING,Yt.PROCESSING,Yt.PROCESSING_QUEUED,Yt.INIT],Fe=[Yt.PROCESSING_COMPLETE],ne=function(n){return hi.includes(n.status)},we=function(n){return Wn.includes(n.status)},Re=function(n){return Fe.includes(n.status)},hn=function(n){return it(n.options.server)&&(it(n.options.server.process)||w(n.options.server.process))},mn=function(n){return{GET_STATUS:function(){var i=bn(n.items),u=wn.ERROR,v=wn.BUSY,P=wn.IDLE,S=wn.READY;return 0===i.length?wn.EMPTY:i.some(ne)?u:i.some(we)?v:i.some(Re)?S:P},GET_ITEM:function(i){return dn(n.items,i)},GET_ACTIVE_ITEM:function(i){return dn(bn(n.items),i)},GET_ACTIVE_ITEMS:function(){return bn(n.items)},GET_ITEMS:function(){return n.items},GET_ITEM_NAME:function(i){var s=dn(n.items,i);return s?s.filename:null},GET_ITEM_SIZE:function(i){var s=dn(n.items,i);return s?s.fileSize:null},GET_STYLES:function(){return Object.keys(n.options).filter(function(i){return/^style/.test(i)}).map(function(i){return{name:i,value:n.options[i]}})},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(n.options.stylePanelLayout)?1:Cn(n.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return n.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(i){return bn(n.items).filter(function(s){return s.status===i})},GET_TOTAL_ITEMS:function(){return bn(n.items).length},SHOULD_UPDATE_FILE_INPUT:function(){return n.options.storeAsFile&&function(){if(null===En)try{var i=new DataTransfer;i.items.add(new File(["hello world"],"This_Works.txt"));var s=document.createElement("input");s.setAttribute("type","file"),s.files=i.files,En=1===s.files.length}catch(u){En=!1}return En}()&&!hn(n)},IS_ASYNC:function(){return hn(n)},GET_FILE_SIZE_LABELS:function(i){return{labelBytes:i("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:i("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:i("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:i("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},He=function(n,i,s){return Math.max(Math.min(s,n),i)},ge=function(n){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(n)},Oe=function(n){return n.split("/").pop().split("?").shift()},Rn=function(n){return n.split(".").pop()},on=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(i+n).slice(-i.length)},di=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return n.getFullYear()+"-"+on(n.getMonth()+1,"00")+"-"+on(n.getDate(),"00")+"_"+on(n.getHours(),"00")+"-"+on(n.getMinutes(),"00")+"-"+on(n.getSeconds(),"00")},Zn=function(n,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,v=n.slice(0,n.size,"string"==typeof s?s:n.type);return v.lastModifiedDate=new Date,n._relativePath&&(v._relativePath=n._relativePath),W(i)||(i=di()),i&&null===u&&Rn(i)?v.name=i:(u=u||function(P){if("string"!=typeof P)return"";var S=P.split("/").pop();return/svg/.test(S)?"svg":/zip|compressed/.test(S)?"zip":/plain/.test(S)?"txt":/msword/.test(S)?"doc":/[a-z]+/.test(S)?"jpeg"===S?"jpg":S:""}(v.type),v.name=i+(u?"."+u:"")),v},Nn=function(n,i){var s=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(s){var u=new s;return u.append(n),u.getBlob(i)}return new Blob([n],{type:i})},Dn=function(n){return(/^data:(.+);/.exec(n)||[])[1]||null},zi=function(n){if(!/^content-disposition:/i.test(n))return null;var i=n.split(/filename=|filename\*=.+''/).splice(1).map(function(s){return s.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(s){return s.length});return i.length?decodeURI(i[i.length-1]):null},Bi=function(n){if(/content-length:/i.test(n)){var i=n.match(/[0-9]+/)[0];return i?parseInt(i,10):null}return null},io=function(n){return/x-content-transfer-id:/i.test(n)&&(n.split(":")[1]||"").trim()||null},Hn=function(n){var i={source:null,name:null,size:null},s=n.split("\n"),u=!0,v=!1,P=void 0;try{for(var S,V=s[Symbol.iterator]();!(u=(S=V.next()).done);u=!0){var H=S.value,rt=zi(H);if(rt)i.name=rt;else{var Ct=Bi(H);if(Ct)i.size=Ct;else{var Rt=io(H);Rt&&(i.source=Rt)}}}}catch(Lt){v=!0,P=Lt}finally{try{u||null==V.return||V.return()}finally{if(v)throw P}}return i},ht=function(n){return/GET|HEAD/.test(n)},nt=function(n,i,s){var u={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){v=!0,S.abort()}},v=!1,P=!1;s=Object.assign({method:"POST",headers:{},withCredentials:!1},s),i=encodeURI(i),ht(s.method)&&n&&(i=""+i+encodeURIComponent("string"==typeof n?n:JSON.stringify(n)));var S=new XMLHttpRequest;return(ht(s.method)?S:S.upload).onprogress=function(V){v||u.onprogress(V.lengthComputable,V.loaded,V.total)},S.onreadystatechange=function(){S.readyState<2||4===S.readyState&&0===S.status||P||(P=!0,u.onheaders(S))},S.onload=function(){S.status>=200&&S.status<300?u.onload(S):u.onerror(S)},S.onerror=function(){return u.onerror(S)},S.onabort=function(){v=!0,u.onabort()},S.ontimeout=function(){return u.ontimeout(S)},S.open(s.method,i,!0),O(s.timeout)&&(S.timeout=s.timeout),Object.keys(s.headers).forEach(function(V){var H=unescape(encodeURIComponent(s.headers[V]));S.setRequestHeader(V,H)}),s.responseType&&(S.responseType=s.responseType),s.withCredentials&&(S.withCredentials=!0),S.send(n),u},xt=function(n,i,s,u){return{type:n,code:i,body:s,headers:u}},wt=function(n){return function(i){n(xt("error",0,"Timeout",i.getAllResponseHeaders()))}},fe=function(n){return/\?/.test(n)},Ee=function(){for(var n="",i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return s.forEach(function(v){n+=fe(n)&&fe(v)?v.replace(/\?/,"&"):v}),n},gn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;if("function"==typeof i)return i;if(!i||!W(i.url))return null;var s=i.onload||function(v){return v},u=i.onerror||function(v){return null};return function(v,P,S,V,H,rt){var Ct=nt(v,Ee(n,i.url),Object.assign({},i,{responseType:"blob"}));return Ct.onload=function(Rt){var Lt=Rt.getAllResponseHeaders(),Nt=Hn(Lt).name||Oe(v);P(xt("load",Rt.status,"HEAD"===i.method?null:Zn(s(Rt.response),Nt),Lt))},Ct.onerror=function(Rt){S(xt("error",Rt.status,u(Rt.response)||Rt.statusText,Rt.getAllResponseHeaders()))},Ct.onheaders=function(Rt){rt(xt("headers",Rt.status,null,Rt.getAllResponseHeaders()))},Ct.ontimeout=wt(S),Ct.onprogress=V,Ct.onabort=H,Ct}},an=function(n,i,s,u,v,P,S,V,H,rt,Ct){for(var Rt=[],Nt=Ct.chunkServer,se=Ct.chunkSize,Gt=Ct.chunkRetryDelays,Jt={serverId:Ct.chunkTransferId,aborted:!1},Ce=i.ondata||function(We){return We},me=i.onload||function(We,Ni){return"HEAD"===Ni?We.getResponseHeader("Upload-Offset"):We.response},Je=i.onerror||function(We){return null},tn=Math.floor(u.size/se),Qn=0;Qn<=tn;Qn++){var li=Qn*se,Vn=u.slice(li,li+se,"application/offset+octet-stream");Rt[Qn]={index:Qn,size:Vn.size,offset:li,data:Vn,file:u,progress:0,retries:kt(Gt),status:0,error:null,request:null,timeout:null}}var sn,Zt,Dt,ae,ke=function(We){return 0===We.status||3===We.status},fn=function(We){if(!Jt.aborted)if(We=We||Rt.find(ke)){We.status=2,We.progress=null;var Ni=Nt.ondata||function(Zi){return Zi},Ci=Nt.onerror||function(Zi){return null},Ii=Ee(n,Nt.url,Jt.serverId),Vi="function"==typeof Nt.headers?Nt.headers(We):Object.assign({},Nt.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":We.offset,"Upload-Length":u.size,"Upload-Name":u.name}),Yi=We.request=nt(Ni(We.data),Ii,Object.assign({},Nt,{headers:Vi}));Yi.onload=function(){We.status=1,We.request=null,no()},Yi.onprogress=function(Zi,br,Yr){We.progress=Zi?br:null,ti()},Yi.onerror=function(Zi){We.status=3,We.request=null,We.error=Ci(Zi.response)||Zi.statusText,cn(We)||S(xt("error",Zi.status,Ci(Zi.response)||Zi.statusText,Zi.getAllResponseHeaders()))},Yi.ontimeout=function(Zi){We.status=3,We.request=null,cn(We)||wt(S)(Zi)},Yi.onabort=function(){We.status=0,We.request=null,H()}}else Rt.every(function(Zi){return 1===Zi.status})&&P(Jt.serverId)},cn=function(We){return 0!==We.retries.length&&(We.status=4,clearTimeout(We.timeout),We.timeout=setTimeout(function(){fn(We)},We.retries.shift()),!0)},ti=function(){var We=Rt.reduce(function(Ci,Ii){return null===Ci||null===Ii.progress?null:Ci+Ii.progress},0);if(null===We)return V(!1,0,0);var Ni=Rt.reduce(function(Ci,Ii){return Ci+Ii.size},0);V(!0,We,Ni)},no=function(){Rt.filter(function(We){return 2===We.status}).length>=1||fn()};return Jt.serverId?(sn=function(We){Jt.aborted||(Rt.filter(function(Ni){return Ni.offset<We}).forEach(function(Ni){Ni.status=1,Ni.progress=Ni.size}),no())},Zt=Ee(n,Nt.url,Jt.serverId),Dt={headers:"function"==typeof i.headers?i.headers(Jt.serverId):Object.assign({},i.headers),method:"HEAD"},(ae=nt(null,Zt,Dt)).onload=function(We){return sn(me(We,Dt.method))},ae.onerror=function(We){return S(xt("error",We.status,Je(We.response)||We.statusText,We.getAllResponseHeaders()))},ae.ontimeout=wt(S)):function(We){var Ni=new FormData;it(v)&&Ni.append(s,JSON.stringify(v));var Ci="function"==typeof i.headers?i.headers(u,v):Object.assign({},i.headers,{"Upload-Length":u.size}),Ii=Object.assign({},i,{headers:Ci}),Vi=nt(Ce(Ni),Ee(n,i.url),Ii);Vi.onload=function(Yi){return function(We){Jt.aborted||(rt(We),Jt.serverId=We,no())}(me(Yi,Ii.method))},Vi.onerror=function(Yi){return S(xt("error",Yi.status,Je(Yi.response)||Yi.statusText,Yi.getAllResponseHeaders()))},Vi.ontimeout=wt(S)}(),{abort:function(){Jt.aborted=!0,Rt.forEach(function(We){clearTimeout(We.timeout),We.request&&We.request.abort()})}}},bi=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;if("function"==typeof i)return i;if(!i||!W(i.url))return function(v,P){return P()};var s=i.onload||function(v){return v},u=i.onerror||function(v){return null};return function(v,P,S){var V=nt(v,n+i.url,i);return V.onload=function(H){P(xt("load",H.status,s(H.response),H.getAllResponseHeaders()))},V.onerror=function(H){S(xt("error",H.status,u(H.response)||H.statusText,H.getAllResponseHeaders()))},V.ontimeout=wt(S),V}},ni=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n+Math.random()*(i-n)},ki=function(n){return n.substring(0,n.lastIndexOf("."))||n},ri=function(n){return!!(n instanceof File||n instanceof Blob&&n.name)},Sn=function(n,i){var u,v,s=(u=n,Ne(v=i)?0:W(v)?u.findIndex(function(P){return P.id===v}):-1);if(!(s<0))return n[s]||null},Fi=function(n,i,s,u,v,P){var S=nt(null,n,{method:"GET",responseType:"blob"});return S.onload=function(V){var H=V.getAllResponseHeaders(),rt=Hn(H).name||Oe(n);i(xt("load",V.status,Zn(V.response,rt),H))},S.onerror=function(V){s(xt("error",V.status,V.statusText,V.getAllResponseHeaders()))},S.onheaders=function(V){P(xt("headers",V.status,null,V.getAllResponseHeaders()))},S.ontimeout=wt(s),S.onprogress=u,S.onabort=v,S},oo=function(n){return 0===n.indexOf("//")&&(n=location.protocol+n),n.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},Si=function(n){return function(){return w(n)?n.apply(void 0,arguments):n}},Xo=function(n,i){clearTimeout(i.listUpdateTimeout),i.listUpdateTimeout=setTimeout(function(){n("DID_UPDATE_ITEMS",{items:bn(i.items)})},0)},Ai=function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];return new Promise(function(v){if(!n)return v(!0);var P=n.apply(void 0,s);return null==P?v(!0):"boolean"==typeof P?v(P):void("function"==typeof P.then&&P.then(v))})},bo=function(n,i){n.items.sort(function(s,u){return i(Qt(s),Qt(u))})},On=function(n,i){return function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=s.query,v=s.success,P=void 0===v?function(){}:v,S=s.failure,V=void 0===S?function(){}:S,H=Mt(s,["query","success","failure"]),rt=dn(n.items,u);rt?i(rt,P,V,H||{}):V({error:xt("error",0,"Item not found"),file:null})}},Kn=function(n,i,s){return{ABORT_ALL:function(){bn(s.items).forEach(function(u){u.freeze(),u.abortLoad(),u.abortProcessing()})},DID_SET_FILES:function(u){var v=u.value,P=(void 0===v?[]:v).map(function(V){return{source:V.source?V.source:V,options:V.options}}),S=bn(s.items);S.forEach(function(V){P.find(function(H){return H.source===V.source||H.source===V.file})||n("REMOVE_ITEM",{query:V,remove:!1})}),S=bn(s.items),P.forEach(function(V,H){S.find(function(rt){return rt.source===V.source||rt.file===V.source})||n("ADD_ITEM",Object.assign({},V,{interactionMethod:5,index:H}))})},DID_UPDATE_ITEM_METADATA:function(u){var v=u.id,P=u.action,S=u.change;S.silent||(clearTimeout(s.itemUpdateTimeout),s.itemUpdateTimeout=setTimeout(function(){var Ct,V=Sn(s.items,v);if(i("IS_ASYNC")){V.origin===Le.LOCAL&&n("DID_LOAD_ITEM",{id:V.id,error:null,serverFileReference:V.source});var H,rt=function(){setTimeout(function(){n("REQUEST_ITEM_PROCESSING",{query:v})},32)};return V.status===Yt.PROCESSING_COMPLETE?(H=s.options.instantUpload,void V.revert(bi(s.options.server.url,s.options.server.revert),i("GET_FORCE_REVERT")).then(H?rt:function(){}).catch(function(){})):V.status===Yt.PROCESSING?(Ct=s.options.instantUpload,void V.abortProcessing().then(Ct?rt:function(){})):void(s.options.instantUpload&&rt())}ie("SHOULD_PREPARE_OUTPUT",!1,{item:V,query:i,action:P,change:S}).then(function(Ct){var Rt=i("GET_BEFORE_PREPARE_FILE");Rt&&(Ct=Rt(V,Ct)),Ct&&n("REQUEST_PREPARE_OUTPUT",{query:v,item:V,success:function(Lt){n("DID_PREPARE_OUTPUT",{id:v,file:Lt})}},!0)})},0))},MOVE_ITEM:function(u){var P=u.index,S=dn(s.items,u.query);if(S){var V=s.items.indexOf(S);V!==(P=He(P,0,s.items.length-1))&&s.items.splice(P,0,s.items.splice(V,1)[0])}},SORT:function(u){bo(s,u.compare),n("DID_SORT_ITEMS",{items:i("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(u){var v=u.items,P=u.index,S=u.interactionMethod,V=u.success,H=void 0===V?function(){}:V,rt=u.failure,Ct=void 0===rt?function(){}:rt,Rt=P;if(-1===P||void 0===P){var Lt=i("GET_ITEM_INSERT_LOCATION"),Nt=i("GET_TOTAL_ITEMS");Rt="before"===Lt?0:Nt}var se=i("GET_IGNORED_FILES"),Gt=v.filter(function(Jt){return ri(Jt)?!se.includes(Jt.name.toLowerCase()):!Ne(Jt)}).map(function(Jt){return new Promise(function(Ce,me){n("ADD_ITEM",{interactionMethod:S,source:Jt.source||Jt,success:Ce,failure:me,index:Rt++,options:Jt.options||{}})})});Promise.all(Gt).then(H).catch(Ct)},ADD_ITEM:function(u){var Dt,ae,ke,fn,cn,v=u.source,P=u.index,S=void 0===P?-1:P,V=u.interactionMethod,H=u.success,rt=void 0===H?function(){}:H,Ct=u.failure,Rt=void 0===Ct?function(){}:Ct,Lt=u.options,Nt=void 0===Lt?{}:Lt;if(Ne(v))Rt({error:xt("error",0,"No source"),file:null});else if(!ri(v)||!s.options.ignoredFiles.includes(v.name.toLowerCase())){if(!function(Dt){var ae=bn(Dt.items).length;if(!Dt.options.allowMultiple)return 0===ae;var ke=Dt.options.maxFiles;return null===ke||ae<ke}(s)){if(s.options.allowMultiple||!s.options.allowMultiple&&!s.options.allowReplace){var se=xt("warning",0,"Max files");return n("DID_THROW_MAX_FILES",{source:v,error:se}),void Rt({error:se,file:null})}var Gt=bn(s.items)[0];if(Gt.status===Yt.PROCESSING_COMPLETE||Gt.status===Yt.PROCESSING_REVERT_ERROR){var Jt=i("GET_FORCE_REVERT");if(Gt.revert(bi(s.options.server.url,s.options.server.revert),Jt).then(function(){Jt&&n("ADD_ITEM",{source:v,index:S,interactionMethod:V,success:rt,failure:Rt,options:Nt})}).catch(function(){}),Jt)return}n("REMOVE_ITEM",{query:Gt.id})}var Ce="local"===Nt.type?Le.LOCAL:"limbo"===Nt.type?Le.LIMBO:Le.INPUT,me=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=It(),v={archived:!1,frozen:!1,released:!1,source:null,file:s,serverFileReference:i,transferId:null,processingAborted:!1,status:i?Yt.PROCESSING_COMPLETE:Yt.INIT,activeLoader:null,activeProcessor:null},P=null,S={},V=function(Lt){return v.status=Lt},H=function(Lt){if(!v.released&&!v.frozen){for(var Nt=arguments.length,se=new Array(Nt>1?Nt-1:0),Gt=1;Gt<Nt;Gt++)se[Gt-1]=arguments[Gt];Ct.fire.apply(Ct,[Lt].concat(se))}},rt=function(Lt,Nt,se){var Gt=Lt.split("."),Jt=Gt[0],Ce=Gt.pop(),me=S;Gt.forEach(function(Je){return me=me[Je]}),JSON.stringify(me[Ce])!==JSON.stringify(Nt)&&(me[Ce]=Nt,H("metadata-update",{key:Jt,value:S[Jt],silent:se}))},Ct=Object.assign({id:{get:function(){return u}},origin:{get:function(){return n},set:function(Lt){return n=Lt}},serverId:{get:function(){return v.serverFileReference}},transferId:{get:function(){return v.transferId}},status:{get:function(){return v.status}},filename:{get:function(){return v.file.name}},filenameWithoutExtension:{get:function(){return ki(v.file.name)}},fileExtension:{get:function(){return Rn(v.file.name)}},fileType:{get:function(){return v.file.type}},fileSize:{get:function(){return v.file.size}},file:{get:function(){return v.file}},relativePath:{get:function(){return v.file._relativePath}},source:{get:function(){return v.source}},getMetadata:function(Lt){return function Nt(se){if(!it(se))return se;var Gt=Gn(se)?[]:{};for(var Jt in se)if(se.hasOwnProperty(Jt)){var Ce=se[Jt];Gt[Jt]=Ce&&it(Ce)?Nt(Ce):Ce}return Gt}(Lt?S[Lt]:S)},setMetadata:function(Lt,Nt,se){if(it(Lt)){var Gt=Lt;return Object.keys(Gt).forEach(function(Jt){rt(Jt,Gt[Jt],Nt)}),Lt}return rt(Lt,Nt,se),Nt},extend:function(Lt,Nt){return Rt[Lt]=Nt},abortLoad:function(){v.activeLoader?v.activeLoader.abort():(V(Yt.INIT),H("load-abort"))},retryLoad:function(){v.activeLoader&&v.activeLoader.load()},requestProcessing:function(){v.processingAborted=!1,V(Yt.PROCESSING_QUEUED)},abortProcessing:function(){return new Promise(function(Lt){if(!v.activeProcessor)return v.processingAborted=!0,V(Yt.IDLE),H("process-abort"),void Lt();P=function(){Lt()},v.activeProcessor.abort()})},load:function(Lt,Nt,se){var Gt,Jt;v.source=Lt,Ct.fireSync("init"),v.file?Ct.fireSync("load-skip"):(v.file=(Jt=[(Gt=Lt).name,Gt.size,Gt.type],Gt instanceof Blob||ge(Gt)?Jt[0]=Gt.name||di():ge(Gt)?(Jt[1]=Gt.length,Jt[2]=Dn(Gt)):W(Gt)&&(Jt[0]=Oe(Gt),Jt[1]=0,Jt[2]="application/octet-stream"),{name:Jt[0],size:Jt[1],type:Jt[2]}),Nt.on("init",function(){H("load-init")}),Nt.on("meta",function(Gt){v.file.size=Gt.size,v.file.filename=Gt.filename,Gt.source&&(n=Le.LIMBO,v.serverFileReference=Gt.source,v.status=Yt.PROCESSING_COMPLETE),H("load-meta")}),Nt.on("progress",function(Gt){V(Yt.LOADING),H("load-progress",Gt)}),Nt.on("error",function(Gt){V(Yt.LOAD_ERROR),H("load-request-error",Gt)}),Nt.on("abort",function(){V(Yt.INIT),H("load-abort")}),Nt.on("load",function(Gt){v.activeLoader=null;var Jt=function(Ce){v.file=ri(Ce)?Ce:v.file,V(n===Le.LIMBO&&v.serverFileReference?Yt.PROCESSING_COMPLETE:Yt.IDLE),H("load")};v.serverFileReference?Jt(Gt):se(Gt,Jt,function(Ce){v.file=Gt,H("load-meta"),V(Yt.LOAD_ERROR),H("load-file-error",Ce)})}),Nt.setSource(Lt),v.activeLoader=Nt,Nt.load())},process:function Lt(Nt,se){if(v.processingAborted)v.processingAborted=!1;else if(V(Yt.PROCESSING),P=null,v.file instanceof Blob){Nt.on("load",function(Jt){v.transferId=null,v.serverFileReference=Jt}),Nt.on("transfer",function(Jt){v.transferId=Jt}),Nt.on("load-perceived",function(Jt){v.activeProcessor=null,v.transferId=null,v.serverFileReference=Jt,V(Yt.PROCESSING_COMPLETE),H("process-complete",Jt)}),Nt.on("start",function(){H("process-start")}),Nt.on("error",function(Jt){v.activeProcessor=null,V(Yt.PROCESSING_ERROR),H("process-error",Jt)}),Nt.on("abort",function(Jt){v.activeProcessor=null,v.serverFileReference=Jt,V(Yt.IDLE),H("process-abort"),P&&P()}),Nt.on("progress",function(Jt){H("process-progress",Jt)});var Gt=console.error;se(v.file,function(Jt){v.archived||Nt.process(Jt,Object.assign({},S))},Gt),v.activeProcessor=Nt}else Ct.on("load",function(){Lt(Nt,se)})},revert:function(Lt,Nt){return new Promise(function(se,Gt){var Jt=null!==v.serverFileReference?v.serverFileReference:v.transferId;null!==Jt?(Lt(Jt,function(){v.serverFileReference=null,v.transferId=null,se()},function(Ce){Nt?(V(Yt.PROCESSING_REVERT_ERROR),H("process-revert-error"),Gt(Ce)):se()}),V(Yt.IDLE),H("process-revert")):se()})}},Ae(),{freeze:function(){return v.frozen=!0},release:function(){return v.released=!0},released:{get:function(){return v.released}},archive:function(){return v.archived=!0},archived:{get:function(){return v.archived}}}),Rt=Ot(Ct);return Rt}(Ce,Ce===Le.INPUT?null:v,Nt.file);Object.keys(Nt.metadata||{}).forEach(function(Dt){me.setMetadata(Dt,Nt.metadata[Dt])}),Ke("DID_CREATE_ITEM",me,{query:i,dispatch:n});var Je=i("GET_ITEM_INSERT_LOCATION");s.options.itemInsertLocationFreedom||(S="before"===Je?-1:s.items.length),Dt=s.items,ke=S,Ne(ae=me)||(void 0===ke?Dt.push(ae):(fn=Dt,cn=ke=He(ke,0,Dt.length),fn.splice(cn,0,ae))),w(Je)&&v&&bo(s,Je);var tn=me.id;me.on("init",function(){n("DID_INIT_ITEM",{id:tn})}),me.on("load-init",function(){n("DID_START_ITEM_LOAD",{id:tn})}),me.on("load-meta",function(){n("DID_UPDATE_ITEM_META",{id:tn})}),me.on("load-progress",function(Dt){n("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:tn,progress:Dt})}),me.on("load-request-error",function(Dt){var ae=Si(s.options.labelFileLoadError)(Dt);if(Dt.code>=400&&Dt.code<500)return n("DID_THROW_ITEM_INVALID",{id:tn,error:Dt,status:{main:ae,sub:Dt.code+" ("+Dt.body+")"}}),void Rt({error:Dt,file:Qt(me)});n("DID_THROW_ITEM_LOAD_ERROR",{id:tn,error:Dt,status:{main:ae,sub:s.options.labelTapToRetry}})}),me.on("load-file-error",function(Dt){n("DID_THROW_ITEM_INVALID",{id:tn,error:Dt.status,status:Dt.status}),Rt({error:Dt.status,file:Qt(me)})}),me.on("load-abort",function(){n("REMOVE_ITEM",{query:tn})}),me.on("load-skip",function(){n("COMPLETE_LOAD_ITEM",{query:tn,item:me,data:{source:v,success:rt}})}),me.on("load",function(){var Dt=function(ae){ae?(me.on("metadata-update",function(ke){n("DID_UPDATE_ITEM_METADATA",{id:tn,change:ke})}),ie("SHOULD_PREPARE_OUTPUT",!1,{item:me,query:i}).then(function(ke){var fn=i("GET_BEFORE_PREPARE_FILE");fn&&(ke=fn(me,ke));var cn=function(){n("COMPLETE_LOAD_ITEM",{query:tn,item:me,data:{source:v,success:rt}}),Xo(n,s)};ke?n("REQUEST_PREPARE_OUTPUT",{query:tn,item:me,success:function(ti){n("DID_PREPARE_OUTPUT",{id:tn,file:ti}),cn()}},!0):cn()})):n("REMOVE_ITEM",{query:tn})};ie("DID_LOAD_ITEM",me,{query:i,dispatch:n}).then(function(){Ai(i("GET_BEFORE_ADD_FILE"),Qt(me)).then(Dt)}).catch(function(ae){if(!ae||!ae.error||!ae.status)return Dt(!1);n("DID_THROW_ITEM_INVALID",{id:tn,error:ae.error,status:ae.status})})}),me.on("process-start",function(){n("DID_START_ITEM_PROCESSING",{id:tn})}),me.on("process-progress",function(Dt){n("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:tn,progress:Dt})}),me.on("process-error",function(Dt){n("DID_THROW_ITEM_PROCESSING_ERROR",{id:tn,error:Dt,status:{main:Si(s.options.labelFileProcessingError)(Dt),sub:s.options.labelTapToRetry}})}),me.on("process-revert-error",function(Dt){n("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:tn,error:Dt,status:{main:Si(s.options.labelFileProcessingRevertError)(Dt),sub:s.options.labelTapToRetry}})}),me.on("process-complete",function(Dt){n("DID_COMPLETE_ITEM_PROCESSING",{id:tn,error:null,serverFileReference:Dt}),n("DID_DEFINE_VALUE",{id:tn,value:Dt})}),me.on("process-abort",function(){n("DID_ABORT_ITEM_PROCESSING",{id:tn})}),me.on("process-revert",function(){n("DID_REVERT_ITEM_PROCESSING",{id:tn}),n("DID_DEFINE_VALUE",{id:tn,value:null})}),n("DID_ADD_ITEM",{id:tn,index:S,interactionMethod:V}),Xo(n,s);var Qn=s.options.server||{},li=Qn.url,Vn=Qn.load,sn=Qn.restore,Zt=Qn.fetch;me.load(v,function(n){var i={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},u=Object.assign({},Ae(),{setSource:function(v){return i.source=v},getProgress:function(){return i.progress},abort:function(){i.request&&i.request.abort&&i.request.abort()},load:function(){var v,S=i.source;u.fire("init",S),S instanceof File?u.fire("load",S):S instanceof Blob?u.fire("load",Zn(S,S.name)):ge(S)?u.fire("load",Zn(function(n){var i=Dn(n);return function(s,u){for(var v=new ArrayBuffer(s.length),P=new Uint8Array(v),S=0;S<s.length;S++)P[S]=s.charCodeAt(S);return Nn(v,u)}(atob(n.split(",")[1].replace(/\s/g,"")),i)}(S),void 0,null,void 0)):(v=S,n?(i.timestamp=Date.now(),i.request=n(v,function(P){i.duration=Date.now()-i.timestamp,i.complete=!0,P instanceof Blob&&(P=Zn(P,P.name||Oe(v))),u.fire("load",P instanceof Blob?P:P?P.body:null)},function(P){u.fire("error","string"==typeof P?{type:"error",code:0,body:P}:P)},function(P,S,V){V&&(i.size=V),i.duration=Date.now()-i.timestamp,P?(i.progress=S/V,u.fire("progress",i.progress)):i.progress=null},function(){u.fire("abort")},function(P){var S=Hn("string"==typeof P?P:P.headers);u.fire("meta",{size:i.size||S.size,filename:S.name,source:S.source})})):u.fire("error",{type:"error",body:"Can't load URL",code:400}))}});return u}(Ce===Le.INPUT?W(v)&&function(Dt){return(Dt.indexOf(":")>-1||Dt.indexOf("//")>-1)&&oo(location.href)!==oo(Dt)}(v)&&Zt?gn(li,Zt):Fi:gn(li,Ce===Le.LIMBO?sn:Vn)),function(Dt,ae,ke){ie("LOAD_FILE",Dt,{query:i}).then(ae).catch(ke)})}},REQUEST_PREPARE_OUTPUT:function(u){var v=u.item,P=u.success,S=u.failure,V=void 0===S?function(){}:S,H={error:xt("error",0,"Item not found"),file:null};if(v.archived)return V(H);ie("PREPARE_OUTPUT",v.file,{query:i,item:v}).then(function(rt){ie("COMPLETE_PREPARE_OUTPUT",rt,{query:i,item:v}).then(function(Ct){if(v.archived)return V(H);P(Ct)})})},COMPLETE_LOAD_ITEM:function(u){var v=u.item,P=u.data,S=P.success,V=P.source,H=i("GET_ITEM_INSERT_LOCATION");if(w(H)&&V&&bo(s,H),n("DID_LOAD_ITEM",{id:v.id,error:null,serverFileReference:v.origin===Le.INPUT?null:V}),S(Qt(v)),v.origin!==Le.LOCAL)return v.origin===Le.LIMBO?(n("DID_COMPLETE_ITEM_PROCESSING",{id:v.id,error:null,serverFileReference:V}),void n("DID_DEFINE_VALUE",{id:v.id,value:v.serverId||V})):void(i("IS_ASYNC")&&s.options.instantUpload&&n("REQUEST_ITEM_PROCESSING",{query:v.id}));n("DID_LOAD_LOCAL_ITEM",{id:v.id})},RETRY_ITEM_LOAD:On(s,function(u){u.retryLoad()}),REQUEST_ITEM_PREPARE:On(s,function(u,v,P){n("REQUEST_PREPARE_OUTPUT",{query:u.id,item:u,success:function(S){n("DID_PREPARE_OUTPUT",{id:u.id,file:S}),v({file:u,output:S})},failure:P},!0)}),REQUEST_ITEM_PROCESSING:On(s,function(u,v,P){if(u.status===Yt.IDLE||u.status===Yt.PROCESSING_ERROR)u.status!==Yt.PROCESSING_QUEUED&&(u.requestProcessing(),n("DID_REQUEST_ITEM_PROCESSING",{id:u.id}),n("PROCESS_ITEM",{query:u,success:v,failure:P},!0));else{var S=function(){return n("REQUEST_ITEM_PROCESSING",{query:u,success:v,failure:P})},V=function(){return document.hidden?S():setTimeout(S,32)};u.status===Yt.PROCESSING_COMPLETE||u.status===Yt.PROCESSING_REVERT_ERROR?u.revert(bi(s.options.server.url,s.options.server.revert),i("GET_FORCE_REVERT")).then(V).catch(function(){}):u.status===Yt.PROCESSING&&u.abortProcessing().then(V)}}),PROCESS_ITEM:On(s,function(u,v,P){var S=i("GET_MAX_PARALLEL_UPLOADS");if(i("GET_ITEMS_BY_STATUS",Yt.PROCESSING).length!==S){if(u.status!==Yt.PROCESSING){var V=function rt(){var Ct=s.processingQueue.shift();if(Ct){var Rt=Ct.id,Lt=Ct.success,Nt=Ct.failure,se=dn(s.items,Rt);se&&!se.archived?n("PROCESS_ITEM",{query:Rt,success:Lt,failure:Nt},!0):rt()}};u.onOnce("process-complete",function(){if(v(Qt(u)),V(),s.options.instantUpload&&u.origin===Le.LOCAL&&w(s.options.server.remove)){var Ct=function(){};u.origin=Le.LIMBO,s.options.server.remove(u.source,Ct,Ct)}i("GET_ITEMS_BY_STATUS",Yt.PROCESSING_COMPLETE).length===s.items.length&&n("DID_COMPLETE_ITEM_PROCESSING_ALL")}),u.onOnce("process-error",function(rt){P({error:rt,file:Qt(u)}),V()});var H=s.options;u.process(function(n,i){var s={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},u=i.allowMinimumUploadDuration,v=function(){s.request&&(s.perceivedPerformanceUpdater.clear(),s.request.abort&&s.request.abort(),s.complete=!0)},P=u?function(){return s.progress?Math.min(s.progress,s.perceivedProgress):null}:function(){return s.progress||null},S=u?function(){return Math.min(s.duration,s.perceivedDuration)}:function(){return s.duration},V=Object.assign({},Ae(),{process:function(H,rt){var Ct=function(){0!==s.duration&&null!==s.progress&&V.fire("progress",V.getProgress())},Rt=function(){s.complete=!0,V.fire("load-perceived",s.response.body)};V.fire("start"),s.timestamp=Date.now(),s.perceivedPerformanceUpdater=function(Lt){var Nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,se=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,Gt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,Jt=null,Ce=Date.now();return Nt>0&&function me(){var Je=Date.now()-Ce,tn=ni(se,Gt);Je+tn>Nt&&(tn=Je+tn-Nt);var Qn=Je/Nt;Qn>=1||document.hidden?Lt(1):(Lt(Qn),Jt=setTimeout(me,tn))}(),{clear:function(){clearTimeout(Jt)}}}(function(Lt){s.perceivedProgress=Lt,s.perceivedDuration=Date.now()-s.timestamp,Ct(),s.response&&1===s.perceivedProgress&&!s.complete&&Rt()},u?ni(750,1500):0),s.request=n(H,rt,function(Lt){s.response=it(Lt)?Lt:{type:"load",code:200,body:""+Lt,headers:{}},s.duration=Date.now()-s.timestamp,s.progress=1,V.fire("load",s.response.body),(!u||u&&1===s.perceivedProgress)&&Rt()},function(Lt){s.perceivedPerformanceUpdater.clear(),V.fire("error",it(Lt)?Lt:{type:"error",code:0,body:""+Lt})},function(Lt,Nt,se){s.duration=Date.now()-s.timestamp,s.progress=Lt?Nt/se:null,Ct()},function(){s.perceivedPerformanceUpdater.clear(),V.fire("abort",s.response?s.response.body:null)},function(Lt){V.fire("transfer",Lt)})},abort:v,getProgress:P,getDuration:S,reset:function(){v(),s.complete=!1,s.perceivedProgress=0,s.progress=0,s.timestamp=null,s.perceivedDuration=0,s.duration=0,s.request=null,s.response=null}});return V}(function(){var v,P,S,V,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;return"function"==typeof i?function(){for(var v=arguments.length,P=new Array(v),S=0;S<v;S++)P[S]=arguments[S];return i.apply(void 0,[s].concat(P,[u]))}:i&&W(i.url)?(v=n,P=i,S=s,V=u,function(H,rt,Ct,Rt,Lt,Nt,se){if(H){var Gt=V.chunkUploads;if(H instanceof Blob&&Gt&&(Gt&&H.size>V.chunkSize||V.chunkForce))return an(v,P,S,H,rt,Ct,Rt,Lt,Nt,se,V);var me=P.ondata||function(Zt){return Zt},Je=P.onload||function(Zt){return Zt},tn=P.onerror||function(Zt){return null},Qn="function"==typeof P.headers?P.headers(H,rt)||{}:Object.assign({},P.headers),li=Object.assign({},P,{headers:Qn}),Vn=new FormData;it(rt)&&Vn.append(S,JSON.stringify(rt)),(H instanceof Blob?[{name:null,file:H}]:H).forEach(function(Zt){Vn.append(S,Zt.file,null===Zt.name?Zt.file.name:""+Zt.name+Zt.file.name)});var sn=nt(me(Vn),Ee(v,P.url),li);return sn.onload=function(Zt){Ct(xt("load",Zt.status,Je(Zt.response),Zt.getAllResponseHeaders()))},sn.onerror=function(Zt){Rt(xt("error",Zt.status,tn(Zt.response)||Zt.statusText,Zt.getAllResponseHeaders()))},sn.ontimeout=wt(Rt),sn.onprogress=Lt,sn.onabort=Nt,sn}}):null}(H.server.url,H.server.process,H.name,{chunkTransferId:u.transferId,chunkServer:H.server.patch,chunkUploads:H.chunkUploads,chunkForce:H.chunkForce,chunkSize:H.chunkSize,chunkRetryDelays:H.chunkRetryDelays}),{allowMinimumUploadDuration:i("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(rt,Ct,Rt){ie("PREPARE_OUTPUT",rt,{query:i,item:u}).then(function(Lt){n("DID_PREPARE_OUTPUT",{id:u.id,file:Lt}),Ct(Lt)}).catch(Rt)})}}else s.processingQueue.push({id:u.id,success:v,failure:P})}),RETRY_ITEM_PROCESSING:On(s,function(u){n("REQUEST_ITEM_PROCESSING",{query:u})}),REQUEST_REMOVE_ITEM:On(s,function(u){Ai(i("GET_BEFORE_REMOVE_FILE"),Qt(u)).then(function(v){v&&n("REMOVE_ITEM",{query:u})})}),RELEASE_ITEM:On(s,function(u){u.release()}),REMOVE_ITEM:On(s,function(u,v,P,S){var V=function(){var rt=u.id;Sn(s.items,rt).archive(),n("DID_REMOVE_ITEM",{error:null,id:rt,item:u}),Xo(n,s),v(Qt(u))},H=s.options.server;u.origin===Le.LOCAL&&H&&w(H.remove)&&!1!==S.remove?(n("DID_START_ITEM_REMOVE",{id:u.id}),H.remove(u.source,function(){return V()},function(rt){n("DID_THROW_ITEM_REMOVE_ERROR",{id:u.id,error:xt("error",0,rt,null),status:{main:Si(s.options.labelFileRemoveError)(rt),sub:s.options.labelTapToRetry}})})):((S.revert&&u.origin!==Le.LOCAL&&null!==u.serverId||s.options.chunkUploads&&u.file.size>s.options.chunkSize||s.options.chunkUploads&&s.options.chunkForce)&&u.revert(bi(s.options.server.url,s.options.server.revert),i("GET_FORCE_REVERT")),V())}),ABORT_ITEM_LOAD:On(s,function(u){u.abortLoad()}),ABORT_ITEM_PROCESSING:On(s,function(u){u.serverId?n("REVERT_ITEM_PROCESSING",{id:u.id}):u.abortProcessing().then(function(){s.options.instantUpload&&n("REMOVE_ITEM",{query:u.id})})}),REQUEST_REVERT_ITEM_PROCESSING:On(s,function(u){if(s.options.instantUpload){var v=function(V){V&&n("REVERT_ITEM_PROCESSING",{query:u})},P=i("GET_BEFORE_REMOVE_FILE");if(!P)return v(!0);var S=P(Qt(u));return null==S?v(!0):"boolean"==typeof S?v(S):void("function"==typeof S.then&&S.then(v))}n("REVERT_ITEM_PROCESSING",{query:u})}),REVERT_ITEM_PROCESSING:On(s,function(u){u.revert(bi(s.options.server.url,s.options.server.revert),i("GET_FORCE_REVERT")).then(function(){(s.options.instantUpload||!ri(u.file))&&n("REMOVE_ITEM",{query:u.id})}).catch(function(){})}),SET_OPTIONS:function(u){var v=u.options,P=Object.keys(v),S=uo.filter(function(V){return P.includes(V)});[].concat(kt(S),kt(Object.keys(v).filter(function(V){return!S.includes(V)}))).forEach(function(V){n("SET_"+b(V,"_").toUpperCase(),{value:v[V]})})}}},uo=["server"],Ei=function(n){return document.createElement(n)},gi=function(n,i){var s=n.childNodes[0];s?i!==s.nodeValue&&(s.nodeValue=i):(s=document.createTextNode(i),n.appendChild(s))},Fo=function(n,i,s,u){var v=(u%360-90)*Math.PI/180;return{x:n+s*Math.cos(v),y:i+s*Math.sin(v)}},Eo=De({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(n){var i=n.root,s=n.props;s.spin=!1,s.progress=0,s.opacity=0;var u=I("svg");i.ref.path=I("path",{"stroke-width":2,"stroke-linecap":"round"}),u.appendChild(i.ref.path),i.ref.svg=u,i.appendChild(u)},write:function(n){var i=n.root,s=n.props;if(0!==s.opacity){s.align&&(i.element.dataset.align=s.align);var u=parseInt(D(i.ref.path,"stroke-width"),10),v=.5*i.rect.element.width,P=0,S=0;s.spin?(P=0,S=.5):(P=0,S=s.progress);var V=function(n,i,s,u,v){var S,V,H,rt,Ct,Rt,Lt,Nt,P=1;return v>u&&v-u<=.5&&(P=0),u>v&&u-v>=.5&&(P=0),S=n,V=i,H=s,rt=360*Math.min(.9999,u),Ct=360*Math.min(.9999,v),Rt=P,Lt=Fo(S,V,H,Ct),Nt=Fo(S,V,H,rt),["M",Lt.x,Lt.y,"A",H,H,0,Rt,0,Nt.x,Nt.y].join(" ")}(v,v,v-u,P,S);D(i.ref.path,"d",V),D(i.ref.path,"stroke-opacity",s.spin||s.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),ho=De({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(n){var s=n.props;n.root.element.innerHTML=(s.icon||"")+"<span>"+s.label+"</span>",s.isDisabled=!1},write:function(n){var i=n.root,s=n.props,u=s.isDisabled,v=i.query("GET_DISABLED")||0===s.opacity;v&&!u?(s.isDisabled=!0,D(i.element,"disabled","disabled")):!v&&u&&(s.isDisabled=!1,i.element.removeAttribute("disabled"))}}),Ao=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},v=u.labelBytes,P=void 0===v?"bytes":v,S=u.labelKilobytes,V=void 0===S?"KB":S,H=u.labelMegabytes,rt=void 0===H?"MB":H,Ct=u.labelGigabytes,Rt=void 0===Ct?"GB":Ct,Lt=s,Nt=s*s,se=s*s*s;return(n=Math.round(Math.abs(n)))<Lt?n+" "+P:n<Nt?Math.floor(n/Lt)+" "+V:n<se?Ui(n/Nt,1,i)+" "+rt:Ui(n/se,2,i)+" "+Rt},Ui=function(n,i,s){return n.toFixed(i).split(".").filter(function(u){return"0"!==u}).join(s)},ro=function(n){var i=n.root,s=n.props;gi(i.ref.fileSize,Ao(i.query("GET_ITEM_SIZE",s.id),".",i.query("GET_FILE_SIZE_BASE"),i.query("GET_FILE_SIZE_LABELS",i.query))),gi(i.ref.fileName,i.query("GET_ITEM_NAME",s.id))},ko=function(n){var i=n.root,s=n.props;O(i.query("GET_ITEM_SIZE",s.id))?ro({root:i,props:s}):gi(i.ref.fileSize,i.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},gr=De({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Pe({DID_LOAD_ITEM:ro,DID_UPDATE_ITEM_META:ro,DID_THROW_ITEM_LOAD_ERROR:ko,DID_THROW_ITEM_INVALID:ko}),didCreateView:function(n){Ke("CREATE_VIEW",Object.assign({},n,{view:n}))},create:function(n){var i=n.root,s=n.props,u=Ei("span");u.className="filepond--file-info-main",D(u,"aria-hidden","true"),i.appendChild(u),i.ref.fileName=u;var v=Ei("span");v.className="filepond--file-info-sub",i.appendChild(v),i.ref.fileSize=v,gi(v,i.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),gi(u,i.query("GET_ITEM_NAME",s.id))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),or=function(n){return Math.round(100*n)},Go=function(n){var i=n.root,s=n.action,u=null===s.progress?i.query("GET_LABEL_FILE_LOADING"):i.query("GET_LABEL_FILE_LOADING")+" "+or(s.progress)+"%";gi(i.ref.main,u),gi(i.ref.sub,i.query("GET_LABEL_TAP_TO_CANCEL"))},wo=function(n){var i=n.root;gi(i.ref.main,""),gi(i.ref.sub,"")},so=function(n){var i=n.root,s=n.action;gi(i.ref.main,s.status.main),gi(i.ref.sub,s.status.sub)},fr=De({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Pe({DID_LOAD_ITEM:wo,DID_REVERT_ITEM_PROCESSING:wo,DID_REQUEST_ITEM_PROCESSING:function(n){var i=n.root;gi(i.ref.main,i.query("GET_LABEL_FILE_PROCESSING")),gi(i.ref.sub,i.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(n){var i=n.root;gi(i.ref.main,i.query("GET_LABEL_FILE_PROCESSING_ABORTED")),gi(i.ref.sub,i.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(n){var i=n.root;gi(i.ref.main,i.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),gi(i.ref.sub,i.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(n){var i=n.root,s=n.action,u=null===s.progress?i.query("GET_LABEL_FILE_PROCESSING"):i.query("GET_LABEL_FILE_PROCESSING")+" "+or(s.progress)+"%";gi(i.ref.main,u),gi(i.ref.sub,i.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Go,DID_THROW_ITEM_LOAD_ERROR:so,DID_THROW_ITEM_INVALID:so,DID_THROW_ITEM_PROCESSING_ERROR:so,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:so,DID_THROW_ITEM_REMOVE_ERROR:so}),didCreateView:function(n){Ke("CREATE_VIEW",Object.assign({},n,{view:n}))},create:function(n){var i=n.root,s=Ei("span");s.className="filepond--file-status-main",i.appendChild(s),i.ref.main=s;var u=Ei("span");u.className="filepond--file-status-sub",i.appendChild(u),i.ref.sub=u,Go({root:i,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Ko={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},jo=[];Q(Ko,function(n){jo.push(n)});var To,$n=function(n){if("right"===Jo(n))return 0;var i=n.ref.buttonRemoveItem.rect.element;return i.hidden?null:i.width+i.left},qi=function(n){return n.ref.buttonAbortItemLoad.rect.element.width},Xi=function(n){return Math.floor(n.ref.buttonRemoveItem.rect.element.height/4)},_i=function(n){return Math.floor(n.ref.buttonRemoveItem.rect.element.left/2)},Jo=function(n){return n.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Ti={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(n){return n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(n){return n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},vi={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:$n},status:{translateX:$n}},ao={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Vo={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:$n},status:{translateX:$n,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:$n},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Jo},info:{translateX:$n},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Jo},buttonRemoveItem:{opacity:1},info:{translateX:$n},status:{opacity:1,translateX:$n}},DID_LOAD_ITEM:vi,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:$n},status:{translateX:$n}},DID_START_ITEM_PROCESSING:ao,DID_REQUEST_ITEM_PROCESSING:ao,DID_UPDATE_ITEM_PROCESS_PROGRESS:ao,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:$n}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:$n},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:vi},lo=De({create:function(n){var i=n.root;i.element.innerHTML=i.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Oi=Pe({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(n){n.root.ref.buttonAbortItemProcessing.label=n.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(n){n.root.ref.buttonAbortItemLoad.label=n.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(n){n.root.ref.buttonAbortItemRemoval.label=n.action.value},DID_REQUEST_ITEM_PROCESSING:function(n){var i=n.root;i.ref.processProgressIndicator.spin=!0,i.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(n){var i=n.root;i.ref.loadProgressIndicator.spin=!0,i.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(n){var i=n.root;i.ref.processProgressIndicator.spin=!0,i.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(n){var i=n.root,s=n.action;i.ref.loadProgressIndicator.spin=!1,i.ref.loadProgressIndicator.progress=s.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(n){var i=n.root,s=n.action;i.ref.processProgressIndicator.spin=!1,i.ref.processProgressIndicator.progress=s.progress}}),rr=De({create:function(n){var i,s=n.root,u=n.props,v=Object.keys(Ko).reduce(function(Ce,me){return Ce[me]=Object.assign({},Ko[me]),Ce},{}),P=u.id,S=s.query("GET_ALLOW_REVERT"),V=s.query("GET_ALLOW_REMOVE"),H=s.query("GET_ALLOW_PROCESS"),rt=s.query("GET_INSTANT_UPLOAD"),Ct=s.query("IS_ASYNC"),Rt=s.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");Ct?H&&!S?i=function(Ce){return!/RevertItemProcessing/.test(Ce)}:!H&&S?i=function(Ce){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(Ce)}:H||S||(i=function(Ce){return!/Process/.test(Ce)}):i=function(Ce){return!/Process/.test(Ce)};var Lt=i?jo.filter(i):jo.concat();if(rt&&S&&(v.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",v.RevertItemProcessing.icon="GET_ICON_REMOVE"),Ct&&!S){var Nt=Vo.DID_COMPLETE_ITEM_PROCESSING;Nt.info.translateX=_i,Nt.info.translateY=Xi,Nt.status.translateY=Xi,Nt.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(Ct&&!H&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(Ce){Vo[Ce].status.translateY=Xi}),Vo.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=qi),Rt&&S){v.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var se=Vo.DID_COMPLETE_ITEM_PROCESSING;se.info.translateX=$n,se.status.translateY=Xi,se.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}V||(v.RemoveItem.disabled=!0),Q(v,function(Ce,me){var Je=s.createChildView(ho,{label:s.query(me.label),icon:s.query(me.icon),opacity:0});Lt.includes(Ce)&&s.appendChildView(Je),me.disabled&&(Je.element.setAttribute("disabled","disabled"),Je.element.setAttribute("hidden","hidden")),Je.element.dataset.align=s.query("GET_STYLE_"+me.align),Je.element.classList.add(me.className),Je.on("click",function(tn){tn.stopPropagation(),me.disabled||s.dispatch(me.action,{query:P})}),s.ref["button"+Ce]=Je}),s.ref.processingCompleteIndicator=s.appendChildView(s.createChildView(lo)),s.ref.processingCompleteIndicator.element.dataset.align=s.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),s.ref.info=s.appendChildView(s.createChildView(gr,{id:P})),s.ref.status=s.appendChildView(s.createChildView(fr,{id:P}));var Gt=s.appendChildView(s.createChildView(Eo,{opacity:0,align:s.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));Gt.element.classList.add("filepond--load-indicator"),s.ref.loadProgressIndicator=Gt;var Jt=s.appendChildView(s.createChildView(Eo,{opacity:0,align:s.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));Jt.element.classList.add("filepond--process-indicator"),s.ref.processProgressIndicator=Jt,s.ref.activeStyles=[]},write:function(n){var i=n.root,s=n.actions;Oi({root:i,actions:s,props:n.props});var v=s.concat().filter(function(S){return/^DID_/.test(S.type)}).reverse().find(function(S){return Vo[S.type]});if(v){i.ref.activeStyles=[];var P=Vo[v.type];Q(Ti,function(S,V){var H=i.ref[S];Q(V,function(rt,Ct){i.ref.activeStyles.push({control:H,key:rt,value:P[S]&&void 0!==P[S][rt]?P[S][rt]:Ct})})})}i.ref.activeStyles.forEach(function(S){var rt=S.value;S.control[S.key]="function"==typeof rt?rt(i):rt})},didCreateView:function(n){Ke("CREATE_VIEW",Object.assign({},n,{view:n}))},name:"file"}),ii=De({create:function(n){var i=n.root,s=n.props;i.ref.fileName=Ei("legend"),i.appendChild(i.ref.fileName),i.ref.file=i.appendChildView(i.createChildView(rr,{id:s.id})),i.ref.data=!1},ignoreRect:!0,write:Pe({DID_LOAD_ITEM:function(n){var i=n.root;gi(i.ref.fileName,i.query("GET_ITEM_NAME",n.props.id))}}),didCreateView:function(n){Ke("CREATE_VIEW",Object.assign({},n,{view:n}))},tag:"fieldset",name:"file-wrapper"}),xo={type:"spring",damping:.6,mass:7},Wi=De({name:"panel",read:function(n){return n.props.heightCurrent=n.root.ref.bottom.translateY},write:function(n){var i=n.root,s=n.props;if(null!==i.ref.scalable&&s.scalable===i.ref.scalable||(i.ref.scalable=!jt(s.scalable)||s.scalable,i.element.dataset.scalable=i.ref.scalable),s.height){var u=i.ref.top.rect.element,v=i.ref.bottom.rect.element,P=Math.max(u.height+v.height,s.height);i.ref.center.translateY=u.height,i.ref.center.scaleY=(P-u.height-v.height)/100,i.ref.bottom.translateY=P-v.height}},create:function(n){var i=n.root,s=n.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:xo},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:xo},styles:["translateY"]}}].forEach(function(u){!function(n,i,s){var u=De({name:"panel-"+i.name+" filepond--"+s,mixins:i.mixins,ignoreRectUpdate:!0}),v=n.createChildView(u,i.props);n.ref[i.name]=n.appendChildView(v)}(i,u,s.name)}),i.element.classList.add("filepond--"+s.name),i.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Pi={type:"spring",stiffness:.75,damping:.45,mass:10},Po={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Mo=Pe({DID_UPDATE_PANEL_HEIGHT:function(n){n.root.height=n.action.height}}),Io=Pe({DID_GRAB_ITEM:function(n){var i=n.root;n.props.dragOrigin={x:i.translateX,y:i.translateY}},DID_DRAG_ITEM:function(n){n.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(n){var i=n.root,s=n.props;s.dragOffset=null,s.dragOrigin=null,i.element.dataset.dragState="drop"}},function(n){var i=n.root,s=n.actions,u=n.props,v=n.shouldOptimize;"drop"===i.element.dataset.dragState&&i.scaleX<=1&&(i.element.dataset.dragState="idle");var P=s.concat().filter(function(V){return/^DID_/.test(V.type)}).reverse().find(function(V){return Po[V.type]});P&&P.type!==u.currentState&&(u.currentState=P.type,i.element.dataset.filepondItemState=Po[u.currentState]||"");var S=i.query("GET_ITEM_PANEL_ASPECT_RATIO")||i.query("GET_PANEL_ASPECT_RATIO");S?v||(i.height=i.rect.element.width*S):(Mo({root:i,actions:s,props:u}),!i.height&&i.ref.container.rect.element.height>0&&(i.height=i.ref.container.rect.element.height)),v&&(i.ref.panel.height=null),i.ref.panel.height=i.height}),sr=De({create:function(n){var i=n.root,s=n.props;i.ref.handleClick=function(u){return i.dispatch("DID_ACTIVATE_ITEM",{id:s.id})},i.element.id="filepond--item-"+s.id,i.element.addEventListener("click",i.ref.handleClick),i.ref.container=i.appendChildView(i.createChildView(ii,{id:s.id})),i.ref.panel=i.appendChildView(i.createChildView(Wi,{name:"item-panel"})),i.ref.panel.height=null,s.markedForRemoval=!1,i.query("GET_ALLOW_REORDER")&&(i.element.dataset.dragState="idle",i.element.addEventListener("pointerdown",function(u){if(u.isPrimary){var v=!1,P=u.pageX,S=u.pageY;s.dragOrigin={x:i.translateX,y:i.translateY},s.dragCenter={x:u.offsetX,y:u.offsetY};var V,H,rt,Ct=(V=i.query("GET_ACTIVE_ITEMS"),H=V.map(function(Lt){return Lt.id}),rt=void 0,{setIndex:function(Lt){rt=Lt},getIndex:function(){return rt},getItemIndex:function(Lt){return H.indexOf(Lt.id)}});i.dispatch("DID_GRAB_ITEM",{id:s.id,dragState:Ct});var Rt=function(Lt){Lt.isPrimary&&(Lt.stopPropagation(),Lt.preventDefault(),s.dragOffset={x:Lt.pageX-P,y:Lt.pageY-S},s.dragOffset.x*s.dragOffset.x+s.dragOffset.y*s.dragOffset.y>16&&!v&&(v=!0,i.element.removeEventListener("click",i.ref.handleClick)),i.dispatch("DID_DRAG_ITEM",{id:s.id,dragState:Ct}))};document.addEventListener("pointermove",Rt),document.addEventListener("pointerup",function Lt(Nt){Nt.isPrimary&&(document.removeEventListener("pointermove",Rt),document.removeEventListener("pointerup",Lt),s.dragOffset={x:Nt.pageX-P,y:Nt.pageY-S},i.dispatch("DID_DROP_ITEM",{id:s.id,dragState:Ct}),v&&setTimeout(function(){return i.element.addEventListener("click",i.ref.handleClick)},0))})}}))},write:Io,destroy:function(n){var i=n.root,s=n.props;i.element.removeEventListener("click",i.ref.handleClick),i.dispatch("RELEASE_ITEM",{query:s.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:"spring",scaleY:"spring",translateX:Pi,translateY:Pi,opacity:{type:"tween",duration:150}}}}),$i=function(n,i){return Math.max(1,Math.floor((n+1)/i))},So=function(n,i,s){if(s){var v=i.length,P=null;if(0===v||s.top<i[0].rect.element.top)return-1;var S=i[0].rect.element,H=S.width+(S.marginLeft+S.marginRight),rt=$i(n.rect.element.width,H);if(1===rt){for(var Ct=0;Ct<v;Ct++){var Rt=i[Ct];if(s.top<Rt.rect.outer.top+.5*Rt.rect.element.height)return Ct}return v}for(var se=S.height+(S.marginTop+S.marginBottom),Gt=0;Gt<v;Gt++){var Jt=Gt%rt*H,Ce=Math.floor(Gt/rt)*se;if(s.top<Ce+se+S.marginBottom&&s.top>Ce-S.marginTop){if(s.left<Jt+H)return Gt;P=Gt!==v-1?Gt:null}}return null!==P?P:v}},fo={height:0,width:0,get getHeight(){return this.height},set setHeight(n){0!==this.height&&0!==n||(this.height=n)},get getWidth(){return this.width},set setWidth(n){0!==this.width&&0!==n||(this.width=n)},setDimensions:function(n,i){0!==this.height&&0!==n||(this.height=n),0!==this.width&&0!==i||(this.width=i)}},Ro=function(n,i,s){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;n.dragOffset?(n.translateX=null,n.translateY=null,n.translateX=n.dragOrigin.x+n.dragOffset.x,n.translateY=n.dragOrigin.y+n.dragOffset.y,n.scaleX=1.025,n.scaleY=1.025):(n.translateX=i,n.translateY=s,Date.now()>n.spawnDate&&(0===n.opacity&&Er(n,i,s,u,v),n.scaleX=1,n.scaleY=1,n.opacity=1))},Er=function(n,i,s,u,v){5===n.interactionMethod?(n.translateX=null,n.translateX=i,n.translateY=null,n.translateY=s):2===n.interactionMethod?(n.translateX=null,n.translateX=i-20*u,n.translateY=null,n.translateY=s-10*v,n.scaleX=.8,n.scaleY=.8):3===n.interactionMethod?(n.translateY=null,n.translateY=s-30):1===n.interactionMethod&&(n.translateX=null,n.translateX=i-30,n.translateY=null)},Yn=function(n){return n.rect.element.height+.5*n.rect.element.marginBottom+.5*n.rect.element.marginTop},ar=Pe({DID_ADD_ITEM:function(n){var i=n.root,s=n.action,u=s.id,v=s.index,P=s.interactionMethod;i.ref.addIndex=v;var S=Date.now(),V=S,H=1;if(5!==P){H=0;var rt=i.query("GET_ITEM_INSERT_INTERVAL"),Ct=S-i.ref.lastItemSpanwDate;V=Ct<rt?S+(rt-Ct):S}i.ref.lastItemSpanwDate=V,i.appendChildView(i.createChildView(sr,{spawnDate:V,id:u,opacity:H,interactionMethod:P}),v)},DID_REMOVE_ITEM:function(n){var s=n.action.id,u=n.root.childViews.find(function(v){return v.id===s});u&&(u.scaleX=.9,u.scaleY=.9,u.opacity=0,u.markedForRemoval=!0)},DID_DRAG_ITEM:function(n){var i=n.root,s=n.action,u=s.id,v=s.dragState,P=i.query("GET_ITEM",{id:u}),S=i.childViews.find(function(Je){return Je.id===u}),V=i.childViews.length,H=v.getItemIndex(P);if(S){var rt,Ct=S.dragOrigin.x+S.dragOffset.x+S.dragCenter.x,Rt=S.dragOrigin.y+S.dragOffset.y+S.dragCenter.y,Lt=Yn(S),Nt=(rt=S).rect.element.width+.5*rt.rect.element.marginLeft+.5*rt.rect.element.marginRight,se=Math.floor(i.rect.outer.width/Nt);se>V&&(se=V);var Gt=Math.floor(V/se+1);fo.setHeight=Lt*Gt,fo.setWidth=Nt*se;var Jt={y:Math.floor(Rt/Lt),x:Math.floor(Ct/Nt),getGridIndex:function(){return Rt>fo.getHeight||Rt<0||Ct>fo.getWidth||Ct<0?H:this.y*se+this.x},getColIndex:function(){for(var Je=i.query("GET_ACTIVE_ITEMS"),tn=i.childViews.filter(function(cn){return cn.rect.element.height}),Qn=Je.map(function(cn){return tn.find(function(ti){return ti.id===cn.id})}),li=Qn.findIndex(function(cn){return cn===S}),Vn=Yn(S),sn=Qn.length,Zt=sn,Dt=0,ae=0,ke=0,fn=0;fn<sn;fn++)if(Dt=Yn(Qn[fn]),Rt<(ae=(ke=ae)+Dt)){if(li>fn){if(Rt<ke+Vn){Zt=fn;break}continue}Zt=fn;break}return Zt}},Ce=se>1?Jt.getGridIndex():Jt.getColIndex();i.dispatch("MOVE_ITEM",{query:S,index:Ce});var me=v.getIndex();if(void 0===me||me!==Ce){if(v.setIndex(Ce),void 0===me)return;i.dispatch("DID_REORDER_ITEMS",{items:i.query("GET_ACTIVE_ITEMS"),origin:H,target:Ce})}}}}),Uo=De({create:function(n){var i=n.root;D(i.element,"role","list"),i.ref.lastItemSpanwDate=Date.now()},write:function(n){var i=n.root,s=n.props,v=n.shouldOptimize;ar({root:i,props:s,actions:n.actions});var P=s.dragCoordinates,S=i.rect.element.width,V=i.childViews.filter(function(sn){return sn.rect.element.height}),H=i.query("GET_ACTIVE_ITEMS").map(function(sn){return V.find(function(Zt){return Zt.id===sn.id})}).filter(function(sn){return sn}),rt=P?So(i,H,P):null,Ct=i.ref.addIndex||null;i.ref.addIndex=null;var Rt=0,Lt=0,Nt=0;if(0!==H.length){var se=H[0].rect.element,Gt=se.marginTop+se.marginBottom,Ce=se.width+(se.marginLeft+se.marginRight),me=se.height+Gt,Je=$i(S,Ce);if(1===Je){var tn=0,Qn=0;H.forEach(function(sn,Zt){if(rt){var Dt=Zt-rt;Qn=-2===Dt?.25*-Gt:-1===Dt?.75*-Gt:0===Dt?.75*Gt:1===Dt?.25*Gt:0}v&&(sn.translateX=null,sn.translateY=null),sn.markedForRemoval||Ro(sn,0,tn+Qn),tn+=(sn.rect.element.height+Gt)*(sn.markedForRemoval?sn.opacity:1)})}else{var li=0,Vn=0;H.forEach(function(sn,Zt){Zt===rt&&(Rt=1),Zt===Ct&&(Nt+=1),sn.markedForRemoval&&sn.opacity<.5&&(Lt-=1);var Dt=Zt+Nt+Rt+Lt,ae=Dt%Je,ke=Math.floor(Dt/Je),fn=ae*Ce,cn=ke*me,ti=Math.sign(fn-li),no=Math.sign(cn-Vn);li=fn,Vn=cn,sn.markedForRemoval||(v&&(sn.translateX=null,sn.translateY=null),Ro(sn,fn,cn,ti,no))})}}},tag:"ul",name:"list",didWriteView:function(n){var i=n.root;i.childViews.filter(function(s){return s.markedForRemoval&&0===s.opacity&&s.resting}).forEach(function(s){s._destroy(),i.removeChildView(s)})},filterFrameActionsForChild:function(n,i){return i.filter(function(s){return!s.data||!s.data.id||n.id===s.data.id})},mixins:{apis:["dragCoordinates"]}}),lr=Pe({DID_DRAG:function(n){var i=n.root,s=n.props,u=n.action;i.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(s.dragCoordinates={left:u.position.scopeLeft-i.ref.list.rect.element.left,top:u.position.scopeTop-(i.rect.outer.top+i.rect.element.marginTop+i.rect.element.scrollTop)})},DID_END_DRAG:function(n){n.props.dragCoordinates=null}}),Gi=De({create:function(n){var i=n.root,s=n.props;i.ref.list=i.appendChildView(i.createChildView(Uo)),s.dragCoordinates=null,s.overflowing=!1},write:function(n){var i=n.root,s=n.props;if(lr({root:i,props:s,actions:n.actions}),i.ref.list.dragCoordinates=s.dragCoordinates,s.overflowing&&!s.overflow&&(s.overflowing=!1,i.element.dataset.state="",i.height=null),s.overflow){var v=Math.round(s.overflow);v!==i.height&&(s.overflowing=!0,i.element.dataset.state="overflow",i.height=v)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),yi=function(n,i,s){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";s?D(n,i,u):n.removeAttribute(i)},to=function(n){var i=n.root,s=n.action;i.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&yi(i.element,"accept",!!s.value,s.value?s.value.join(","):"")},qo=function(n){yi(n.root.element,"multiple",n.action.value)},po=function(n){yi(n.root.element,"webkitdirectory",n.action.value)},mo=function(n){var i=n.root,s=i.query("GET_DISABLED"),u=i.query("GET_ALLOW_BROWSE");yi(i.element,"disabled",s||!u)},wr=function(n){var i=n.root;n.action.value?0===i.query("GET_TOTAL_ITEMS")&&yi(i.element,"required",!0):yi(i.element,"required",!1)},No=function(n){var s=n.action;yi(n.root.element,"capture",!!s.value,!0===s.value?"":s.value)},Qo=function(n){var i=n.root,s=i.element;i.query("GET_TOTAL_ITEMS")>0?(yi(s,"required",!1),yi(s,"name",!1)):(yi(s,"name",!0,i.query("GET_NAME")),i.query("GET_CHECK_VALIDITY")&&s.setCustomValidity(""),i.query("GET_REQUIRED")&&yi(s,"required",!0))},Wo=De({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(n){var i=n.root,s=n.props;i.element.id="filepond--browser-"+s.id,D(i.element,"name",i.query("GET_NAME")),D(i.element,"aria-controls","filepond--assistant-"+s.id),D(i.element,"aria-labelledby","filepond--drop-label-"+s.id),to({root:i,action:{value:i.query("GET_ACCEPTED_FILE_TYPES")}}),qo({root:i,action:{value:i.query("GET_ALLOW_MULTIPLE")}}),po({root:i,action:{value:i.query("GET_ALLOW_DIRECTORIES_ONLY")}}),mo({root:i}),wr({root:i,action:{value:i.query("GET_REQUIRED")}}),No({root:i,action:{value:i.query("GET_CAPTURE_METHOD")}}),i.ref.handleChange=function(u){if(i.element.value){var v=Array.from(i.element.files).map(function(P){return P._relativePath=P.webkitRelativePath,P});setTimeout(function(){s.onload(v),function(P){if(P&&""!==P.value){try{P.value=""}catch(rt){}if(P.value){var S=Ei("form"),V=P.parentNode,H=P.nextSibling;S.appendChild(P),S.reset(),H?V.insertBefore(P,H):V.appendChild(P)}}}(i.element)},250)}},i.element.addEventListener("change",i.ref.handleChange)},destroy:function(n){var i=n.root;i.element.removeEventListener("change",i.ref.handleChange)},write:Pe({DID_LOAD_ITEM:Qo,DID_REMOVE_ITEM:Qo,DID_THROW_ITEM_INVALID:function(n){var i=n.root;i.query("GET_CHECK_VALIDITY")&&i.element.setCustomValidity(i.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:mo,DID_SET_ALLOW_BROWSE:mo,DID_SET_ALLOW_DIRECTORIES_ONLY:po,DID_SET_ALLOW_MULTIPLE:qo,DID_SET_ACCEPTED_FILE_TYPES:to,DID_SET_CAPTURE_METHOD:No,DID_SET_REQUIRED:wr})}),vr=function(n,i){n.innerHTML=i;var s=n.querySelector(".filepond--label-action");return s&&D(s,"tabindex","0"),i},go=De({name:"drop-label",ignoreRect:!0,create:function(n){var i=n.root,s=n.props,u=Ei("label");D(u,"for","filepond--browser-"+s.id),D(u,"id","filepond--drop-label-"+s.id),D(u,"aria-hidden","true"),i.ref.handleKeyDown=function(v){(13===v.keyCode||32===v.keyCode)&&(v.preventDefault(),i.ref.label.click())},i.ref.handleClick=function(v){v.target===u||u.contains(v.target)||i.ref.label.click()},u.addEventListener("keydown",i.ref.handleKeyDown),i.element.addEventListener("click",i.ref.handleClick),vr(u,s.caption),i.appendChild(u),i.ref.label=u},destroy:function(n){var i=n.root;i.ref.label.addEventListener("keydown",i.ref.handleKeyDown),i.element.removeEventListener("click",i.ref.handleClick)},write:Pe({DID_SET_LABEL_IDLE:function(n){vr(n.root.ref.label,n.action.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),co=De({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Ki=Pe({DID_DRAG:function(n){var v,i=n.root,s=n.action;i.ref.blob?(i.ref.blob.translateX=s.position.scopeLeft,i.ref.blob.translateY=s.position.scopeTop,i.ref.blob.scaleX=1,i.ref.blob.scaleY=1,i.ref.blob.opacity=1):(v={root:i}.root).ref.blob=v.appendChildView(v.createChildView(co,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:.5*v.rect.element.width,translateY:.5*v.rect.element.height}))},DID_DROP:function(n){var i=n.root;i.ref.blob&&(i.ref.blob.scaleX=2.5,i.ref.blob.scaleY=2.5,i.ref.blob.opacity=0)},DID_END_DRAG:function(n){var i=n.root;i.ref.blob&&(i.ref.blob.opacity=0)}}),en=De({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(n){var i=n.root,u=n.actions;Ki({root:i,props:n.props,actions:u});var v=i.ref.blob;0===u.length&&v&&0===v.opacity&&(i.removeChildView(v),i.ref.blob=null)}}),zo=function(n,i){try{var s=new DataTransfer;i.forEach(function(u){u instanceof File?s.items.add(u):s.items.add(new File([u],u.name,{type:u.type}))}),n.files=s.files}catch(u){return!1}return!0},Do=function(n,i){return n.ref.fields[i]},vo=function(n){n.query("GET_ACTIVE_ITEMS").forEach(function(i){n.ref.fields[i.id]&&n.element.appendChild(n.ref.fields[i.id])})},cr=function(n){return vo(n.root)},t=Pe({DID_SET_DISABLED:function(n){var i=n.root;i.element.disabled=i.query("GET_DISABLED")},DID_ADD_ITEM:function(n){var i=n.root,s=n.action,u=i.query("GET_ITEM",s.id).origin!==Le.LOCAL&&i.query("SHOULD_UPDATE_FILE_INPUT"),v=Ei("input");v.type=u?"file":"hidden",v.name=i.query("GET_NAME"),v.disabled=i.query("GET_DISABLED"),i.ref.fields[s.id]=v,vo(i)},DID_LOAD_ITEM:function(n){var i=n.root,s=n.action,u=Do(i,s.id);if(u&&(null!==s.serverFileReference&&(u.value=s.serverFileReference),i.query("SHOULD_UPDATE_FILE_INPUT"))){var v=i.query("GET_ITEM",s.id);zo(u,[v.file])}},DID_REMOVE_ITEM:function(n){var i=n.root,s=n.action,u=Do(i,s.id);u&&(u.parentNode&&u.parentNode.removeChild(u),delete i.ref.fields[s.id])},DID_DEFINE_VALUE:function(n){var i=n.root,s=n.action,u=Do(i,s.id);u&&(null===s.value?u.removeAttribute("value"):u.value=s.value,vo(i))},DID_PREPARE_OUTPUT:function(n){var i=n.root,s=n.action;i.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(function(){var u=Do(i,s.id);u&&zo(u,[s.file])},0)},DID_REORDER_ITEMS:cr,DID_SORT_ITEMS:cr}),e=De({tag:"fieldset",name:"data",create:function(n){return n.root.ref.fields={}},write:t,ignoreRect:!0}),o=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],l=["css","csv","html","txt"],d={zip:"zip|compressed",epub:"application/epub+zip"},R=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n=n.toLowerCase(),o.includes(n)?"image/"+("jpg"===n?"jpeg":"svg"===n?"svg+xml":n):l.includes(n)?"text/"+n:d[n]||""},lt=function(n){return new Promise(function(i,s){var u=Ji(n);if(u.length&&!st(n))return i(u);qt(n).then(i)})},st=function(n){return!!n.files&&n.files.length>0},qt=function(n){return new Promise(function(i,s){var u=(n.items?Array.from(n.items):[]).filter(function(v){return ve(v)}).map(function(v){return Ue(v)});u.length?Promise.all(u).then(function(v){var P=[];v.forEach(function(S){P.push.apply(P,S)}),i(P.filter(function(S){return S}).map(function(S){return S._relativePath||(S._relativePath=S.webkitRelativePath),S}))}).catch(console.error):i(n.files?Array.from(n.files):[])})},ve=function(n){if(_o(n)){var i=ji(n);if(i)return i.isFile||i.isDirectory}return"file"===n.kind},Ue=function(n){return new Promise(function(i,s){Di(n)?An(ji(n)).then(i).catch(s):i([n.getAsFile()])})},An=function(n){return new Promise(function(i,s){var u=[],v=0,P=0,S=function(){0===P&&0===v&&i(u)};!function V(H){v++;var rt=H.createReader();!function Ct(){rt.readEntries(function(Rt){if(0===Rt.length)return v--,void S();Rt.forEach(function(Lt){Lt.isDirectory?V(Lt):(P++,Lt.file(function(Nt){var se=fi(Nt);Lt.fullPath&&(se._relativePath=Lt.fullPath),u.push(se),P--,S()}))}),Ct()},s)}()}(n)})},fi=function(n){if(n.type.length)return n;var i=n.lastModifiedDate,s=n.name,u=R(Rn(n.name));return u.length&&((n=n.slice(0,n.size,u)).name=s,n.lastModifiedDate=i),n},Di=function(n){return _o(n)&&(ji(n)||{}).isDirectory},_o=function(n){return"webkitGetAsEntry"in n},ji=function(n){return n.webkitGetAsEntry()},Ji=function(n){var i=[];try{if((i=Ho(n)).length)return i;i=Lr(n)}catch(s){}return i},Lr=function(n){var i=n.getData("url");return"string"==typeof i&&i.length?[i]:[]},Ho=function(n){var i=n.getData("text/html");if("string"==typeof i&&i.length){var s=i.match(/src\s*=\s*"(.+?)"/);if(s)return[s[1]]}return[]},ur=[],si=function(n){return{pageLeft:n.pageX,pageTop:n.pageY,scopeLeft:n.offsetX||n.layerX,scopeTop:n.offsetY||n.layerY}},_r=function(n,i){var s,v,P,u=(v="getRootNode"in(s=i)?s.getRootNode():document,P={x:n.pageX-window.pageXOffset,y:n.pageY-window.pageYOffset},"elementFromPoint"in v||(v=document),v.elementFromPoint(P.x,P.y));return u===i||i.contains(u)},hr=null,dr=function(n,i){try{n.dropEffect=i}catch(s){}},Rr=function(n,i){return function(s){s.preventDefault(),hr=s.target,i.forEach(function(u){var P=u.onenter;_r(s,u.element)&&(u.state="enter",P(si(s)))})}},xr=function(n,i){return function(s){s.preventDefault();var u=s.dataTransfer;lt(u).then(function(v){var P=!1;i.some(function(S){var V=S.filterElement,H=S.element,rt=S.onenter,Ct=S.onexit,Rt=S.ondrag,Lt=S.allowdrop;dr(u,"copy");var Nt=Lt(v);if(Nt)if(_r(s,H)){if(P=!0,null===S.state)return S.state="enter",void rt(si(s));if(S.state="over",V&&!Nt)return void dr(u,"none");Rt(si(s))}else V&&!P&&dr(u,"none"),S.state&&(S.state=null,Ct(si(s)));else dr(u,"none")})})}},Dr=function(n,i){return function(s){s.preventDefault(),lt(s.dataTransfer).then(function(v){i.forEach(function(P){var S=P.filterElement,V=P.element,H=P.ondrop,rt=P.onexit,Ct=P.allowdrop;if(P.state=null,!S||_r(s,V))return Ct(v)?void H(si(s),v):rt(si(s))})})}},Cr=function(n,i){return function(s){hr===s.target&&i.forEach(function(u){var v=u.onexit;u.state=null,v(si(s))})}},kr=function(n,i,s){n.classList.add("filepond--hopper");var Rt,Lt,Nt,se,Gt,P=s.filterItems,S=void 0===P?function(Rt){return Rt}:P,V=(Rt=n,Lt=s.catchesDropsOnPage?document.documentElement:n,Nt=s.requiresDropOnElement,se=function(n){var i=ur.find(function(u){return u.element===n});if(i)return i;var s=function(n){var i=[],s={dragenter:Rr,dragover:xr,dragleave:Cr,drop:Dr},u={};Q(s,function(P,S){u[P]=S(n,i),n.addEventListener(P,u[P],!1)});var v={element:n,addListener:function(P){return i.push(P),function(){i.splice(i.indexOf(P),1),0===i.length&&(ur.splice(ur.indexOf(v),1),Q(s,function(S){n.removeEventListener(S,u[S],!1)}))}}};return v}(n);return ur.push(s),s}(Lt),(Gt={element:Rt,filterElement:Nt,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}}).destroy=se.addListener(Gt),Gt),H="",rt="";V.allowdrop=function(Rt){return i(S(Rt))},V.ondrop=function(Rt,Lt){var Nt=S(Lt);i(Nt)?(rt="drag-drop",Ct.onload(Nt,Rt)):Ct.ondragend(Rt)},V.ondrag=function(Rt){Ct.ondrag(Rt)},V.onenter=function(Rt){rt="drag-over",Ct.ondragstart(Rt)},V.onexit=function(Rt){rt="drag-exit",Ct.ondragend(Rt)};var Ct={updateHopperState:function(){H!==rt&&(n.dataset.hopperState=rt,H=rt)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){V.destroy()}};return Ct},er=!1,Oo=[],Ir=function(n){var i=document.activeElement;if(i&&/textarea|input/i.test(i.nodeName)){for(var s=!1,u=i;u!==document.body;){if(u.classList.contains("filepond--root")){s=!0;break}u=u.parentNode}if(!s)return}lt(n.clipboardData).then(function(v){v.length&&Oo.forEach(function(P){return P(v)})})},mr=null,yr=null,Or=[],Yo=function(n,i){n.element.textContent=i},T=function(n,i,s){var u=n.query("GET_TOTAL_ITEMS");Yo(n,s+" "+i+", "+u+" "+n.query(1===u?"GET_LABEL_FILE_COUNT_SINGULAR":"GET_LABEL_FILE_COUNT_PLURAL")),clearTimeout(yr),yr=setTimeout(function(){n.element.textContent=""},1500)},r=function(n){return n.element.parentNode.contains(document.activeElement)},f=function(n){var i=n.root,u=i.query("GET_ITEM",n.action.id).filename,v=i.query("GET_LABEL_FILE_PROCESSING_ABORTED");Yo(i,u+" "+v)},z=function(n){var i=n.root,s=n.action,u=i.query("GET_ITEM",s.id).filename;Yo(i,s.status.main+" "+u+" "+s.status.sub)},mt=De({create:function(n){var i=n.root;i.element.id="filepond--assistant-"+n.props.id,D(i.element,"role","status"),D(i.element,"aria-live","polite"),D(i.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:Pe({DID_LOAD_ITEM:function(n){var i=n.root,s=n.action;if(r(i)){i.element.textContent="";var u=i.query("GET_ITEM",s.id);Or.push(u.filename),clearTimeout(mr),mr=setTimeout(function(){T(i,Or.join(", "),i.query("GET_LABEL_FILE_ADDED")),Or.length=0},750)}},DID_REMOVE_ITEM:function(n){var i=n.root,s=n.action;r(i)&&T(i,s.item.filename,i.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function(n){var i=n.root,u=i.query("GET_ITEM",n.action.id).filename,v=i.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Yo(i,u+" "+v)},DID_ABORT_ITEM_PROCESSING:f,DID_REVERT_ITEM_PROCESSING:f,DID_THROW_ITEM_REMOVE_ERROR:z,DID_THROW_ITEM_LOAD_ERROR:z,DID_THROW_ITEM_INVALID:z,DID_THROW_ITEM_PROCESSING_ERROR:z}),tag:"span",name:"assistant"}),ft=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return n.replace(new RegExp(i+".","g"),function(s){return s.charAt(1).toUpperCase()})},Bt=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=Date.now(),v=null;return function(){for(var P=arguments.length,S=new Array(P),V=0;V<P;V++)S[V]=arguments[V];clearTimeout(v);var H=Date.now()-u,rt=function(){u=Date.now(),n.apply(void 0,S)};H<i?s||(v=setTimeout(rt,i-H)):rt()}},$t=function(n){return n.preventDefault()},ye=function(n,i){var s=n.query("GET_ALLOW_REPLACE"),u=n.query("GET_ALLOW_MULTIPLE"),v=n.query("GET_TOTAL_ITEMS"),P=n.query("GET_MAX_FILES"),S=i.length;return!u&&S>1?(n.dispatch("DID_THROW_MAX_FILES",{source:i,error:xt("warning",0,"Max files")}),!0):!(!u&&s||!(O(P=u?P:1)&&v+S>P)||(n.dispatch("DID_THROW_MAX_FILES",{source:i,error:xt("warning",0,"Max files")}),0))},Pn=function(n,i,s){var u=n.childViews[0];return So(u,i,{left:s.scopeLeft-u.rect.element.left,top:s.scopeTop-(n.rect.outer.top+n.rect.element.marginTop+n.rect.element.scrollTop)})},nn=function(n){var i=n.query("GET_ALLOW_DROP"),s=n.query("GET_DISABLED"),u=i&&!s;if(u&&!n.ref.hopper){var v=kr(n.element,function(P){var S=n.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!n.query("GET_DROP_VALIDATION")||P.every(function(V){return Ke("ALLOW_HOPPER_ITEM",V,{query:n.query}).every(function(H){return!0===H})&&S(V)})},{filterItems:function(P){var S=n.query("GET_IGNORED_FILES");return P.filter(function(V){return!ri(V)||!S.includes(V.name.toLowerCase())})},catchesDropsOnPage:n.query("GET_DROP_ON_PAGE"),requiresDropOnElement:n.query("GET_DROP_ON_ELEMENT")});v.onload=function(P,S){var V=n.ref.list.childViews[0].childViews.filter(function(rt){return rt.rect.element.height}),H=n.query("GET_ACTIVE_ITEMS").map(function(rt){return V.find(function(Ct){return Ct.id===rt.id})}).filter(function(rt){return rt});ie("ADD_ITEMS",P,{dispatch:n.dispatch}).then(function(rt){if(ye(n,rt))return!1;n.dispatch("ADD_ITEMS",{items:rt,index:Pn(n.ref.list,H,S),interactionMethod:2})}),n.dispatch("DID_DROP",{position:S}),n.dispatch("DID_END_DRAG",{position:S})},v.ondragstart=function(P){n.dispatch("DID_START_DRAG",{position:P})},v.ondrag=Bt(function(P){n.dispatch("DID_DRAG",{position:P})}),v.ondragend=function(P){n.dispatch("DID_END_DRAG",{position:P})},n.ref.hopper=v,n.ref.drip=n.appendChildView(n.createChildView(en))}else!u&&n.ref.hopper&&(n.ref.hopper.destroy(),n.ref.hopper=null,n.removeChildView(n.ref.drip))},Tn=function(n,i){var s=n.query("GET_ALLOW_BROWSE"),u=n.query("GET_DISABLED"),v=s&&!u;v&&!n.ref.browser?n.ref.browser=n.appendChildView(n.createChildView(Wo,Object.assign({},i,{onload:function(P){ie("ADD_ITEMS",P,{dispatch:n.dispatch}).then(function(S){if(ye(n,S))return!1;n.dispatch("ADD_ITEMS",{items:S,index:-1,interactionMethod:3})})}})),0):!v&&n.ref.browser&&(n.removeChildView(n.ref.browser),n.ref.browser=null)},ln=function(n){var i=n.query("GET_ALLOW_PASTE"),s=n.query("GET_DISABLED"),u=i&&!s;u&&!n.ref.paster?(n.ref.paster=function(){var s,n=function(s){i.onload(s)},i={destroy:function(){Se(Oo,Oo.indexOf(n)),0===Oo.length&&(document.removeEventListener("paste",Ir),er=!1)},onload:function(){}};return Oo.includes(s=n)||(Oo.push(s),er||(er=!0,document.addEventListener("paste",Ir))),i}(),n.ref.paster.onload=function(v){ie("ADD_ITEMS",v,{dispatch:n.dispatch}).then(function(P){if(ye(n,P))return!1;n.dispatch("ADD_ITEMS",{items:P,index:-1,interactionMethod:4})})}):!u&&n.ref.paster&&(n.ref.paster.destroy(),n.ref.paster=null)},_n=Pe({DID_SET_ALLOW_BROWSE:function(n){Tn(n.root,n.props)},DID_SET_ALLOW_DROP:function(n){nn(n.root)},DID_SET_ALLOW_PASTE:function(n){ln(n.root)},DID_SET_DISABLED:function(n){var i=n.root,s=n.props;nn(i),ln(i),Tn(i,s),i.query("GET_DISABLED")?i.element.dataset.disabled="disabled":i.element.removeAttribute("data-disabled")}}),Jn=De({name:"root",read:function(n){var i=n.root;i.ref.measure&&(i.ref.measureHeight=i.ref.measure.offsetHeight)},create:function(n){var i=n.root,s=n.props,u=i.query("GET_ID");u&&(i.element.id=u);var v=i.query("GET_CLASS_NAME");v&&v.split(" ").filter(function(rt){return rt.length}).forEach(function(rt){i.element.classList.add(rt)}),i.ref.label=i.appendChildView(i.createChildView(go,Object.assign({},s,{translateY:null,caption:i.query("GET_LABEL_IDLE")}))),i.ref.list=i.appendChildView(i.createChildView(Gi,{translateY:null})),i.ref.panel=i.appendChildView(i.createChildView(Wi,{name:"panel-root"})),i.ref.assistant=i.appendChildView(i.createChildView(mt,Object.assign({},s))),i.ref.data=i.appendChildView(i.createChildView(e,Object.assign({},s))),i.ref.measure=Ei("div"),i.ref.measure.style.height="100%",i.element.appendChild(i.ref.measure),i.ref.bounds=null,i.query("GET_STYLES").filter(function(rt){return!Ne(rt.value)}).map(function(rt){i.element.dataset[rt.name]=rt.value}),i.ref.widthPrevious=null,i.ref.widthUpdated=Bt(function(){i.ref.updateHistory=[],i.dispatch("DID_RESIZE_ROOT")},250),i.ref.previousAspectRatio=null,i.ref.updateHistory=[];var P=window.matchMedia("(pointer: fine) and (hover: hover)").matches,S="PointerEvent"in window;i.query("GET_ALLOW_REORDER")&&S&&!P&&(i.element.addEventListener("touchmove",$t,{passive:!1}),i.element.addEventListener("gesturestart",$t));var V=i.query("GET_CREDITS");if(2===V.length){var H=document.createElement("a");H.className="filepond--credits",H.setAttribute("aria-hidden","true"),H.href=V[0],H.tabindex=-1,H.target="_blank",H.rel="noopener noreferrer",H.textContent=V[1],i.element.appendChild(H),i.ref.credits=H}},write:function(n){var i=n.root,u=n.actions;if(_n({root:i,props:n.props,actions:u}),u.filter(function(Vi){return/^DID_SET_STYLE_/.test(Vi.type)}).filter(function(Vi){return!Ne(Vi.data.value)}).map(function(Vi){var Zi=Vi.data,br=ft(Vi.type.substring(8).toLowerCase(),"_");i.element.dataset[br]=Zi.value,i.invalidateLayout()}),!i.rect.element.hidden){i.rect.element.width!==i.ref.widthPrevious&&(i.ref.widthPrevious=i.rect.element.width,i.ref.widthUpdated());var v=i.ref.bounds;v||(v=i.ref.bounds=function(n){var i=n.ref.measureHeight||null;return{cappedHeight:parseInt(n.style.maxHeight,10)||null,fixedHeight:0===i?null:i}}(i),i.element.removeChild(i.ref.measure),i.ref.measure=null);var P=i.ref,S=P.hopper,V=P.label,H=P.list,rt=P.panel;S&&S.updateHopperState();var Ct=i.query("GET_PANEL_ASPECT_RATIO"),Rt=i.query("GET_ALLOW_MULTIPLE"),Lt=i.query("GET_TOTAL_ITEMS"),Nt=Lt===(Rt?i.query("GET_MAX_FILES")||1e6:1),se=u.find(function(Vi){return"DID_ADD_ITEM"===Vi.type});if(Nt&&se){var Gt=se.data.interactionMethod;V.opacity=0,Rt?V.translateY=-40:1===Gt?V.translateX=40:V.translateY=3===Gt?40:30}else Nt||(V.opacity=1,V.translateX=0,V.translateY=0);var Jt=function(n){var i=n.ref.list.childViews[0].childViews[0];return i?{top:i.rect.element.marginTop,bottom:i.rect.element.marginBottom}:{top:0,bottom:0}}(i),Ce=function(n){var i=0,s=0,u=n.ref.list,v=u.childViews[0],P=v.childViews.filter(function(me){return me.rect.element.height}),S=n.query("GET_ACTIVE_ITEMS").map(function(me){return P.find(function(Je){return Je.id===me.id})}).filter(function(me){return me});if(0===S.length)return{visual:i,bounds:s};var V=v.rect.element.width,H=So(v,S,u.dragCoordinates),rt=S[0].rect.element,Ct=rt.marginTop+rt.marginBottom,Lt=rt.width+(rt.marginLeft+rt.marginRight),Nt=rt.height+Ct,se=void 0!==H&&H>=0?1:0,Gt=S.find(function(me){return me.markedForRemoval&&me.opacity<.45})?-1:0,Jt=S.length+se+Gt,Ce=$i(V,Lt);return 1===Ce?S.forEach(function(me){var Je=me.rect.element.height+Ct;s+=Je,i+=Je*me.opacity}):(s=Math.ceil(Jt/Ce)*Nt,i=s),{visual:i,bounds:s}}(i),me=V.rect.element.height,Je=!Rt||Nt?0:me,tn=Nt?H.rect.element.marginTop:0,Qn=0===Lt?0:H.rect.element.marginBottom,li=Je+tn+Ce.visual+Qn,Vn=Je+tn+Ce.bounds+Qn;if(H.translateY=Math.max(0,Je-H.rect.element.marginTop)-Jt.top,Ct){var sn=i.rect.element.width,Zt=sn*Ct;Ct!==i.ref.previousAspectRatio&&(i.ref.previousAspectRatio=Ct,i.ref.updateHistory=[]);var Dt=i.ref.updateHistory;if(Dt.push(sn),Dt.length>4)for(var ae=Dt.length,ke=ae-10,fn=0,cn=ae;cn>=ke;cn--)if(Dt[cn]===Dt[cn-2]&&fn++,fn>=2)return;rt.scalable=!1,rt.height=Zt;var ti=Zt-Je-(Qn-Jt.bottom)-(Nt?tn:0);H.overflow=Ce.visual>ti?ti:null,i.height=Zt}else if(v.fixedHeight){rt.scalable=!1;var no=v.fixedHeight-Je-(Qn-Jt.bottom)-(Nt?tn:0);H.overflow=Ce.visual>no?no:null}else if(v.cappedHeight){var We=li>=v.cappedHeight,Ni=Math.min(v.cappedHeight,li);rt.scalable=!0,rt.height=We?Ni:Ni-Jt.top-Jt.bottom;var Ci=Ni-Je-(Qn-Jt.bottom)-(Nt?tn:0);H.overflow=li>v.cappedHeight&&Ce.visual>Ci?Ci:null,i.height=Math.min(v.cappedHeight,Vn-Jt.top-Jt.bottom)}else{var Ii=Lt>0?Jt.top+Jt.bottom:0;rt.scalable=!0,rt.height=Math.max(me,li-Ii),i.height=Math.max(me,Vn-Ii)}i.ref.credits&&rt.heightCurrent&&(i.ref.credits.style.transform="translateY("+rt.heightCurrent+"px)")}},destroy:function(n){var i=n.root;i.ref.paster&&i.ref.paster.destroy(),i.ref.hopper&&i.ref.hopper.destroy(),i.element.removeEventListener("touchmove",$t),i.element.removeEventListener("gesturestart",$t)},mixins:{styles:["height"]}}),Li=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=null,s=Qe(),u=function(Zt){var Dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],ke=Object.assign({},Zt),fn=[],cn=[],ti=function(Ii,Vi,Yi){!Yi||document.hidden?(Ci[Ii]&&Ci[Ii](Vi),fn.push({type:Ii,data:Vi})):cn.push({type:Ii,data:Vi})},no=function(Ii){for(var Vi,Yi=arguments.length,Zi=new Array(Yi>1?Yi-1:0),br=1;br<Yi;br++)Zi[br-1]=arguments[br];return Ni[Ii]?(Vi=Ni)[Ii].apply(Vi,Zi):null},We={getState:function(){return Object.assign({},ke)},processActionQueue:function(){var Ii=[].concat(fn);return fn.length=0,Ii},processDispatchQueue:function(){var Ii=[].concat(cn);cn.length=0,Ii.forEach(function(Vi){ti(Vi.type,Vi.data)})},dispatch:ti,query:no},Ni={};Dt.forEach(function(Ii){Ni=Object.assign({},Ii(ke),{},Ni)});var Ci={};return ae.forEach(function(Ii){Ci=Object.assign({},Ii(ti,no,ke),{},Ci)}),We}({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Ft(s)},[mn,h(s)],[Kn,c(s)]);u.dispatch("SET_OPTIONS",{options:n});var v=function(){document.hidden||u.dispatch("KICK")};document.addEventListener("visibilitychange",v);var P=null,S=!1,V=!1,H=null,rt=null,Ct=function(){S||(S=!0),clearTimeout(P),P=setTimeout(function(){S=!1,H=null,rt=null,V&&(V=!1,u.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",Ct);var Zt,ae,Rt=Jn(u,{id:It()}),Lt=!1,Nt=!1,se={_read:function(){S&&(rt=window.innerWidth,H||(H=rt),V||rt===H||(u.dispatch("DID_START_RESIZE"),V=!0)),Nt&&Lt&&(Lt=null===Rt.element.offsetParent),Lt||(Rt._read(),Nt=Rt.rect.element.hidden)},_write:function(Zt){var Dt,ae=u.processActionQueue().filter(function(ke){return!/^SET_/.test(ke.type)});Lt&&!ae.length||(me(ae),Lt=Rt._write(Zt,ae,V),(Dt=u.query("GET_ITEMS")).forEach(function(ke,fn){ke.released&&Se(Dt,fn)}),Lt&&u.processDispatchQueue())}},Gt=function(Zt){return function(Dt){var ae={type:Zt};if(!Dt)return ae;if(Dt.hasOwnProperty("error")&&(ae.error=Dt.error?Object.assign({},Dt.error):null),Dt.status&&(ae.status=Object.assign({},Dt.status)),Dt.file&&(ae.output=Dt.file),Dt.source)ae.file=Dt.source;else if(Dt.item||Dt.id){var ke=Dt.item?Dt.item:u.query("GET_ITEM",Dt.id);ae.file=ke?Qt(ke):null}return Dt.items&&(ae.items=Dt.items.map(Qt)),/progress/.test(Zt)&&(ae.progress=Dt.progress),Dt.hasOwnProperty("origin")&&Dt.hasOwnProperty("target")&&(ae.origin=Dt.origin,ae.target=Dt.target),ae}},Jt={DID_DESTROY:Gt("destroy"),DID_INIT:Gt("init"),DID_THROW_MAX_FILES:Gt("warning"),DID_INIT_ITEM:Gt("initfile"),DID_START_ITEM_LOAD:Gt("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:Gt("addfileprogress"),DID_LOAD_ITEM:Gt("addfile"),DID_THROW_ITEM_INVALID:[Gt("error"),Gt("addfile")],DID_THROW_ITEM_LOAD_ERROR:[Gt("error"),Gt("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[Gt("error"),Gt("removefile")],DID_PREPARE_OUTPUT:Gt("preparefile"),DID_START_ITEM_PROCESSING:Gt("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:Gt("processfileprogress"),DID_ABORT_ITEM_PROCESSING:Gt("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:Gt("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:Gt("processfiles"),DID_REVERT_ITEM_PROCESSING:Gt("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[Gt("error"),Gt("processfile")],DID_REMOVE_ITEM:Gt("removefile"),DID_UPDATE_ITEMS:Gt("updatefiles"),DID_ACTIVATE_ITEM:Gt("activatefile"),DID_REORDER_ITEMS:Gt("reorderfiles")},Ce=function(Zt){var Dt=Object.assign({pond:sn},Zt);delete Dt.type,Rt.element.dispatchEvent(new CustomEvent("FilePond:"+Zt.type,{detail:Dt,bubbles:!0,cancelable:!0,composed:!0}));var ae=[];Zt.hasOwnProperty("error")&&ae.push(Zt.error),Zt.hasOwnProperty("file")&&ae.push(Zt.file);var ke=["type","error","file"];Object.keys(Zt).filter(function(cn){return!ke.includes(cn)}).forEach(function(cn){return ae.push(Zt[cn])}),sn.fire.apply(sn,[Zt.type].concat(ae));var fn=u.query("GET_ON"+Zt.type.toUpperCase());fn&&fn.apply(void 0,ae)},me=function(Zt){Zt.length&&Zt.filter(function(Dt){return Jt[Dt.type]}).forEach(function(Dt){var ae=Jt[Dt.type];(Array.isArray(ae)?ae:[ae]).forEach(function(ke){"DID_INIT_ITEM"===Dt.type?Ce(ke(Dt.data)):setTimeout(function(){Ce(ke(Dt.data))},0)})})},Je=function(Zt){return new Promise(function(Dt,ae){u.dispatch("REQUEST_ITEM_PREPARE",{query:Zt,success:function(ke){Dt(ke)},failure:function(ke){ae(ke)}})})},tn=function(Zt,Dt){var ae;return"object"!=typeof Zt||(ae=Zt).file&&ae.id||Dt||(Dt=Zt,Zt=void 0),u.dispatch("REMOVE_ITEM",Object.assign({},Dt,{query:Zt})),null===u.query("GET_ACTIVE_ITEM",Zt)},Qn=function(){for(var Zt=arguments.length,Dt=new Array(Zt),ae=0;ae<Zt;ae++)Dt[ae]=arguments[ae];return new Promise(function(ke,fn){var cn=[],ti={};if(Gn(Dt[0]))cn.push.apply(cn,Dt[0]),Object.assign(ti,Dt[1]||{});else{var no=Dt[Dt.length-1];"object"!=typeof no||no instanceof Blob||Object.assign(ti,Dt.pop()),cn.push.apply(cn,Dt)}u.dispatch("ADD_ITEMS",{items:cn,index:ti.index,interactionMethod:1,success:ke,failure:fn})})},li=function(){return u.query("GET_ACTIVE_ITEMS")},Vn=function(Zt){return new Promise(function(Dt,ae){u.dispatch("REQUEST_ITEM_PROCESSING",{query:Zt,success:function(ke){Dt(ke)},failure:function(ke){ae(ke)}})})},sn=Object.assign({},Ae(),{},se,{},(Zt=u,ae={},Q(s,function(ke){ae[ke]={get:function(){return Zt.getState().options[ke]},set:function(fn){Zt.dispatch("SET_"+b(ke,"_").toUpperCase(),{value:fn})}}}),ae),{setOptions:function(Zt){return u.dispatch("SET_OPTIONS",{options:Zt})},addFile:function(Zt){var Dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(ae,ke){Qn([{source:Zt,options:Dt}],{index:Dt.index}).then(function(fn){return ae(fn&&fn[0])}).catch(ke)})},addFiles:Qn,getFile:function(Zt){return u.query("GET_ACTIVE_ITEM",Zt)},processFile:Vn,prepareFile:Je,removeFile:tn,moveFile:function(Zt,Dt){return u.dispatch("MOVE_ITEM",{query:Zt,index:Dt})},getFiles:li,processFiles:function(){for(var Zt=arguments.length,Dt=new Array(Zt),ae=0;ae<Zt;ae++)Dt[ae]=arguments[ae];var ke=Array.isArray(Dt[0])?Dt[0]:Dt;if(!ke.length){var fn=li().filter(function(cn){return!(cn.status===Yt.IDLE&&cn.origin===Le.LOCAL)&&cn.status!==Yt.PROCESSING&&cn.status!==Yt.PROCESSING_COMPLETE&&cn.status!==Yt.PROCESSING_REVERT_ERROR});return Promise.all(fn.map(Vn))}return Promise.all(ke.map(Vn))},removeFiles:function(){for(var Zt=arguments.length,Dt=new Array(Zt),ae=0;ae<Zt;ae++)Dt[ae]=arguments[ae];var ke,fn=Array.isArray(Dt[0])?Dt[0]:Dt;"object"==typeof fn[fn.length-1]?ke=fn.pop():Array.isArray(Dt[0])&&(ke=Dt[1]);var cn=li();return fn.length?fn.map(function(ti){return gt(ti)?cn[ti]?cn[ti].id:null:ti}).filter(function(ti){return ti}).map(function(ti){return tn(ti,ke)}):Promise.all(cn.map(function(ti){return tn(ti,ke)}))},prepareFiles:function(){for(var Zt=arguments.length,Dt=new Array(Zt),ae=0;ae<Zt;ae++)Dt[ae]=arguments[ae];var ke=Array.isArray(Dt[0])?Dt[0]:Dt,fn=ke.length?ke:li();return Promise.all(fn.map(Je))},sort:function(Zt){return u.dispatch("SORT",{compare:Zt})},browse:function(){var Zt=Rt.element.querySelector("input[type=file]");Zt&&Zt.click()},destroy:function(){sn.fire("destroy",Rt.element),u.dispatch("ABORT_ALL"),Rt._destroy(),window.removeEventListener("resize",Ct),document.removeEventListener("visibilitychange",v),u.dispatch("DID_DESTROY")},insertBefore:function(Zt){return xn(Rt.element,Zt)},insertAfter:function(Zt){return Fn(Rt.element,Zt)},appendTo:function(Zt){return Zt.appendChild(Rt.element)},replaceElement:function(Zt){xn(Rt.element,Zt),Zt.parentNode.removeChild(Zt),i=Zt},restoreElement:function(){i&&(Fn(i,Rt.element),Rt.element.parentNode.removeChild(Rt.element),i=null)},isAttachedTo:function(Zt){return Rt.element===Zt||i===Zt},element:{get:function(){return Rt.element}},status:{get:function(){return u.query("GET_STATUS")}}});return u.dispatch("DID_INIT"),Ot(sn)},zn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};return Q(Qe(),function(s,u){i[s]=u[0]}),Li(Object.assign({},i,{},n))},pi=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=[];Q(n.attributes,function(v){s.push(n.attributes[v])});var u=s.filter(function(v){return v.name}).reduce(function(v,P){var S,V=D(n,P.name);return v[(S=P.name,ft(S.replace(/^data-/,"")))]=V===P.name||V,v},{});return function v(P,S){Q(S,function(V,H){Q(P,function(rt,Ct){var Rt=new RegExp(V);if(Rt.test(rt)&&(delete P[rt],!1!==H))if(W(H))P[H]=Ct;else{var Lt,Nt=H.group;it(H)&&!P[Nt]&&(P[Nt]={}),P[Nt][(Lt=rt.replace(Rt,""),Lt.charAt(0).toLowerCase()+Lt.slice(1))]=Ct}}),H.mapping&&v(P[H.group],H.mapping)})}(u,i),u},Mn=function(){return(arguments.length<=0?void 0:arguments[0])instanceof HTMLElement?function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Ke("SET_ATTRIBUTE_TO_OPTION_MAP",s);var u=Object.assign({},i),v=pi("FIELDSET"===n.nodeName?n.querySelector("input[type=file]"):n,s);Object.keys(v).forEach(function(S){it(v[S])?(it(u[S])||(u[S]={}),Object.assign(u[S],v[S])):u[S]=v[S]}),u.files=(i.files||[]).concat(Array.from(n.querySelectorAll("input:not([type=file])")).map(function(S){return{source:S.value,options:{type:S.dataset.type}}}));var P=zn(u);return n.files&&Array.from(n.files).forEach(function(S){P.addFile(S)}),P.replaceElement(n),P}.apply(void 0,arguments):zn.apply(void 0,arguments)},jn=["fire","_read","_write"],ai=function(n){var i={};return ze(n,i,jn),i},wi=function(n,i){return n.replace(/(?:{([a-zA-Z]+)})/g,function(s,u){return i[u]})},mi=function(n){var i=new Blob(["(",n.toString(),")()"],{type:"application/javascript"}),s=URL.createObjectURL(i),u=new Worker(s);return{transfer:function(v,P){},post:function(v,P,S){var V=It();u.onmessage=function(H){H.data.id===V&&P(H.data.message)},u.postMessage({id:V,message:v},S)},terminate:function(){u.terminate(),URL.revokeObjectURL(s)}}},Xn=function(n){return new Promise(function(i,s){var u=new Image;u.onload=function(){i(u)},u.onerror=function(v){s(v)},u.src=n})},C=function(n,i){var s=n.slice(0,n.size,n.type);return s.lastModifiedDate=n.lastModifiedDate,s.name=i,s},J=function(n){return C(n,n.name)},vt=[],Et=function(n){if(!vt.includes(n)){vt.push(n);var s=n({addFilter:qe,utils:{Type:bt,forin:Q,isString:W,isFile:ri,toNaturalFileSize:Ao,replaceInString:wi,getExtensionFromFilename:Rn,getFilenameWithoutExtension:ki,guesstimateMimeType:R,getFileFromBlob:Zn,getFilenameFromURL:Oe,createRoute:Pe,createWorker:mi,createView:De,createItemAPI:Qt,loadImage:Xn,copyFile:J,renameFile:C,createBlob:Nn,applyFilterChain:ie,text:gi,getNumericAspectRatioFromString:Cn},views:{fileActionButton:ho}});Object.assign(yn,s.options)}},Ht=(To=q()&&"[object OperaMini]"!==Object.prototype.toString.call(window.operamini)&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window&&("supports"in(window.CSS||{})||/MSIE|Trident/.test(window.navigator.userAgent)),function(){return To}),Kt={apps:[]},Ge=function(){};if(M.Status={},M.FileStatus={},M.FileOrigin={},M.OptionTypes={},M.create=Ge,M.destroy=Ge,M.parse=Ge,M.find=Ge,M.registerPlugin=Ge,M.getOptions=Ge,M.setOptions=Ge,Ht()){!function(n,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,u="__framePainter";if(window[u])return window[u].readers.push(n),void window[u].writers.push(i);window[u]={readers:[n],writers:[i]};var v=window[u],P=1e3/s,S=null,V=null,H=null,rt=null,Ct=function(){document.hidden?(H=function(){return window.setTimeout(function(){return Rt(performance.now())},P)},rt=function(){return window.clearTimeout(V)}):(H=function(){return window.requestAnimationFrame(Rt)},rt=function(){return window.cancelAnimationFrame(V)})};document.addEventListener("visibilitychange",function(){rt&&rt(),Ct(),Rt(performance.now())});var Rt=function Lt(Nt){V=H(Lt),S||(S=Nt);var se=Nt-S;se<=P||(S=Nt-se%P,v.readers.forEach(function(Gt){return Gt()}),v.writers.forEach(function(Gt){return Gt(Nt)}))};Ct(),Rt(performance.now())}(function(){Kt.apps.forEach(function(n){return n._read()})},function(n){Kt.apps.forEach(function(i){return i._write(n)})});var Ln=function n(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Ht,create:M.create,destroy:M.destroy,parse:M.parse,find:M.find,registerPlugin:M.registerPlugin,setOptions:M.setOptions}})),document.removeEventListener("DOMContentLoaded",n)};"loading"!==document.readyState?setTimeout(function(){return Ln()},0):document.addEventListener("DOMContentLoaded",Ln);var xi=function(){return Q(Qe(),function(n,i){M.OptionTypes[n]=i[1]})};M.Status=Object.assign({},wn),M.FileOrigin=Object.assign({},Le),M.FileStatus=Object.assign({},Yt),M.OptionTypes={},xi(),M.create=function(){var n=Mn.apply(void 0,arguments);return n.on("destroy",M.destroy),Kt.apps.push(n),ai(n)},M.destroy=function(n){var i=Kt.apps.findIndex(function(s){return s.isAttachedTo(n)});return i>=0&&(Kt.apps.splice(i,1)[0].restoreElement(),!0)},M.parse=function(n){return Array.from(n.querySelectorAll(".filepond")).filter(function(i){return!Kt.apps.find(function(s){return s.isAttachedTo(i)})}).map(function(i){return M.create(i)})},M.find=function(n){var i=Kt.apps.find(function(s){return s.isAttachedTo(n)});return i?ai(i):null},M.registerPlugin=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];i.forEach(Et),xi()},M.getOptions=function(){var n={};return Q(Qe(),function(i,s){n[i]=s[0]}),n},M.setOptions=function(n){return it(n)&&(Kt.apps.forEach(function(i){i.setOptions(n)}),Q(n,function(s,u){yn[s]&&(yn[s][0]=Ut(u,yn[s][0],yn[s][1]))})),M.getOptions()}}M.supported=Ht,Object.defineProperty(M,"__esModule",{value:!0})}),function(M,Q){"object"==typeof exports&&"object"==typeof module?module.exports=Q():"function"==typeof define&&define.amd?define([],Q):"object"==typeof exports?exports.Cleave=Q():M.Cleave=Q()}(this,function(){return function(M){function Q(D){if(Ot[D])return Ot[D].exports;var y=Ot[D]={exports:{},id:D,loaded:!1};return M[D].call(y.exports,y,y.exports,Q),y.loaded=!0,y.exports}var Ot={};return Q.m=M,Q.c=Ot,Q.p="",Q(0)}([function(M,Q,Ot){(function(D){"use strict";var y=function(p,I){var E=this,k=!1;if("string"==typeof p?(E.element=document.querySelector(p),k=document.querySelectorAll(p).length>1):void 0!==p.length&&p.length>0?(E.element=p[0],k=p.length>1):E.element=p,!E.element)throw new Error("[cleave.js] Please check the element");if(k)try{console.warn("[cleave.js] Multiple input fields matched, cleave.js will only take the first one.")}catch(G){}I.initValue=E.element.value,E.properties=y.DefaultProperties.assign({},I),E.init()};y.prototype={init:function(){var p=this,I=p.properties;return I.numeral||I.phone||I.creditCard||I.time||I.date||0!==I.blocksLength||I.prefix?(I.maxLength=y.Util.getMaxLength(I.blocks),p.isAndroid=y.Util.isAndroid(),p.lastInputValue="",p.isBackward="",p.onChangeListener=p.onChange.bind(p),p.onKeyDownListener=p.onKeyDown.bind(p),p.onFocusListener=p.onFocus.bind(p),p.onCutListener=p.onCut.bind(p),p.onCopyListener=p.onCopy.bind(p),p.initSwapHiddenInput(),p.element.addEventListener("input",p.onChangeListener),p.element.addEventListener("keydown",p.onKeyDownListener),p.element.addEventListener("focus",p.onFocusListener),p.element.addEventListener("cut",p.onCutListener),p.element.addEventListener("copy",p.onCopyListener),p.initPhoneFormatter(),p.initDateFormatter(),p.initTimeFormatter(),p.initNumeralFormatter(),void((I.initValue||I.prefix&&!I.noImmediatePrefix)&&p.onInput(I.initValue))):void p.onInput(I.initValue)},initSwapHiddenInput:function(){var p=this;if(p.properties.swapHiddenInput){var E=p.element.cloneNode(!0);p.element.parentNode.insertBefore(E,p.element),p.elementSwapHidden=p.element,p.elementSwapHidden.type="hidden",p.element=E,p.element.id=""}},initNumeralFormatter:function(){var I=this.properties;I.numeral&&(I.numeralFormatter=new y.NumeralFormatter(I.numeralDecimalMark,I.numeralIntegerScale,I.numeralDecimalScale,I.numeralThousandsGroupStyle,I.numeralPositiveOnly,I.stripLeadingZeroes,I.prefix,I.signBeforePrefix,I.tailPrefix,I.delimiter))},initTimeFormatter:function(){var I=this.properties;I.time&&(I.timeFormatter=new y.TimeFormatter(I.timePattern,I.timeFormat),I.blocks=I.timeFormatter.getBlocks(),I.blocksLength=I.blocks.length,I.maxLength=y.Util.getMaxLength(I.blocks))},initDateFormatter:function(){var I=this.properties;I.date&&(I.dateFormatter=new y.DateFormatter(I.datePattern,I.dateMin,I.dateMax),I.blocks=I.dateFormatter.getBlocks(),I.blocksLength=I.blocks.length,I.maxLength=y.Util.getMaxLength(I.blocks))},initPhoneFormatter:function(){var I=this.properties;if(I.phone)try{I.phoneFormatter=new y.PhoneFormatter(new I.root.Cleave.AsYouTypeFormatter(I.phoneRegionCode),I.delimiter)}catch(E){throw new Error("[cleave.js] Please include phone-type-formatter.{country}.js lib")}},onKeyDown:function(p){var I=this,E=p.which||p.keyCode;I.lastInputValue=I.element.value,I.isBackward=8===E},onChange:function(p){var I=this,E=I.properties,k=y.Util;I.isBackward=I.isBackward||"deleteContentBackward"===p.inputType;var G=k.getPostDelimiter(I.lastInputValue,E.delimiter,E.delimiters);E.postDelimiterBackspace=!(!I.isBackward||!G)&&G,this.onInput(this.element.value)},onFocus:function(){var p=this,I=p.properties;p.lastInputValue=p.element.value,I.prefix&&I.noImmediatePrefix&&!p.element.value&&this.onInput(I.prefix),y.Util.fixPrefixCursor(p.element,I.prefix,I.delimiter,I.delimiters)},onCut:function(p){y.Util.checkFullSelection(this.element.value)&&(this.copyClipboardData(p),this.onInput(""))},onCopy:function(p){y.Util.checkFullSelection(this.element.value)&&this.copyClipboardData(p)},copyClipboardData:function(p){var q,E=this.properties,G=this.element.value;q=E.copyDelimiter?G:y.Util.stripDelimiters(G,E.delimiter,E.delimiters);try{p.clipboardData?p.clipboardData.setData("Text",q):window.clipboardData.setData("Text",q),p.preventDefault()}catch(ot){}},onInput:function(p){var I=this,E=I.properties,k=y.Util,G=k.getPostDelimiter(p,E.delimiter,E.delimiters);return E.numeral||!E.postDelimiterBackspace||G||(p=k.headStr(p,p.length-E.postDelimiterBackspace.length)),E.phone?(E.result=!E.prefix||E.noImmediatePrefix&&!p.length?E.phoneFormatter.format(p):E.prefix+E.phoneFormatter.format(p).slice(E.prefix.length),void I.updateValueState()):E.numeral?(E.result=E.prefix&&E.noImmediatePrefix&&0===p.length?"":E.numeralFormatter.format(p),void I.updateValueState()):(E.date&&(p=E.dateFormatter.getValidatedDate(p)),E.time&&(p=E.timeFormatter.getValidatedTime(p)),p=k.stripDelimiters(p,E.delimiter,E.delimiters),p=k.getPrefixStrippedValue(p,E.prefix,E.prefixLength,E.result,E.delimiter,E.delimiters,E.noImmediatePrefix,E.tailPrefix,E.signBeforePrefix),p=E.numericOnly?k.strip(p,/[^\d]/g):p,p=E.uppercase?p.toUpperCase():p,p=E.lowercase?p.toLowerCase():p,E.prefix&&(E.tailPrefix?p+=E.prefix:p=E.prefix+p,0===E.blocksLength)?(E.result=p,void I.updateValueState()):(E.creditCard&&I.updateCreditCardPropsByValue(p),p=k.headStr(p,E.maxLength),E.result=k.getFormattedValue(p,E.blocks,E.blocksLength,E.delimiter,E.delimiters,E.delimiterLazyShow),void I.updateValueState()))},updateCreditCardPropsByValue:function(p){var I,k=this.properties,G=y.Util;G.headStr(k.result,4)!==G.headStr(p,4)&&(I=y.CreditCardDetector.getInfo(p,k.creditCardStrictMode),k.blocks=I.blocks,k.blocksLength=k.blocks.length,k.maxLength=G.getMaxLength(k.blocks),k.creditCardType!==I.type&&(k.creditCardType=I.type,k.onCreditCardTypeChanged.call(this,k.creditCardType)))},updateValueState:function(){var p=this,I=y.Util,E=p.properties;if(p.element){var k=p.element.selectionEnd,q=E.result;if(k=I.getNextCursorPosition(k,p.element.value,q,E.delimiter,E.delimiters),p.isAndroid)return void window.setTimeout(function(){p.element.value=q,I.setSelection(p.element,k,E.document,!1),p.callOnValueChanged()},1);p.element.value=q,E.swapHiddenInput&&(p.elementSwapHidden.value=p.getRawValue()),I.setSelection(p.element,k,E.document,!1),p.callOnValueChanged()}},callOnValueChanged:function(){var p=this,I=p.properties;I.onValueChanged.call(p,{target:{name:p.element.name,value:I.result,rawValue:p.getRawValue()}})},setPhoneRegionCode:function(p){var I=this;I.properties.phoneRegionCode=p,I.initPhoneFormatter(),I.onChange()},setRawValue:function(p){var I=this,E=I.properties;p=null!=p?p.toString():"",E.numeral&&(p=p.replace(".",E.numeralDecimalMark)),E.postDelimiterBackspace=!1,I.element.value=p,I.onInput(p)},getRawValue:function(){var I=this.properties,E=y.Util,k=this.element.value;return I.rawValueTrimPrefix&&(k=E.getPrefixStrippedValue(k,I.prefix,I.prefixLength,I.result,I.delimiter,I.delimiters,I.noImmediatePrefix,I.tailPrefix,I.signBeforePrefix)),I.numeral?I.numeralFormatter.getRawValue(k):E.stripDelimiters(k,I.delimiter,I.delimiters)},getISOFormatDate:function(){var I=this.properties;return I.date?I.dateFormatter.getISOFormatDate():""},getISOFormatTime:function(){var I=this.properties;return I.time?I.timeFormatter.getISOFormatTime():""},getFormattedValue:function(){return this.element.value},destroy:function(){var p=this;p.element.removeEventListener("input",p.onChangeListener),p.element.removeEventListener("keydown",p.onKeyDownListener),p.element.removeEventListener("focus",p.onFocusListener),p.element.removeEventListener("cut",p.onCutListener),p.element.removeEventListener("copy",p.onCopyListener)},toString:function(){return"[Cleave Object]"}},y.NumeralFormatter=Ot(1),y.DateFormatter=Ot(2),y.TimeFormatter=Ot(3),y.PhoneFormatter=Ot(4),y.CreditCardDetector=Ot(5),y.Util=Ot(6),y.DefaultProperties=Ot(7),("object"==typeof D&&D?D:window).Cleave=y,M.exports=y}).call(Q,function(){return this}())},function(M,Q){"use strict";var Ot=function(D,y,p,I,E,k,G,q,ot,x){var Z=this;Z.numeralDecimalMark=D||".",Z.numeralIntegerScale=y>0?y:0,Z.numeralDecimalScale=p>=0?p:2,Z.numeralThousandsGroupStyle=I||Ot.groupStyle.thousand,Z.numeralPositiveOnly=!!E,Z.stripLeadingZeroes=!1!==k,Z.prefix=G||""===G?G:"",Z.signBeforePrefix=!!q,Z.tailPrefix=!!ot,Z.delimiter=x||""===x?x:",",Z.delimiterRE=x?new RegExp("\\"+x,"g"):""};Ot.groupStyle={thousand:"thousand",lakh:"lakh",wan:"wan",none:"none"},Ot.prototype={getRawValue:function(D){return D.replace(this.delimiterRE,"").replace(this.numeralDecimalMark,".")},format:function(D){var y,p,I,E,k=this,G="";switch(D=D.replace(/[A-Za-z]/g,"").replace(k.numeralDecimalMark,"M").replace(/[^\dM-]/g,"").replace(/^\-/,"N").replace(/\-/g,"").replace("N",k.numeralPositiveOnly?"":"-").replace("M",k.numeralDecimalMark),k.stripLeadingZeroes&&(D=D.replace(/^(-)?0+(?=\d)/,"$1")),p="-"===D.slice(0,1)?"-":"",I=void 0!==k.prefix?k.signBeforePrefix?p+k.prefix:k.prefix+p:p,E=D,D.indexOf(k.numeralDecimalMark)>=0&&(E=(y=D.split(k.numeralDecimalMark))[0],G=k.numeralDecimalMark+y[1].slice(0,k.numeralDecimalScale)),"-"===p&&(E=E.slice(1)),k.numeralIntegerScale>0&&(E=E.slice(0,k.numeralIntegerScale)),k.numeralThousandsGroupStyle){case Ot.groupStyle.lakh:E=E.replace(/(\d)(?=(\d\d)+\d$)/g,"$1"+k.delimiter);break;case Ot.groupStyle.wan:E=E.replace(/(\d)(?=(\d{4})+$)/g,"$1"+k.delimiter);break;case Ot.groupStyle.thousand:E=E.replace(/(\d)(?=(\d{3})+$)/g,"$1"+k.delimiter)}return k.tailPrefix?p+E.toString()+(k.numeralDecimalScale>0?G.toString():"")+k.prefix:I+E.toString()+(k.numeralDecimalScale>0?G.toString():"")}},M.exports=Ot},function(M,Q){"use strict";var Ot=function(D,y,p){var I=this;I.date=[],I.blocks=[],I.datePattern=D,I.dateMin=y.split("-").reverse().map(function(E){return parseInt(E,10)}),2===I.dateMin.length&&I.dateMin.unshift(0),I.dateMax=p.split("-").reverse().map(function(E){return parseInt(E,10)}),2===I.dateMax.length&&I.dateMax.unshift(0),I.initBlocks()};Ot.prototype={initBlocks:function(){var D=this;D.datePattern.forEach(function(y){D.blocks.push("Y"===y?4:2)})},getISOFormatDate:function(){var D=this,y=D.date;return y[2]?y[2]+"-"+D.addLeadingZero(y[1])+"-"+D.addLeadingZero(y[0]):""},getBlocks:function(){return this.blocks},getValidatedDate:function(D){var y=this,p="";return D=D.replace(/[^\d]/g,""),y.blocks.forEach(function(I,E){if(D.length>0){var k=D.slice(0,I),G=k.slice(0,1),q=D.slice(I);switch(y.datePattern[E]){case"d":"00"===k?k="01":parseInt(G,10)>3?k="0"+G:parseInt(k,10)>31&&(k="31");break;case"m":"00"===k?k="01":parseInt(G,10)>1?k="0"+G:parseInt(k,10)>12&&(k="12")}p+=k,D=q}}),this.getFixedDateString(p)},getFixedDateString:function(D){var y,p,I,E=this,k=E.datePattern,G=[],q=0,ot=0,x=0,Z=0,et=0,gt=0,at=!1;return 4===D.length&&"y"!==k[0].toLowerCase()&&"y"!==k[1].toLowerCase()&&(et=2-(Z="d"===k[0]?0:2),y=parseInt(D.slice(Z,Z+2),10),p=parseInt(D.slice(et,et+2),10),G=this.getFixedDate(y,p,0)),8===D.length&&(k.forEach(function(Xt,re){switch(Xt){case"d":q=re;break;case"m":ot=re;break;default:x=re}}),gt=2*x,Z=q<=x?2*q:2*q+2,et=ot<=x?2*ot:2*ot+2,y=parseInt(D.slice(Z,Z+2),10),p=parseInt(D.slice(et,et+2),10),I=parseInt(D.slice(gt,gt+4),10),at=4===D.slice(gt,gt+4).length,G=this.getFixedDate(y,p,I)),4!==D.length||"y"!==k[0]&&"y"!==k[1]||(gt=2-(et="m"===k[0]?0:2),p=parseInt(D.slice(et,et+2),10),I=parseInt(D.slice(gt,gt+2),10),at=2===D.slice(gt,gt+2).length,G=[0,p,I]),6!==D.length||"Y"!==k[0]&&"Y"!==k[1]||(gt=2-.5*(et="m"===k[0]?0:4),p=parseInt(D.slice(et,et+2),10),I=parseInt(D.slice(gt,gt+4),10),at=4===D.slice(gt,gt+4).length,G=[0,p,I]),G=E.getRangeFixedDate(G),E.date=G,0===G.length?D:k.reduce(function(Xt,re){switch(re){case"d":return Xt+(0===G[0]?"":E.addLeadingZero(G[0]));case"m":return Xt+(0===G[1]?"":E.addLeadingZero(G[1]));case"y":return Xt+(at?E.addLeadingZeroForYear(G[2],!1):"");case"Y":return Xt+(at?E.addLeadingZeroForYear(G[2],!0):"")}},"")},getRangeFixedDate:function(D){var y=this,I=y.dateMin||[],E=y.dateMax||[];return!D.length||I.length<3&&E.length<3||y.datePattern.find(function(k){return"y"===k.toLowerCase()})&&0===D[2]?D:E.length&&(E[2]<D[2]||E[2]===D[2]&&(E[1]<D[1]||E[1]===D[1]&&E[0]<D[0]))?E:I.length&&(I[2]>D[2]||I[2]===D[2]&&(I[1]>D[1]||I[1]===D[1]&&I[0]>D[0]))?I:D},getFixedDate:function(D,y,p){return D=Math.min(D,31),y=Math.min(y,12),p=parseInt(p||0,10),(y<7&&y%2==0||y>8&&y%2==1)&&(D=Math.min(D,2===y?this.isLeapYear(p)?29:28:30)),[D,y,p]},isLeapYear:function(D){return D%4==0&&D%100!=0||D%400==0},addLeadingZero:function(D){return(D<10?"0":"")+D},addLeadingZeroForYear:function(D,y){return y?(D<10?"000":D<100?"00":D<1e3?"0":"")+D:(D<10?"0":"")+D}},M.exports=Ot},function(M,Q){"use strict";var Ot=function(D,y){var p=this;p.time=[],p.blocks=[],p.timePattern=D,p.timeFormat=y,p.initBlocks()};Ot.prototype={initBlocks:function(){var D=this;D.timePattern.forEach(function(){D.blocks.push(2)})},getISOFormatTime:function(){var D=this,y=D.time;return y[2]?D.addLeadingZero(y[0])+":"+D.addLeadingZero(y[1])+":"+D.addLeadingZero(y[2]):""},getBlocks:function(){return this.blocks},getTimeFormatOptions:function(){return"12"===String(this.timeFormat)?{maxHourFirstDigit:1,maxHours:12,maxMinutesFirstDigit:5,maxMinutes:60}:{maxHourFirstDigit:2,maxHours:23,maxMinutesFirstDigit:5,maxMinutes:60}},getValidatedTime:function(D){var y=this,p="";D=D.replace(/[^\d]/g,"");var I=y.getTimeFormatOptions();return y.blocks.forEach(function(E,k){if(D.length>0){var G=D.slice(0,E),q=G.slice(0,1),ot=D.slice(E);switch(y.timePattern[k]){case"h":parseInt(q,10)>I.maxHourFirstDigit?G="0"+q:parseInt(G,10)>I.maxHours&&(G=I.maxHours+"");break;case"m":case"s":parseInt(q,10)>I.maxMinutesFirstDigit?G="0"+q:parseInt(G,10)>I.maxMinutes&&(G=I.maxMinutes+"")}p+=G,D=ot}}),this.getFixedTimeString(p)},getFixedTimeString:function(D){var y,p,I,E=this,k=E.timePattern,G=[],q=0,ot=0,x=0,Z=0,et=0,gt=0;return 6===D.length&&(k.forEach(function(at,_t){switch(at){case"s":q=2*_t;break;case"m":ot=2*_t;break;case"h":x=2*_t}}),gt=x,et=ot,Z=q,y=parseInt(D.slice(Z,Z+2),10),p=parseInt(D.slice(et,et+2),10),I=parseInt(D.slice(gt,gt+2),10),G=this.getFixedTime(I,p,y)),4===D.length&&E.timePattern.indexOf("s")<0&&(k.forEach(function(at,_t){switch(at){case"m":ot=2*_t;break;case"h":x=2*_t}}),gt=x,et=ot,y=0,p=parseInt(D.slice(et,et+2),10),I=parseInt(D.slice(gt,gt+2),10),G=this.getFixedTime(I,p,y)),E.time=G,0===G.length?D:k.reduce(function(at,_t){switch(_t){case"s":return at+E.addLeadingZero(G[2]);case"m":return at+E.addLeadingZero(G[1]);case"h":return at+E.addLeadingZero(G[0])}},"")},getFixedTime:function(D,y,p){return p=Math.min(parseInt(p||0,10),60),y=Math.min(y,60),[D=Math.min(D,60),y,p]},addLeadingZero:function(D){return(D<10?"0":"")+D}},M.exports=Ot},function(M,Q){"use strict";var Ot=function(D,y){var p=this;p.delimiter=y||""===y?y:" ",p.delimiterRE=y?new RegExp("\\"+y,"g"):"",p.formatter=D};Ot.prototype={setFormatter:function(D){this.formatter=D},format:function(D){var y=this;y.formatter.clear();for(var p,I="",E=!1,k=0,G=(D=(D=(D=D.replace(/[^\d+]/g,"")).replace(/^\+/,"B").replace(/\+/g,"").replace("B","+")).replace(y.delimiterRE,"")).length;k<G;k++)p=y.formatter.inputDigit(D.charAt(k)),/[\s()-]/g.test(p)?(I=p,E=!0):E||(I=p);return(I=I.replace(/[()]/g,"")).replace(/[\s-]/g,y.delimiter)}},M.exports=Ot},function(M,Q){"use strict";var Ot={blocks:{uatp:[4,5,6],amex:[4,6,5],diners:[4,6,4],discover:[4,4,4,4],mastercard:[4,4,4,4],dankort:[4,4,4,4],instapayment:[4,4,4,4],jcb15:[4,6,5],jcb:[4,4,4,4],maestro:[4,4,4,4],visa:[4,4,4,4],mir:[4,4,4,4],unionPay:[4,4,4,4],general:[4,4,4,4]},re:{uatp:/^(?!1800)1\d{0,14}/,amex:/^3[47]\d{0,13}/,discover:/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,diners:/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,mastercard:/^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,dankort:/^(5019|4175|4571)\d{0,12}/,instapayment:/^63[7-9]\d{0,13}/,jcb15:/^(?:2131|1800)\d{0,11}/,jcb:/^(?:35\d{0,2})\d{0,12}/,maestro:/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,mir:/^220[0-4]\d{0,12}/,visa:/^4\d{0,15}/,unionPay:/^(62|81)\d{0,14}/},getStrictBlocks:function(D){var y=D.reduce(function(p,I){return p+I},0);return D.concat(19-y)},getInfo:function(D,y){var p=Ot.blocks,I=Ot.re;for(var E in y=!!y,I)if(I[E].test(D)){var k=p[E];return{type:E,blocks:y?this.getStrictBlocks(k):k}}return{type:"unknown",blocks:y?this.getStrictBlocks(p.general):p.general}}};M.exports=Ot},function(M,Q){"use strict";M.exports={noop:function(){},strip:function(D,y){return D.replace(y,"")},getPostDelimiter:function(D,y,p){if(0===p.length)return D.slice(-y.length)===y?y:"";var I="";return p.forEach(function(E){D.slice(-E.length)===E&&(I=E)}),I},getDelimiterREByDelimiter:function(D){return new RegExp(D.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g")},getNextCursorPosition:function(D,y,p,I,E){return y.length===D?p.length:D+this.getPositionOffset(D,y,p,I,E)},getPositionOffset:function(D,y,p,I,E){var k,G,q;return k=this.stripDelimiters(y.slice(0,D),I,E),G=this.stripDelimiters(p.slice(0,D),I,E),0!=(q=k.length-G.length)?q/Math.abs(q):0},stripDelimiters:function(D,y,p){var I=this;if(0===p.length){var E=y?I.getDelimiterREByDelimiter(y):"";return D.replace(E,"")}return p.forEach(function(k){k.split("").forEach(function(G){D=D.replace(I.getDelimiterREByDelimiter(G),"")})}),D},headStr:function(D,y){return D.slice(0,y)},getMaxLength:function(D){return D.reduce(function(y,p){return y+p},0)},getPrefixStrippedValue:function(D,y,p,I,E,k,G,q,ot){if(0===p)return D;if(D===y&&""!==D)return"";if(ot&&"-"==D.slice(0,1)){var x="-"==I.slice(0,1)?I.slice(1):I;return"-"+this.getPrefixStrippedValue(D.slice(1),y,p,x,E,k,G,q,ot)}if(I.slice(0,p)!==y&&!q||I.slice(-p)!==y&&q)return G&&!I&&D?D:"";var Z=this.stripDelimiters(I,E,k);return D.slice(0,p)===y||q?D.slice(-p)!==y&&q?Z.slice(0,-p-1):q?D.slice(0,-p):D.slice(p):Z.slice(p)},getFirstDiffIndex:function(D,y){for(var p=0;D.charAt(p)===y.charAt(p);)if(""===D.charAt(p++))return-1;return p},getFormattedValue:function(D,y,p,I,E,k){var G="",q=E.length>0,ot="";return 0===p?D:(y.forEach(function(x,Z){if(D.length>0){var et=D.slice(0,x),gt=D.slice(x);ot=q?E[k?Z-1:Z]||ot:I,k?(Z>0&&(G+=ot),G+=et):(G+=et,et.length===x&&Z<p-1&&(G+=ot)),D=gt}}),G)},fixPrefixCursor:function(D,y,p,I){if(D){var E=D.value;if(D.setSelectionRange&&y&&!(y.length+(p||I[0]||" ").length<=E.length)){var G=2*E.length;setTimeout(function(){D.setSelectionRange(G,G)},1)}}},checkFullSelection:function(D){try{return(window.getSelection()||document.getSelection()||{}).toString().length===D.length}catch(p){}return!1},setSelection:function(D,y,p){if(D===this.getActiveElement(p)&&!(D&&D.value.length<=y))if(D.createTextRange){var I=D.createTextRange();I.move("character",y),I.select()}else try{D.setSelectionRange(y,y)}catch(E){console.warn("The input element type does not support selection")}},getActiveElement:function(D){var y=D.activeElement;return y&&y.shadowRoot?this.getActiveElement(y.shadowRoot):y},isAndroid:function(){return navigator&&/android/i.test(navigator.userAgent)},isAndroidBackspaceKeydown:function(D,y){return!!(this.isAndroid()&&D&&y)&&y===D.slice(0,-1)}}},function(M,Q){(function(Ot){"use strict";M.exports={assign:function(y,p){return(y=y||{}).creditCard=!!(p=p||{}).creditCard,y.creditCardStrictMode=!!p.creditCardStrictMode,y.creditCardType="",y.onCreditCardTypeChanged=p.onCreditCardTypeChanged||function(){},y.phone=!!p.phone,y.phoneRegionCode=p.phoneRegionCode||"AU",y.phoneFormatter={},y.time=!!p.time,y.timePattern=p.timePattern||["h","m","s"],y.timeFormat=p.timeFormat||"24",y.timeFormatter={},y.date=!!p.date,y.datePattern=p.datePattern||["d","m","Y"],y.dateMin=p.dateMin||"",y.dateMax=p.dateMax||"",y.dateFormatter={},y.numeral=!!p.numeral,y.numeralIntegerScale=p.numeralIntegerScale>0?p.numeralIntegerScale:0,y.numeralDecimalScale=p.numeralDecimalScale>=0?p.numeralDecimalScale:2,y.numeralDecimalMark=p.numeralDecimalMark||".",y.numeralThousandsGroupStyle=p.numeralThousandsGroupStyle||"thousand",y.numeralPositiveOnly=!!p.numeralPositiveOnly,y.stripLeadingZeroes=!1!==p.stripLeadingZeroes,y.signBeforePrefix=!!p.signBeforePrefix,y.tailPrefix=!!p.tailPrefix,y.swapHiddenInput=!!p.swapHiddenInput,y.numericOnly=y.creditCard||y.date||!!p.numericOnly,y.uppercase=!!p.uppercase,y.lowercase=!!p.lowercase,y.prefix=y.creditCard||y.date?"":p.prefix||"",y.noImmediatePrefix=!!p.noImmediatePrefix,y.prefixLength=y.prefix.length,y.rawValueTrimPrefix=!!p.rawValueTrimPrefix,y.copyDelimiter=!!p.copyDelimiter,y.initValue=null!=p.initValue?p.initValue.toString():"",y.delimiter=p.delimiter||""===p.delimiter?p.delimiter:p.date?"/":p.time?":":p.numeral?",":" ",y.delimiterLength=y.delimiter.length,y.delimiterLazyShow=!!p.delimiterLazyShow,y.delimiters=p.delimiters||[],y.blocks=p.blocks||[],y.blocksLength=y.blocks.length,y.root="object"==typeof Ot&&Ot?Ot:window,y.document=p.document||y.root.document,y.maxLength=0,y.backspace=!1,y.result="",y.onValueChanged=p.onValueChanged||function(){},y}}}).call(Q,function(){return this}())}])});